<% var messages = (frame.get('conversation') && frame.get('conversation').get('messages')) || [] %>
<% var creator = frame.get('creator') %>
<% var creatorThumbnail = creator ? (creator.get('user_image_original') || creator.get('user_image')) : undefined %>
<% var frameThumbnail = frame.get('video').get('thumbnail_url') %>
<% var thumbnailText = (creator ? "posted by " + creator.get('nickname') : "video thumbnail") %>
<% var frameIsOnWatchLaterRoll = frame.isOnRoll(shelby.models.user.get('watch_later_roll')) %>

<div class="guide-overlay-header conversation-header">
  <div class="guide-overlay-title">
    <button class="back js-track-event" data-ga_category="Conversation" data-ga_action="cancel" data-ga_label='<%= shelby.models.user.get('nickname') %>'>
      Back
    </button>
    <h2>Comments</h2>
  </div>
  
  <%=
    JST['wide-thumbnail-overlay']({
      creatorName : creator.get('nickname'),
      showThumbnail : true,
      thumbnail : frameThumbnail,
      title : frame.get('video').get('title')
    })
  %>

<div class="conversation-scroller">
  <ul class="conversation frame-conversation"></ul>
  
  <form class="new-comment clearfix">
    <textarea class="js-add-message-input new-comment-input" rows="1"></textarea>
    <div class="js-frame-comment-error-message frame-comment-error-message"></div>
    <button class="new-comment-submit js-new-comment-submit js-track-event" data-ga_category="Frame" data-ga_action="comment" data-ga_label="<%= shelby.models.user.get('nickname') %>">Comment</button>
  </form>
</div>