<!-- FACEBOOK -->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="content-wrapper clearfix">
  <header class="seovideo-head clearfix" role="banner">
    <div class="shelby-header clearfix">
      <a href="http://shelby.tv" class="shelby-logo">
        <h1 class="shelby-title ir">
          Shelby.tv
        </h1>
      </a>
      <!-- TODO: copy Login button from new Landing page stuff -->
    </div>

    <div class="seovideo-subhead clearfix">
      <div class="seovideo-signup">
        <h2 class="seovideo-subheader">
          Explore amazing collections of video on Shelby without logging in.
        </h2>
        <a href="http://shelby.tv/explore" title="Click to Explore Shelby.tv!" class="seovideo-button js-track-event" data-ga_category="SEO Video" data-ga_action="Click on Explore Button" data-ga_label="<%= @video_title %>">
          Explore Shelby
        </a>
      </div>
      

      <h2 class="seovideo-subheader">
        Shelby is a simple new way to enjoy video.
      </h2>

      <%= render :partial => "/home/shelf/interest_email_form" %>
      
    </div>
  </header>

  <div class="seovideo__wrapper">
    <article role="main" class="seovideo">
      <div class="seovideo__main">
        <h2 class="seovideo__h2">
          <%= @video_title %>
        </h2>
        <div class="seovideo__video_wrapper">
          <div class="seovideo__video">
            <% if @video_provider_name == "youtube" %>
              <%= render :partial => "youtube_embed", :locals => { :video_provider_id => @video_provider_id } %>
            <% else %>
              <%= raw @video_embed %>
            <% end %>          
          </div>

          <div class="seovideo__video_details">
            <p>
              Author: <%= @video_author %>
            </p>
   
            <p>
              Description: <%= @video_description %>
            </p>
          </div><!-- eo .seovideo-details -->

          <div class="seovideo__social" hidden>
            <ul class="seovideo__list">
              <li class="seovideo__item seovideo__item--social_button clearfix">
                <div class="fb-like clearfix" data-href="http://shelby.tv/video/<%= @video_provider_name %>/<%= @video_provider_id %>/<%= hyphenateString(@video_title) %>" data-send="false" data-layout="box_count" data-width="90" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="seovideo__item seovideo__item--social_button clearfix">
                <a href="https://twitter.com/share" class="twitter-share-button clearfix" data-url="http://shelby.tv/video/<%= @video_provider_name %>/<%= @video_provider_id %>/<%= hyphenateString(@video_title) %>" data-count="none" data-text="<%= @video_title %> via @Shelby">Tweet</a>
              </li>

              <li class="seovideo__item seovideo__item--social_button clearfix">
                <div class="g-plusone-wrapper clearfix">
                  <div class="g-plusone clearfix" data-size="medium" data-annotation="none"></div>
                </div>
              </li>
            </ul>
          </div><!-- eo .seovideo__video_social -->
        </div><!-- eo .seovideo__video_wrapper -->     
      </div><!-- eo .seovideo__main -->

      <aside class="seovideo__aside">
        <% if !@video_related_videos.empty? %>
          <div class="seovideo__aside_lining">
            <h3 class="seovideo__h3">
              Related Video
            </h3>

            <ul class="seovideo__list seovideo__list--aside">
              <% @video_related_videos.each do |related_video| %>
                <li class="seovideo__item">
                  <a href="http://shelby.tv/video/<%= related_video["provider_name"] %>/<%= related_video["provider_id"] %>/<%= hyphenateString(related_video["title"]) %>" 
                    class="seovideo-relatedvideo-link js-track-event" title="<%= related_video["title"] %>" 
                    data-ga_category="SEO Video" 
                    data-ga_action="Click on Related Video" 
                    data-ga_label="<%= @video_title %>">
                      <img src="<%= related_video["thumbnail_url"] %>" alt="<%= related_video["title"] %>" title="<%= related_video["title"] %>" />

                      <h4 class="seovideo__h4">
                        <%= related_video["title"] %>
                      </h4>
                   </a>
                </li>
              <% end %>
            </ul>
          </div>
        <% end %>
      </aside><!-- eo .seovideo__aside -->

      <div class="seovideo__messages">
        <% if @messages %>
          <% if @messages[:shelby].length > 0 %>
            <h3 class="seovideo-column-header">
            Shelby Rolls
            </h3>
            <ul class="list_module seovideo-messages-list">
            <% @messages[:shelby].each do |message| %>
              <%= render :partial => "generic_message", :locals => { :message => message } %>
            <% end %>
            </ul>
          <% end %>
          <% if @messages[:facebook].length > 0 %>
            <h3 class="seovideo-column-header">
            Facebook Shares
            </h3>
            <ul class="list_module seovideo-messages-list">
            <% @messages[:facebook].each do |message| %>
              <%= render :partial => "generic_message", :locals => { :message => message } %>
            <% end %>
            </ul>
          <% end %>
          <% if @messages[:twitter].length > 0 %>
            <h3 class="seovideo-column-header">
            Twitter Tweets
            </h3>
            <ul class="list_module seovideo-messages-list">
            <% @messages[:twitter].each do |message| %>
              <%= render :partial => "twitter_message", :locals => { :message => message } %>
            <% end %>
            </ul>
          <% end %>
          <% if @messages[:tumblr].length > 0 %>
            <h3 class="seovideo-column-header">
            Tumblr Posts
            </h3>
            <ul class="list_module seovideo-messages-list">
            <% @messages[:tumblr].each do |message| %>
              <%= render :partial => "generic_message", :locals => { :message => message } %>
            <% end %>
            </ul>
          <% end %>
        <% end %>
      </div><!-- eo .seovideo__messages -->
    </article><!-- eo .seovideo -->
  </div>
</div><!-- eo .content-wrapper -->

<!-- TWITTER INTENTS -->
<script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>

<!-- TWITTER -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

<!-- GOOGLE PLUS -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

<!-- Email Submit -->
<script type="text/javascript">
$(document).ready(function(){
  $('#js-email-form').on('submit', function(){
    $.get('<%= "#{Settings::ShelbyAPI.url}#{Settings::ShelbyAPI.version}" %>/POST/gt_interest', $(this).serialize(), function(data) {
      $('#js-email-form').addClass('hidden');
      $('#js-thankyou').removeClass('hidden');
    }, 'jsonp');
    return false;
  });
});
</script>