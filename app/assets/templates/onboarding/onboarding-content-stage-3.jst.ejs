<%
  var authed_providers = [];
	if (shelby.models.user.get('authentications') != null){
	  shelby.models.user.get('authentications').forEach(function(auth){
	    authed_providers.push(auth.provider);
	  });		
	}
%>

<div class="onboarding-head">
  <h1 class="onboarding-header">
    Comment and Share
  </h1>
  <h2 class="onboarding-subheader">
    Connect your favorite network.
  </h2>
</div>

<ul class="clearfix onboarding-network-list">
  
  <% ['twitter', 'facebook', 'tumblr'].forEach(function(network){ %>

    <%
      var connected_network, disabled = '';
      if( _.include(authed_providers, network) ){
        connected_network = 'connected-network';
        disabled = 'disabled';
      }
    %>

    <li class="onboarding-network-item js-onboarding-network-item">
      <div class="onboarding-network-item-lining">
        <button <%= disabled %> class="<%= connected_network %> js-oauth-popup onboarding-network-button onboarding-network-<%= network %>" type="button" popup-width="600" popup-height="700" location="http://api.shelby.tv/auth/<%= network %>">
          <i class="ir onboarding-icon">
            <%= network %>
          </i>
        </button>
      </div>
    </li>
  <% }); %>

</ul>

<button class="js-onboarding-next-step onboarding-next-step">
  Next
</button>
