/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.2 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/*!
 * jQuery JavaScript Library v1.9.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-1-14
 */

/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */

/*! jQuery Migrate v1.1.0 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */

/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */

/*
 * to-markdown - an HTML to Markdown converter
 *
 * Copyright 2011, Dom Christie
 * Licenced under the MIT licence
 *
 */

// Released under MIT license

// Copyright (c) 2009-2010 Dominic Baggott

// Copyright (c) 2009-2010 Ash Berlin

// Copyright (c) 2011 Christoph Dorn <christoph@christophdorn.com> (http://www.christophdorn.com)

/*!
jQuery Waypoints - v1.1.7
Copyright (c) 2011-2012 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/MIT-license.txt
https://github.com/imakewebthings/jquery-waypoints/blob/master/GPL-license.txt
*/

/* ===========================================================
 * bootstrap-tooltip.js v2.0.1
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* ===================================================
 * bootstrap-transition.js v2.3.0
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* =========================================================
 * bootstrap-modal.js v2.0.1
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */

/*! Copyright (c) 2006 Brandon Aaron (brandon.aaron@gmail.com || http://brandonaaron.net)
* Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) 
* and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
*/

/**
 * Copyright 2012 Craig Campbell
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Mousetrap is a simple keyboard shortcut library for Javascript with
 * no external dependencies
 *
 * @version 1.1.1
 * @url craig.is/killing/mice
 */

/*! http://mths.be/visibility v1.0.5 by @mathias */

/*! Hammer.JS - v1.0.5 - 2013-04-07
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */

/*!
 * Platform.js v1.0.0 <http://mths.be/platform>
 * Copyright 2010-2014 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <http://mths.be/mit>
 */

/* ============================================================
 * bootstrap-dropdown.js v2.0.4
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* ========================================================
 * bootstrap-tab.js v2.0.1
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */

/* ===========================================================
 * bootstrap-popover.js v2.0.1
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */

var requirejs,require,define;(function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;e.length>n&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,r){(n||!hasProp(e,r))&&(i&&"string"!=typeof t?(e[r]||(e[r]={}),mixin(e[r],t,n,i)):e[r]=t)}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var r=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return r.requireType=e,r.requireModules=i,n&&(r.originalError=n),r}function newContext(e){function t(e){var t,n;for(t=0;e[t];t+=1)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var r,o,s,a,l,u,c,d,h,p,f,m=n&&n.split("/"),g=m,v=_.map,y=v&&v["*"];if(e&&"."===e.charAt(0)&&(n?(g=getOwn(_.pkgs,n)?m=[n]:m.slice(0,m.length-1),e=g.concat(e.split("/")),t(e),o=getOwn(_.pkgs,r=e[0]),e=e.join("/"),o&&e===r+"/"+o.main&&(e=r)):0===e.indexOf("./")&&(e=e.substring(2))),i&&(m||y)&&v){for(a=e.split("/"),l=a.length;l>0;l-=1){if(c=a.slice(0,l).join("/"),m)for(u=m.length;u>0;u-=1)if(s=getOwn(v,m.slice(0,u).join("/")),s&&(s=getOwn(s,c))){d=s,h=l;break}if(d)break;!p&&y&&getOwn(y,c)&&(p=getOwn(y,c),f=l)}!d&&p&&(d=p,h=f),d&&(a.splice(0,h,d),e=a.join("/"))}return e}function i(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName?(t.parentNode.removeChild(t),!0):void 0})}function r(e){var t=getOwn(_.paths,e);return t&&isArray(t)&&t.length>1?(i(e),t.shift(),w.require.undef(e),w.require([e]),!0):void 0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e,t,i,r){var s,a,l,u,c=null,d=t?t.name:null,h=e,p=!0,f="";return e||(p=!1,e="_@r"+(j+=1)),u=o(e),c=u[0],e=u[1],c&&(c=n(c,d,r),a=getOwn(E,c)),e&&(c?f=a&&a.normalize?a.normalize(e,function(e){return n(e,d,r)}):n(e,d,r):(f=n(e,d,r),u=o(f),c=u[0],f=u[1],i=!0,s=w.nameToUrl(f))),l=!c||a||i?"":"_unnormalized"+(D+=1),{prefix:c,name:f,parentMap:t,unnormalized:!!l,url:s,originalName:h,isDefine:p,id:(c?c+"!"+f:f)+l}}function a(e){var t=e.id,n=getOwn(C,t);return n||(n=C[t]=new w.Module(e)),n}function l(e,t,n){var i=e.id,r=getOwn(C,i);!hasProp(E,i)||r&&!r.defineEmitComplete?a(e).on(t,n):"defined"===t&&n(E[i])}function u(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(C,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function c(){globalDefQueue.length&&(apsp.apply(S,[S.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function d(e){delete C[e]}function h(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,r){var o=i.id,s=getOwn(C,o);!s||e.depMatched[r]||n[o]||(getOwn(t,o)?(e.defineDep(r,E[o]),e.check()):h(s,t,n))}),n[i]=!0)}function p(){var e,t,n,o,s=1e3*_.waitSeconds,a=s&&(new Date).getTime()>w.startTime+s,l=[],c=[],d=!1,f=!0;if(!y){if(y=!0,eachProp(C,function(n){if(e=n.map,t=e.id,n.enabled&&(e.isDefine||c.push(n),!n.error))if(!n.inited&&a)r(t)?(o=!0,d=!0):(l.push(t),i(t));else if(!n.inited&&n.fetched&&e.isDefine&&(d=!0,!e.prefix))return f=!1}),a&&l.length)return n=makeError("timeout","Load timeout for modules: "+l,null,l),n.contextName=w.contextName,u(n);f&&each(c,function(e){h(e,{},{})}),a&&!o||!d||!isBrowser&&!isWebWorker||k||(k=setTimeout(function(){k=0,p()},50)),y=!1}}function f(e){hasProp(E,e[0])||a(s(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,w.onScriptLoad,"load","onreadystatechange"),m(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(c();S.length;){if(e=S.shift(),null===e[0])return u(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));f(e)}}var y,b,w,x,k,_={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},map:{},config:{}},C={},T={},S=[],E={},$={},j=1,D=1;return x={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?e.exports:e.exports=E[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return _.config&&getOwn(_.config,e.map.id)||{}},exports:E[e.map.id]}}},b=function(e){this.events=getOwn(T,e.id)||{},this.map=e,this.shim=getOwn(_.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;return this.shim?(w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})),void 0):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;$[e]||($[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,r=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(isFunction(o)){if(this.events.error)try{r=w.execCb(n,o,i,r)}catch(s){e=s}else r=w.execCb(n,o,i,r);if(this.map.isDefine&&(t=this.module,t&&void 0!==t.exports&&t.exports!==this.exports?r=t.exports:void 0===r&&this.usingExports&&(r=this.exports)),e)return e.requireMap=this.map,e.requireModules=[this.map.id],e.requireType="define",u(this.error=e)}else r=o;this.exports=r,this.map.isDefine&&!this.ignore&&(E[n]=r,req.onResourceLoad&&req.onResourceLoad(w,this.map,this.depMaps)),delete C[n],this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=s(e.prefix);this.depMaps.push(i),l(i,"defined",bind(this,function(i){var r,o,c,h=this.map.name,p=this.map.parentMap?this.map.parentMap.name:null,f=w.makeRequire(e.parentMap,{enableBuildCallback:!0,skipMap:!0});return this.map.unnormalized?(i.normalize&&(h=i.normalize(h,function(e){return n(e,p,!0)})||""),o=s(e.prefix+"!"+h,this.map.parentMap),l(o,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),c=getOwn(C,o.id),c&&(this.depMaps.push(o),this.events.error&&c.on("error",bind(this,function(e){this.emit("error",e)})),c.enable()),void 0):(r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),r.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(C,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&d(e.map.id)}),u(e)}),r.fromText=bind(this,function(n,i){var o=e.name,l=s(o),u=useInteractive;i&&(n=i),u&&(useInteractive=!1),a(l),hasProp(_.config,t)&&(_.config[o]=_.config[t]);try{req.exec(n)}catch(c){throw Error("fromText eval for "+o+" failed: "+c)}u&&(useInteractive=!0),this.depMaps.push(l),w.completeLoad(o),f([o],r)}),i.load(e.name,f,r,_),void 0)})),w.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,r;if("string"==typeof e){if(e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,r=getOwn(x,e.id))return this.depExports[t]=r(this),void 0;this.depCount+=1,l(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&l(e,"error",this.errback)}n=e.id,i=C[n],hasProp(x,n)||!i||i.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(C,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:_,contextName:e,registry:C,defined:E,urlFetched:$,defQueue:S,Module:b,makeModuleMap:s,nextTick:req.nextTick,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=_.pkgs,n=_.shim,i={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?"map"===t?mixin(_[t],e,!0,!0):mixin(_[t],e,!0):_[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),n[t]=e}),_.shim=n),e.packages&&(each(e.packages,function(e){var n;e="string"==typeof e?{name:e}:e,n=e.location,t[e.name]={name:e.name,location:n||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),_.pkgs=t),eachProp(C,function(e,t){e.inited||e.map.unnormalized||(e.map=s(t))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function r(n,o,l){var c,d,h;return i.enableBuildCallback&&o&&isFunction(o)&&(o.__requireJsBuild=!0),"string"==typeof n?isFunction(o)?u(makeError("requireargs","Invalid require call"),l):t&&hasProp(x,n)?x[n](C[t.id]):req.get?req.get(w,n,t):(d=s(n,t,!1,!0),c=d.id,hasProp(E,c)?E[c]:u(makeError("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),w.nextTick(function(){v(),h=a(s(null,t)),h.skipMap=i.skipMap,h.init(n,o,l,{enabled:!0}),p()}),r)}return i=i||{},mixin(r,{isBrowser:isBrowser,toUrl:function(e){var i=e.lastIndexOf("."),r=null;return-1!==i&&(r=e.substring(i,e.length),e=e.substring(0,i)),w.nameToUrl(n(e,t&&t.id,!0),r)},defined:function(e){return hasProp(E,s(e,t,!1,!0).id)},specified:function(e){return e=s(e,t,!1,!0).id,hasProp(E,e)||hasProp(C,e)}}),t||(r.undef=function(e){c();var n=s(e,t,!0),i=getOwn(C,e);delete E[e],delete $[n.url],delete T[e],i&&(i.events.defined&&(T[e]=i.events),d(e))}),r},enable:function(e){var t=getOwn(C,e.id);t&&a(e).enable()},completeLoad:function(e){var t,n,i,o=getOwn(_.shim,e)||{},s=o.exports;for(c();S.length;){if(n=S.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);f(n)}if(i=getOwn(C,e),!t&&!hasProp(E,e)&&i&&!i.inited){if(!(!_.enforceDefine||s&&getGlobal(s)))return r(e)?void 0:u(makeError("nodefine","No define call for "+e,null,[e]));f([e,o.deps||[],o.exportsFn])}p()},nameToUrl:function(e,t){var n,i,r,o,s,a,l,u,c;if(req.jsExtRegExp.test(e))u=e+(t||"");else{for(n=_.paths,i=_.pkgs,s=e.split("/"),a=s.length;a>0;a-=1){if(l=s.slice(0,a).join("/"),r=getOwn(i,l),c=getOwn(n,l)){isArray(c)&&(c=c[0]),s.splice(0,a,c);break}if(r){o=e===r.name?r.location+"/"+r.main:r.location,s.splice(0,a,o);break}}u=s.join("/"),u+=t||(/\?/.test(u)?"":".js"),u=("/"===u.charAt(0)||u.match(/^[\w\+\.\-]+:/)?"":_.baseUrl)+u}return _.urlArgs?u+((-1===u.indexOf("?")?"?":"&")+_.urlArgs):u},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);return r(t.id)?void 0:u(makeError("scripterror","Script error",e,[t.id]))}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.2",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,aps=ap.slice,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"==""+opera,contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(requirejs!==void 0){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,o,s=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=i):e=[]),o&&o.context&&(s=o.context),r=getOwn(contexts,s),r||(r=contexts[s]=req.s.newContext(s)),o&&r.configure(o),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=function(e){throw e},req.load=function(e,t,n){var i,r=e&&e.config||{};return isBrowser?(i=r.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),i.type=r.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&0>(""+i.attachEvent).indexOf("[native code")||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i):(isWebWorker&&(importScripts(n),e.completeLoad(t)),void 0)},isBrowser&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(cfg.baseUrl||(src=dataMain.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath,dataMain=mainScript),dataMain=dataMain.replace(jsSuffixRegExp,""),cfg.deps=cfg.deps?cfg.deps.concat(dataMain):[dataMain],!0):void 0}),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=[]),!t.length&&isFunction(n)&&n.length&&((""+n).replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t)),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(e||(e=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")])),(r?r.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}})(this),define("requireLib",function(){}),function(e,t){function n(e){var t=e.length,n=at.type(e);return at.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=xt[e]={};return at.each(e.match(ut)||[],function(e,n){t[n]=!0}),t}function r(e,n,i,r){if(at.acceptData(e)){var o,s,a=at.expando,l="string"==typeof n,u=e.nodeType,c=u?at.cache:e,d=u?e[a]:e[a]&&a;if(d&&c[d]&&(r||c[d].data)||!l||i!==t)return d||(u?e[a]=d=J.pop()||at.guid++:d=a),c[d]||(c[d]={},u||(c[d].toJSON=at.noop)),("object"==typeof n||"function"==typeof n)&&(r?c[d]=at.extend(c[d],n):c[d].data=at.extend(c[d].data,n)),o=c[d],r||(o.data||(o.data={}),o=o.data),i!==t&&(o[at.camelCase(n)]=i),l?(s=o[n],null==s&&(s=o[at.camelCase(n)])):s=o,s}}function o(e,t,n){if(at.acceptData(e)){var i,r,o,s=e.nodeType,l=s?at.cache:e,u=s?e[at.expando]:at.expando;if(l[u]){if(t&&(i=n?l[u]:l[u].data)){at.isArray(t)?t=t.concat(at.map(t,at.camelCase)):t in i?t=[t]:(t=at.camelCase(t),t=t in i?[t]:t.split(" "));for(r=0,o=t.length;o>r;r++)delete i[t[r]];if(!(n?a:at.isEmptyObject)(i))return}(n||(delete l[u].data,a(l[u])))&&(s?at.cleanData([e],!0):at.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}}function s(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(_t,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:kt.test(i)?at.parseJSON(i):i}catch(o){}at.data(e,n,i)}else i=t}return i}function a(e){var t;for(t in e)if(("data"!==t||!at.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function u(){return!1}function c(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function d(e,t,n){if(t=t||0,at.isFunction(t))return at.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return at.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=at.grep(e,function(e){return 1===e.nodeType});if(Ht.test(t))return at.filter(t,i,!n);t=at.filter(t,i)}return at.grep(e,function(e){return at.inArray(e,t)>=0===n})}function h(e){var t=zt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function p(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=nn.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n,i=0;null!=(n=e[i]);i++)at._data(n,"globalEval",!t||at._data(t[i],"globalEval"))}function v(e,t){if(1===t.nodeType&&at.hasData(e)){var n,i,r,o=at._data(e),s=at._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)at.event.add(t,n,a[n][i])}s.data&&(s.data=at.extend({},s.data))}}function y(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!at.support.noCloneEvent&&t[at.expando]){i=at._data(t);for(r in i.events)at.removeEvent(t,r,i.handle);t.removeAttribute(at.expando)}"script"===n&&t.text!==e.text?(f(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),at.support.html5Clone&&e.innerHTML&&!at.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Zt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function b(e,n){var i,r,o=0,s=e.getElementsByTagName!==t?e.getElementsByTagName(n||"*"):e.querySelectorAll!==t?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],i=e.childNodes||e;null!=(r=i[o]);o++)!n||at.nodeName(r,n)?s.push(r):at.merge(s,b(r,n));return n===t||n&&at.nodeName(e,n)?at.merge([e],s):s}function w(e){Zt.test(e.type)&&(e.defaultChecked=e.checked)}function x(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=_n.length;r--;)if(t=_n[r]+n,t in e)return t;return i}function k(e,t){return e=t||e,"none"===at.css(e,"display")||!at.contains(e.ownerDocument,e)}function _(e,t){for(var n,i=[],r=0,o=e.length;o>r;r++)n=e[r],n.style&&(i[r]=at._data(n,"olddisplay"),t?(i[r]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&k(n)&&(i[r]=at._data(n,"olddisplay",E(n.nodeName)))):i[r]||k(n)||at._data(n,"olddisplay",at.css(n,"display")));for(r=0;o>r;r++)n=e[r],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?i[r]||"":"none"));return e}function C(e,t,n){var i=gn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function T(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=at.css(e,n+kn[o],!0,r)),i?("content"===n&&(s-=at.css(e,"padding"+kn[o],!0,r)),"margin"!==n&&(s-=at.css(e,"border"+kn[o]+"Width",!0,r))):(s+=at.css(e,"padding"+kn[o],!0,r),"padding"!==n&&(s+=at.css(e,"border"+kn[o]+"Width",!0,r)));return s}function S(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=un(e),s=at.support.boxSizing&&"border-box"===at.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=ln(e,t,o),(0>r||null==r)&&(r=e.style[t]),vn.test(r))return r;i=s&&(at.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+T(e,t,n||(s?"border":"content"),i,o)+"px"}function E(e){var t=Q,n=bn[e];return n||(n=$(e,t),"none"!==n&&n||(cn=(cn||at("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(cn[0].contentWindow||cn[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=$(e,t),cn.detach()),bn[e]=n),n}function $(e,t){var n=at(t.createElement(e)).appendTo(t.body),i=at.css(n[0],"display");return n.remove(),i}function j(e,t,n,i){var r;if(at.isArray(t))at.each(t,function(t,r){n||Tn.test(e)?i(e,r):j(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==at.type(t))i(e,t);else for(r in t)j(e+"["+r+"]",t[r],n,i)}function D(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(ut)||[];if(at.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function A(e,n,i,r){function o(l){var u;return s[l]=!0,at.each(e[l]||[],function(e,l){var c=l(n,i,r);return"string"!=typeof c||a||s[c]?a?!(u=c):t:(n.dataTypes.unshift(c),o(c),!1)}),u}var s={},a=e===Un;return o(n.dataTypes[0])||!s["*"]&&o("*")}function N(e,n){var i,r,o=at.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&at.extend(!0,e,r),e}function M(e,n,i){var r,o,s,a,l=e.contents,u=e.dataTypes,c=e.responseFields;for(o in c)o in i&&(n[c[o]]=i[o]);for(;"*"===u[0];)u.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("Content-Type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){u.unshift(o);break}if(u[0]in i)s=u[0];else{for(o in i){if(!u[0]||e.converters[o+" "+u[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==u[0]&&u.unshift(s),i[s]):t}function P(e,t){var n,i,r,o,s={},a=0,l=e.dataTypes.slice(),u=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(n in e.converters)s[n.toLowerCase()]=e.converters[n];for(;r=l[++a];)if("*"!==r){if("*"!==u&&u!==r){if(n=s[u+" "+r]||s["* "+r],!n)for(i in s)if(o=i.split(" "),o[1]===r&&(n=s[u+" "+o[0]]||s["* "+o[0]])){n===!0?n=s[i]:s[i]!==!0&&(r=o[0],l.splice(a--,0,r));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+u+" to "+r}}}u=r}return{state:"success",data:t}}function O(){try{return new e.XMLHttpRequest}catch(t){}}function I(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function q(){return setTimeout(function(){Kn=t}),Kn=at.now()}function R(e,t){at.each(t,function(t,n){for(var i=(ii[t]||[]).concat(ii["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(e,t,n))return})}function F(e,t,n){var i,r,o=0,s=ni.length,a=at.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Kn||q(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(e,[u,o,n]),1>o&&l?n:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:at.extend({},t),opts:at.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Kn||q(),duration:n.duration,tweens:[],createTween:function(t,n){var i=at.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),c=u.props;for(L(c,u.opts.specialEasing);s>o;o++)if(i=ni[o].call(u,e,c,u.opts))return i;return R(u,c),at.isFunction(u.opts.start)&&u.opts.start.call(e,u),at.fx.timer(at.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function L(e,t){var n,i,r,o,s;for(n in e)if(i=at.camelCase(n),r=t[i],o=e[n],at.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=at.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function H(e,t,n){var i,r,o,s,a,l,u,c,d,h=this,p=e.style,f={},m=[],g=e.nodeType&&k(e);n.queue||(c=at._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,d=c.empty.fire,c.empty.fire=function(){c.unqueued||d()}),c.unqueued++,h.always(function(){h.always(function(){c.unqueued--,at.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===at.css(e,"display")&&"none"===at.css(e,"float")&&(at.support.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",at.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],Zn.exec(o)){if(delete t[i],l=l||"toggle"===o,o===(g?"hide":"show"))continue;m.push(i)}if(s=m.length){a=at._data(e,"fxshow")||at._data(e,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?at(e).show():h.done(function(){at(e).hide()}),h.done(function(){var t;at._removeData(e,"fxshow");for(t in f)at.style(e,t,f[t])});for(i=0;s>i;i++)r=m[i],u=h.createTween(r,g?a[r]:0),f[r]=a[r]||at.style(e,r),r in a||(a[r]=u.start,g&&(u.end=u.start,u.start="width"===r||"height"===r?1:0))}}function U(e,t,n,i,r){return new U.prototype.init(e,t,n,i,r)}function B(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=kn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function z(e){return at.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var W,V,Q=e.document,Y=e.location,X=e.jQuery,G=e.$,K={},J=[],Z="1.9.0",et=J.concat,tt=J.push,nt=J.slice,it=J.indexOf,rt=K.toString,ot=K.hasOwnProperty,st=Z.trim,at=function(e,t){return new at.fn.init(e,t,W)},lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ut=/\S+/g,ct=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,dt=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pt=/^[\],:{}\s]*$/,ft=/(?:^|:|,)(?:\s*\[)+/g,mt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,gt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,vt=/^-ms-/,yt=/-([\da-z])/gi,bt=function(e,t){return t.toUpperCase()},wt=function(){Q.addEventListener?(Q.removeEventListener("DOMContentLoaded",wt,!1),at.ready()):"complete"===Q.readyState&&(Q.detachEvent("onreadystatechange",wt),at.ready())};at.fn=at.prototype={jquery:Z,constructor:at,init:function(e,n,i){var r,o;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:dt.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof at?n[0]:n,at.merge(this,at.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:Q,!0)),ht.test(r[1])&&at.isPlainObject(n))for(r in n)at.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(o=Q.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):at.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),at.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return nt.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=at.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return at.each(this,e,t)},ready:function(e){return at.ready.promise().done(e),this},slice:function(){return this.pushStack(nt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(at.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:tt,sort:[].sort,splice:[].splice},at.fn.init.prototype=at.fn,at.extend=at.fn.extend=function(){var e,n,i,r,o,s,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||at.isFunction(a)||(a={}),u===l&&(a=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(n in e)i=a[n],r=e[n],a!==r&&(c&&r&&(at.isPlainObject(r)||(o=at.isArray(r)))?(o?(o=!1,s=i&&at.isArray(i)?i:[]):s=i&&at.isPlainObject(i)?i:{},a[n]=at.extend(c,s,r)):r!==t&&(a[n]=r));return a},at.extend({noConflict:function(t){return e.$===at&&(e.$=G),t&&e.jQuery===at&&(e.jQuery=X),at},isReady:!1,readyWait:1,holdReady:function(e){e?at.readyWait++:at.ready(!0)},ready:function(e){if(e===!0?!--at.readyWait:!at.isReady){if(!Q.body)return setTimeout(at.ready);at.isReady=!0,e!==!0&&--at.readyWait>0||(V.resolveWith(Q,[at]),at.fn.trigger&&at(Q).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===at.type(e)},isArray:Array.isArray||function(e){return"array"===at.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?K[rt.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==at.type(e)||e.nodeType||at.isWindow(e))return!1;try{if(e.constructor&&!ot.call(e,"constructor")&&!ot.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||ot.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var i=ht.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=at.buildFragment([e],t,r),r&&at(r).remove(),at.merge([],i.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=at.trim(n),n&&pt.test(n.replace(mt,"@").replace(gt,"]").replace(ft,"")))?Function("return "+n)():(at.error("Invalid JSON: "+n),t)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||at.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&at.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(vt,"ms-").replace(yt,bt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,s=e.length,a=n(e);if(i){if(a)for(;s>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(a)for(;s>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:st&&!st.call("﻿ ")?function(e){return null==e?"":st.call(e)}:function(e){return null==e?"":(e+"").replace(ct,"")},makeArray:function(e,t){var i=t||[];
return null!=e&&(n(Object(e))?at.merge(i,"string"==typeof e?[e]:e):tt.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(it)return it.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,s=e.length;for(n=!!n;s>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,s=e.length,a=n(e),l=[];if(a)for(;s>o;o++)r=t(e[o],o,i),null!=r&&(l[l.length]=r);else for(o in e)r=t(e[o],o,i),null!=r&&(l[l.length]=r);return et.apply([],l)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(i=e[n],n=e,e=i),at.isFunction(e)?(r=nt.call(arguments,2),o=function(){return e.apply(n||this,r.concat(nt.call(arguments)))},o.guid=e.guid=e.guid||at.guid++,o):t},access:function(e,n,i,r,o,s,a){var l=0,u=e.length,c=null==i;if("object"===at.type(i)){o=!0;for(l in i)at.access(e,n,l,i[l],!0,s,a)}else if(r!==t&&(o=!0,at.isFunction(r)||(a=!0),c&&(a?(n.call(e,r),n=null):(c=n,n=function(e,t,n){return c.call(at(e),n)})),n))for(;u>l;l++)n(e[l],i,a?r:r.call(e[l],l,n(e[l],i)));return o?e:c?n.call(e):u?n(e[0],i):s},now:function(){return(new Date).getTime()}}),at.ready.promise=function(t){if(!V)if(V=at.Deferred(),"loading"!==Q.readyState)setTimeout(at.ready);else if(Q.addEventListener)Q.addEventListener("DOMContentLoaded",wt,!1),e.addEventListener("load",at.ready,!1);else{Q.attachEvent("onreadystatechange",wt),e.attachEvent("onload",at.ready);var n=!1;try{n=null==e.frameElement&&Q.documentElement}catch(i){}n&&n.doScroll&&function r(){if(!at.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}at.ready()}}()}return V.promise(t)},at.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){K["[object "+t+"]"]=t.toLowerCase()}),W=at(Q);var xt={};at.Callbacks=function(e){e="string"==typeof e?xt[e]||i(e):at.extend({},e);var n,r,o,s,a,l,u=[],c=!e.once&&[],d=function(t){for(n=e.memory&&t,r=!0,l=s||0,s=0,a=u.length,o=!0;u&&a>l;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}o=!1,u&&(c?c.length&&d(c.shift()):n?u=[]:h.disable())},h={add:function(){if(u){var t=u.length;(function i(t){at.each(t,function(t,n){var r=at.type(n);"function"===r?e.unique&&h.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),o?a=u.length:n&&(s=t,d(n))}return this},remove:function(){return u&&at.each(arguments,function(e,t){for(var n;(n=at.inArray(t,u,n))>-1;)u.splice(n,1),o&&(a>=n&&a--,l>=n&&l--)}),this},has:function(e){return at.inArray(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=n=t,this},disabled:function(){return!u},lock:function(){return c=t,n||h.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||r&&!c||(o?c.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},at.extend({Deferred:function(e){var t=[["resolve","done",at.Callbacks("once memory"),"resolved"],["reject","fail",at.Callbacks("once memory"),"rejected"],["notify","progress",at.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return at.Deferred(function(n){at.each(t,function(t,o){var s=o[0],a=at.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&at.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?at.extend(e,i):i}},r={};return i.pipe=i.then,at.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=nt.call(arguments),s=o.length,a=1!==s||e&&at.isFunction(e.promise)?s:0,l=1===a?e:at.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?nt.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=Array(s),n=Array(s),i=Array(s);s>r;r++)o[r]&&at.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}}),at.support=function(){var n,i,r,o,s,a,l,u,c,d,h=Q.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=h.getElementsByTagName("*"),r=h.getElementsByTagName("a")[0],!i||!r||!i.length)return{};o=Q.createElement("select"),s=o.appendChild(Q.createElement("option")),a=h.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",n={getSetAttribute:"t"!==h.className,leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!a.value,optSelected:s.selected,enctype:!!Q.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==Q.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===Q.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,n.noCloneChecked=a.cloneNode(!0).checked,o.disabled=!0,n.optDisabled=!s.disabled;try{delete h.test}catch(p){n.deleteExpando=!1}a=Q.createElement("input"),a.setAttribute("value",""),n.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),n.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),l=Q.createDocumentFragment(),l.appendChild(a),n.appendChecked=a.checked,n.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){n.noCloneEvent=!1}),h.cloneNode(!0).click());for(d in{submit:!0,change:!0,focusin:!0})h.setAttribute(u="on"+d,"t"),n[d+"Bubbles"]=u in e||h.attributes[u].expando===!1;return h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",n.clearCloneStyle="content-box"===h.style.backgroundClip,at(function(){var i,r,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=Q.getElementsByTagName("body")[0];a&&(i=Q.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(i).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=h.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",n.reliableHiddenOffsets=c&&0===o[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",n.boxSizing=4===h.offsetWidth,n.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(n.pixelPosition="1%"!==(e.getComputedStyle(h,null)||{}).top,n.boxSizingReliable="4px"===(e.getComputedStyle(h,null)||{width:"4px"}).width,r=h.appendChild(Q.createElement("div")),r.style.cssText=h.style.cssText=s,r.style.marginRight=r.style.width="0",h.style.width="1px",n.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),h.style.zoom!==t&&(h.innerHTML="",h.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",n.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",n.shrinkWrapBlocks=3!==h.offsetWidth,a.style.zoom=1),a.removeChild(i),i=h=o=r=null)}),i=o=l=s=r=a=null,n}();var kt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,_t=/([A-Z])/g;at.extend({cache:{},expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?at.cache[e[at.expando]]:e[at.expando],!!e&&!a(e)},data:function(e,t,n){return r(e,t,n,!1)},removeData:function(e,t){return o(e,t,!1)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){var t=e.nodeName&&at.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),at.fn.extend({data:function(e,n){var i,r,o=this[0],a=0,l=null;if(e===t){if(this.length&&(l=at.data(o),1===o.nodeType&&!at._data(o,"parsedAttrs"))){for(i=o.attributes;i.length>a;a++)r=i[a].name,r.indexOf("data-")||(r=at.camelCase(r.substring(5)),s(o,r,l[r]));at._data(o,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){at.data(this,e)}):at.access(this,function(n){return n===t?o?s(o,e,at.data(o,e)):null:(this.each(function(){at.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){at.removeData(this,e)})}}),at.extend({queue:function(e,n,i){var r;return e?(n=(n||"fx")+"queue",r=at._data(e,n),i&&(!r||at.isArray(i)?r=at._data(e,n,at.makeArray(i)):r.push(i)),r||[]):t},dequeue:function(e,t){t=t||"fx";var n=at.queue(e,t),i=n.length,r=n.shift(),o=at._queueHooks(e,t),s=function(){at.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),o.cur=r,r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return at._data(e,n)||at._data(e,n,{empty:at.Callbacks("once memory").add(function(){at._removeData(e,t+"queue"),at._removeData(e,n)})})}}),at.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),i>arguments.length?at.queue(this[0],e):n===t?this:this.each(function(){var t=at.queue(this,e,n);at._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&at.dequeue(this,e)})},dequeue:function(e){return this.each(function(){at.dequeue(this,e)})},delay:function(e,t){return e=at.fx?at.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=at.Deferred(),s=this,a=this.length,l=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)i=at._data(s[a],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var Ct,Tt,St=/[\t\r\n]/g,Et=/\r/g,$t=/^(?:input|select|textarea|button|object)$/i,jt=/^(?:a|area)$/i,Dt=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,At=/^(?:checked|selected)$/i,Nt=at.support.getSetAttribute,Mt=at.support.input;at.fn.extend({attr:function(e,t){return at.access(this,at.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){at.removeAttr(this,e)})},prop:function(e,t){return at.access(this,at.prop,e,t,arguments.length>1)},removeProp:function(e){return e=at.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,s=0,a=this.length,l="string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(St," "):" ")){for(o=0;r=t[o++];)0>i.indexOf(" "+r+" ")&&(i+=r+" ");n.className=at.trim(i)}return this},removeClass:function(e){var t,n,i,r,o,s=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(at.isFunction(e))return this.each(function(t){at(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(St," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?at.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return at.isFunction(e)?this.each(function(n){at(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,o=0,s=at(this),a=t,l=e.match(ut)||[];r=l[o++];)a=i?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&at._data(this,"__className__",this.className),this.className=this.className||e===!1?"":at._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(St," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=at.isFunction(e),this.each(function(i){var o,s=at(this);1===this.nodeType&&(o=r?e.call(this,i,s.val()):e,null==o?o="":"number"==typeof o?o+="":at.isArray(o)&&(o=at.map(o,function(e){return null==e?"":e+""})),n=at.valHooks[this.type]||at.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=at.valHooks[o.type]||at.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(Et,""):null==i?"":i)}}}),at.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(at.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&at.nodeName(n.parentNode,"optgroup"))){if(t=at(n).val(),o)return t;s.push(t)}return s},set:function(e,t){var n=at.makeArray(t);return at(e).find("option").each(function(){this.selected=at.inArray(at(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,i){var r,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return e.getAttribute===t?at.prop(e,n,i):(s=1!==a||!at.isXMLDoc(e),s&&(n=n.toLowerCase(),o=at.attrHooks[n]||(Dt.test(n)?Tt:Ct)),i===t?o&&s&&"get"in o&&null!==(r=o.get(e,n))?r:(e.getAttribute!==t&&(r=e.getAttribute(n)),null==r?t:r):null!==i?o&&s&&"set"in o&&(r=o.set(e,i,n))!==t?r:(e.setAttribute(n,i+""),i):(at.removeAttr(e,n),t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(ut);if(o&&1===e.nodeType)for(;n=o[r++];)i=at.propFix[n]||n,Dt.test(n)?!Nt&&At.test(n)?e[at.camelCase("default-"+n)]=e[i]=!1:e[i]=!1:at.attr(e,n,""),e.removeAttribute(Nt?n:i)},attrHooks:{type:{set:function(e,t){if(!at.support.radioValue&&"radio"===t&&at.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!at.isXMLDoc(e),s&&(n=at.propFix[n]||n,o=at.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):$t.test(e.nodeName)||jt.test(e.nodeName)&&e.href?0:t}}}}),Tt={get:function(e,n){var i=at.prop(e,n),r="boolean"==typeof i&&e.getAttribute(n),o="boolean"==typeof i?Mt&&Nt?null!=r:At.test(n)?e[at.camelCase("default-"+n)]:!!r:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?at.removeAttr(e,n):Mt&&Nt||!At.test(n)?e.setAttribute(!Nt&&at.propFix[n]||n,n):e[at.camelCase("default-"+n)]=e[n]=!0,n}},Mt&&Nt||(at.attrHooks.value={get:function(e,n){var i=e.getAttributeNode(n);return at.nodeName(e,"input")?e.defaultValue:i&&i.specified?i.value:t},set:function(e,n,i){return at.nodeName(e,"input")?(e.defaultValue=n,t):Ct&&Ct.set(e,n,i)}}),Nt||(Ct=at.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&("id"===n||"name"===n||"coords"===n?""!==i.value:i.specified)?i.value:t},set:function(e,n,i){var r=e.getAttributeNode(i);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},at.attrHooks.contenteditable={get:Ct.get,set:function(e,t,n){Ct.set(e,""===t?!1:t,n)}},at.each(["width","height"],function(e,n){at.attrHooks[n]=at.extend(at.attrHooks[n],{set:function(e,i){return""===i?(e.setAttribute(n,"auto"),i):t}})})),at.support.hrefNormalized||(at.each(["href","src","width","height"],function(e,n){at.attrHooks[n]=at.extend(at.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null==i?t:i}})}),at.each(["href","src"],function(e,t){at.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),at.support.style||(at.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),at.support.optSelected||(at.propHooks.selected=at.extend(at.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),at.support.enctype||(at.propFix.enctype="encoding"),at.support.checkOn||at.each(["radio","checkbox"],function(){at.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),at.each(["radio","checkbox"],function(){at.valHooks[this]=at.extend(at.valHooks[this],{set:function(e,n){return at.isArray(n)?e.checked=at.inArray(at(e).val(),n)>=0:t}})});var Pt=/^(?:input|select|textarea)$/i,Ot=/^key/,It=/^(?:mouse|contextmenu)|click/,qt=/^(?:focusinfocus|focusoutblur)$/,Rt=/^([^.]*)(?:\.(.+)|)$/;at.event={global:{},add:function(e,n,i,r,o){var s,a,l,u,c,d,h,p,f,m,g,v=3!==e.nodeType&&8!==e.nodeType&&at._data(e);if(v){for(i.handler&&(s=i,i=s.handler,o=s.selector),i.guid||(i.guid=at.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return at===t||e&&at.event.triggered===e.type?t:at.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=(n||"").match(ut)||[""],c=n.length;c--;)l=Rt.exec(n[c])||[],f=g=l[1],m=(l[2]||"").split(".").sort(),h=at.event.special[f]||{},f=(o?h.delegateType:h.bindType)||f,h=at.event.special[f]||{},d=at.extend({type:f,origType:g,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&at.expr.match.needsContext.test(o),namespace:m.join(".")},s),(p=u[f])||(p=u[f]=[],p.delegateCount=0,h.setup&&h.setup.call(e,r,m,a)!==!1||(e.addEventListener?e.addEventListener(f,a,!1):e.attachEvent&&e.attachEvent("on"+f,a))),h.add&&(h.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,d):p.push(d),at.event.global[f]=!0;e=null}},remove:function(e,t,n,i,r){var o,s,a,l,u,c,d,h,p,f,m,g=at.hasData(e)&&at._data(e);if(g&&(l=g.events)){for(t=(t||"").match(ut)||[""],u=t.length;u--;)if(a=Rt.exec(t[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(d=at.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=l[p]||[],a=a[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)c=h[o],!r&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));s&&!h.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||at.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)at.event.remove(e,p+t[u],n,i,!0);at.isEmptyObject(l)&&(delete g.handle,at._removeData(e,"events"))}},trigger:function(n,i,r,o){var s,a,l,u,c,d,h,p=[r||Q],f=n.type||n,m=n.namespace?n.namespace.split("."):[];if(a=l=r=r||Q,3!==r.nodeType&&8!==r.nodeType&&!qt.test(f+at.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),c=0>f.indexOf(":")&&"on"+f,n=n[at.expando]?n:new at.Event(f,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:at.makeArray(i,[n]),h=at.event.special[f]||{},o||!h.trigger||h.trigger.apply(r,i)!==!1)){if(!o&&!h.noBubble&&!at.isWindow(r)){for(u=h.delegateType||f,qt.test(u+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),l=a;l===(r.ownerDocument||Q)&&p.push(l.defaultView||l.parentWindow||e)}for(s=0;(a=p[s++])&&!n.isPropagationStopped();)n.type=s>1?u:h.bindType||f,d=(at._data(a,"events")||{})[n.type]&&at._data(a,"handle"),d&&d.apply(a,i),d=c&&a[c],d&&at.acceptData(a)&&d.apply&&d.apply(a,i)===!1&&n.preventDefault();if(n.type=f,!(o||n.isDefaultPrevented()||h._default&&h._default.apply(r.ownerDocument,i)!==!1||"click"===f&&at.nodeName(r,"a")||!at.acceptData(r)||!c||!r[f]||at.isWindow(r))){l=r[c],l&&(r[c]=null),at.event.triggered=f;try{r[f]()}catch(g){}at.event.triggered=t,l&&(r[c]=l)}return n.result}},dispatch:function(e){e=at.event.fix(e);var n,i,r,o,s,a=[],l=nt.call(arguments),u=(at._data(this,"events")||{})[e.type]||[],c=at.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=at.event.handlers.call(this,e,u),n=0;(o=a[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,r=((at.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,o,s,a=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],i=0;l>i;i++)s=n[i],o=s.selector+" ",r[o]===t&&(r[o]=s.needsContext?at(o,this).index(u)>=0:at.find(o,this,null,[u]).length),r[o]&&r.push(s);r.length&&a.push({elem:u,handlers:r})}return n.length>l&&a.push({elem:this,handlers:n.slice(l)}),a},fix:function(e){if(e[at.expando])return e;var t,n,i=e,r=at.event.fixHooks[e.type]||{},o=r.props?this.props.concat(r.props):this.props;for(e=new at.Event(i),t=o.length;t--;)n=o[t],e[n]=i[n];return e.target||(e.target=i.srcElement||Q),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,i):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,s=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||Q,r=i.documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return at.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==Q.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===Q.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=at.extend(new at.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?at.event.trigger(r,null,t):at.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},at.removeEvent=Q.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,n,i){var r="on"+n;e.detachEvent&&(e[r]===t&&(e[r]=null),e.detachEvent(r,i))},at.Event=function(e,n){return this instanceof at.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:u):this.type=e,n&&at.extend(this,n),this.timeStamp=e&&e.timeStamp||at.now(),this[at.expando]=!0,t):new at.Event(e,n)},at.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},at.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){at.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!at.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),at.support.submitBubbles||(at.event.special.submit={setup:function(){return at.nodeName(this,"form")?!1:(at.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=at.nodeName(n,"input")||at.nodeName(n,"button")?n.form:t;i&&!at._data(i,"submitBubbles")&&(at.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),at._data(i,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&at.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return at.nodeName(this,"form")?!1:(at.event.remove(this,"._submit"),t)}}),at.support.changeBubbles||(at.event.special.change={setup:function(){return Pt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(at.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),at.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),at.event.simulate("change",this,e,!0)})),!1):(at.event.add(this,"beforeactivate._change",function(e){var t=e.target;Pt.test(t.nodeName)&&!at._data(t,"changeBubbles")&&(at.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||at.event.simulate("change",this.parentNode,e,!0)}),at._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return at.event.remove(this,"._change"),!Pt.test(this.nodeName)}}),at.support.focusinBubbles||at.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){at.event.simulate(t,e.target,at.event.fix(e),!0)};at.event.special[t]={setup:function(){0===n++&&Q.addEventListener(e,i,!0)},teardown:function(){0===--n&&Q.removeEventListener(e,i,!0)}}}),at.fn.extend({on:function(e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(a in e)this.on(a,n,i,e[a],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=u;else if(!r)return this;return 1===o&&(s=r,r=function(e){return at().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=at.guid++)),this.each(function(){at.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,at(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=u),this.each(function(){at.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){at.event.trigger(e,t,this)})},triggerHandler:function(e,n){var i=this[0];return i?at.event.trigger(e,n,i,!0):t},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),at.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){at.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Ot.test(t)&&(at.event.fixHooks[t]=at.event.keyHooks),It.test(t)&&(at.event.fixHooks[t]=at.event.mouseHooks)}),function(e,t){function n(e){return ft.test(e+"")}function i(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>C.cacheLength&&delete e[t.shift()],e[n]=i}}function r(e){return e[F]=!0,e}function o(e){var t=A.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function s(e,t,n,i){var r,o,s,a,l,u,c,p,f,m;if((t?t.ownerDocument||t:L)!==A&&D(t),t=t||A,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(!M&&!i){if(r=mt.exec(e))if(s=r[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&q(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return K.apply(n,J.call(t.getElementsByTagName(e),0)),n;if((s=r[3])&&H.getByClassName&&t.getElementsByClassName)return K.apply(n,J.call(t.getElementsByClassName(s),0)),n}if(H.qsa&&!P.test(e)){if(c=!0,p=F,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(u=d(e),(c=t.getAttribute("id"))?p=c.replace(yt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+h(u[l]);f=pt.test(e)&&t.parentNode||t,m=u.join(",")}if(m)try{return K.apply(n,J.call(f.querySelectorAll(m),0)),n}catch(g){}finally{c||t.removeAttribute("id")}}}return w(e.replace(st,"$1"),t,n,i)}function a(e,t){for(var n=e&&t&&e.nextSibling;n;n=n.nextSibling)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return r(function(t){return t=+t,r(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function d(e,t){var n,i,r,o,a,l,u,c=W[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=C.preFilter;a;){(!n||(i=lt.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),l.push(r=[])),n=!1,(i=ut.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(st," ")}),a=a.slice(n.length));for(o in C.filter)!(i=ht[o].exec(a))||u[o]&&!(i=u[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?s.error(e):W(e,l).slice(0)}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===t.dir,o=B++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,u,c=U+" "+o;if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(u=t[F]||(t[F]={}),(l=u[i])&&l[0]===c){if((a=l[1])===!0||a===_)return a===!0}else if(l=u[i]=[c],l[1]=e(t,n,s)||_,l[1]===!0)return!0}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),u&&t.push(a));return s}function g(e,t,n,i,o,s){return i&&!i[F]&&(i=g(i)),o&&!o[F]&&(o=g(o,s)),r(function(r,s,a,l){var u,c,d,h=[],p=[],f=s.length,g=r||b(t||"*",a.nodeType?[a]:a,[]),v=!e||!r&&t?g:m(g,h,e,a,l),y=n?o||(r?e:f||i)?[]:s:v;if(n&&n(v,y,a,l),i)for(u=m(y,p),i(u,[],a,l),c=u.length;c--;)(d=u[c])&&(y[p[c]]=!(v[p[c]]=d));
if(r){if(o||e){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(v[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?Z.call(r,d):h[c])>-1&&(r[u]=!(s[u]=d))}}else y=m(y===s?y.splice(f,y.length):y),o?o(null,s,y,l):K.apply(s,y)})}function v(e){for(var t,n,i,r=e.length,o=C.relative[e[0].type],s=o||C.relative[" "],a=o?1:0,l=p(function(e){return e===t},s,!0),u=p(function(e){return Z.call(t,e)>-1},s,!0),c=[function(e,n,i){return!o&&(i||n!==j)||((t=n).nodeType?l(e,n,i):u(e,n,i))}];r>a;a++)if(n=C.relative[e[a].type])c=[p(f(c),n)];else{if(n=C.filter[e[a].type].apply(null,e[a].matches),n[F]){for(i=++a;r>i&&!C.relative[e[i].type];i++);return g(a>1&&f(c),a>1&&h(e.slice(0,a-1)).replace(st,"$1"),n,i>a&&v(e.slice(a,i)),r>i&&v(e=e.slice(i)),r>i&&h(e))}c.push(n)}return f(c)}function y(e,t){var n=0,i=t.length>0,o=e.length>0,a=function(r,a,l,u,c){var d,h,p,f=[],g=0,v="0",y=r&&[],b=null!=c,w=j,x=r||o&&C.find.TAG("*",c&&a.parentNode||a),k=U+=null==w?1:Math.E;for(b&&(j=a!==A&&a,_=n);null!=(d=x[v]);v++){if(o&&d){for(h=0;p=e[h];h++)if(p(d,a,l)){u.push(d);break}b&&(U=k,_=++n)}i&&((d=!p&&d)&&g--,r&&y.push(d))}if(g+=v,i&&v!==g){for(h=0;p=t[h];h++)p(y,f,a,l);if(r){if(g>0)for(;v--;)y[v]||f[v]||(f[v]=G.call(u));f=m(f)}K.apply(u,f),b&&!r&&f.length>0&&g+t.length>1&&s.uniqueSort(u)}return b&&(U=k,j=w),y};return i?r(a):a}function b(e,t,n){for(var i=0,r=t.length;r>i;i++)s(e,t[i],n);return n}function w(e,t,n,i){var r,o,s,a,l,u=d(e);if(!i&&1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===t.nodeType&&!M&&C.relative[o[1].type]){if(t=C.find.ID(s.matches[0].replace(wt,xt),t)[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=ht.needsContext.test(e)?-1:o.length-1;r>=0&&(s=o[r],!C.relative[a=s.type]);r--)if((l=C.find[a])&&(i=l(s.matches[0].replace(wt,xt),pt.test(o[0].type)&&t.parentNode||t))){if(o.splice(r,1),e=i.length&&h(o),!e)return K.apply(n,J.call(i,0)),n;break}}return E(e,u)(i,t,M,n,pt.test(e)),n}function x(){}var k,_,C,T,S,E,$,j,D,A,N,M,P,O,I,q,R,F="sizzle"+-new Date,L=e.document,H={},U=0,B=0,z=i(),W=i(),V=i(),Q=typeof t,Y=1<<31,X=[],G=X.pop,K=X.push,J=X.slice,Z=X.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),it="([*^$|!~]?=)",rt="\\["+et+"*("+tt+")"+et+"*(?:"+it+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",ot=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+rt.replace(3,8)+")*)|.*)\\)|)",st=RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),lt=RegExp("^"+et+"*,"+et+"*"),ut=RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ct=RegExp(ot),dt=RegExp("^"+nt+"$"),ht={ID:RegExp("^#("+tt+")"),CLASS:RegExp("^\\.("+tt+")"),NAME:RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:RegExp("^("+tt.replace("w","w*")+")"),ATTR:RegExp("^"+rt),PSEUDO:RegExp("^"+ot),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},pt=/[\x20\t\r\n\f]*[+~]/,ft=/\{\s*\[native code\]\s*\}/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,wt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,xt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{J.call(N.childNodes,0)[0].nodeType}catch(kt){J=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}S=s.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},D=s.setDocument=function(e){var i=e?e.ownerDocument||e:L;return i!==A&&9===i.nodeType&&i.documentElement?(A=i,N=i.documentElement,M=S(i),H.tagNameNoComments=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),H.attributes=o(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),H.getByClassName=o(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),H.getByName=o(function(e){e.id=F+0,e.innerHTML="<a name='"+F+"'></a><div name='"+F+"'></div>",N.insertBefore(e,N.firstChild);var t=i.getElementsByName&&i.getElementsByName(F).length===2+i.getElementsByName(F+0).length;return H.getIdNotName=!i.getElementById(F),N.removeChild(e),t}),C.attrHandle=o(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==Q&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},H.getIdNotName?(C.find.ID=function(e,t){if(typeof t.getElementById!==Q&&!M){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(wt,xt);return function(e){return e.getAttribute("id")===t}}):(C.find.ID=function(e,n){if(typeof n.getElementById!==Q&&!M){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==Q&&i.getAttributeNode("id").value===e?[i]:t:[]}},C.filter.ID=function(e){var t=e.replace(wt,xt);return function(e){var n=typeof e.getAttributeNode!==Q&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=H.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==Q?n.getElementsByTagName(e):t}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r];r++)1===n.nodeType&&i.push(n);return i}return o},C.find.NAME=H.getByName&&function(e,n){return typeof n.getElementsByName!==Q?n.getElementsByName(name):t},C.find.CLASS=H.getByClassName&&function(e,n){return typeof n.getElementsByClassName===Q||M?t:n.getElementsByClassName(e)},O=[],P=[":focus"],(H.qsa=n(i.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||P.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||P.push(":checked")}),o(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&P.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(H.matchesSelector=n(I=N.matchesSelector||N.mozMatchesSelector||N.webkitMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&o(function(e){H.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),O.push("!=",ot)}),P=RegExp(P.join("|")),O=RegExp(O.join("|")),q=n(N.contains)||N.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},R=N.compareDocumentPosition?function(e,t){var n;return e===t?($=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===i||q(L,e)?-1:t===i||q(L,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,r=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(e===t)return $=!0,0;if(e.sourceIndex&&t.sourceIndex)return(~t.sourceIndex||Y)-(q(L,e)&&~e.sourceIndex||Y);if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?a(l[r],u[r]):l[r]===L?-1:u[r]===L?1:0},$=!1,[0,0].sort(R),H.detectDuplicates=$,A):A},s.matches=function(e,t){return s(e,null,null,t)},s.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&D(e),t=t.replace(bt,"='$1']"),!(!H.matchesSelector||M||O&&O.test(t)||P.test(t)))try{var n=I.call(e,t);if(n||H.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return s(t,A,null,[e]).length>0},s.contains=function(e,t){return(e.ownerDocument||e)!==A&&D(e),q(e,t)},s.attr=function(e,t){var n;return(e.ownerDocument||e)!==A&&D(e),M||(t=t.toLowerCase()),(n=C.attrHandle[t])?n(e):M||H.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},s.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},s.uniqueSort=function(e){var t,n=[],i=1,r=0;if($=!H.detectDuplicates,e.sort(R),$){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},T=s.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=T(t);return n},C=s.selectors={cacheLength:50,createPseudo:r,match:ht,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,xt),e[3]=(e[4]||e[5]||"").replace(wt,xt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||s.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&s.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ct.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(wt,xt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=z[e+" "];return t||(t=RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&z(e,function(e){return t.test(e.className||typeof e.getAttribute!==Q&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=s.attr(i,e);return null==r?"!="===t:t?(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.substr(r.length-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t?r===n||r.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,h,p,f,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(c=g[F]||(g[F]={}),u=c[e]||[],p=u[0]===U&&u[1],h=u[0]===U&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){c[e]=[U,p,h];break}}else if(y&&(u=(t[F]||(t[F]={}))[e])&&u[0]===U)h=u[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[F]||(d[F]={}))[e]=[U,h]),d!==t)););return h-=r,h===i||0===h%i&&h/i>=0}}},PSEUDO:function(e,t){var n,i=C.pseudos[e]||C.setFilters[e.toLowerCase()]||s.error("unsupported pseudo: "+e);return i[F]?i(t):i.length>1?(n=[e,e,"",t],C.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var r,o=i(e,t),s=o.length;s--;)r=Z.call(e,o[s]),e[r]=!(n[r]=o[s])}):function(e){return i(e,0,n)}):i}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(st,"$1"));return i[F]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(t){return s(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:r(function(e){return dt.test(e||"")||s.error("unsupported lang: "+e),e=e.replace(wt,xt).toLowerCase(),function(t){var n;do if(n=M?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;t>++i;)e.push(i);return e})}};for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[k]=l(k);for(k in{submit:!0,reset:!0})C.pseudos[k]=u(k);E=s.compile=function(e,t){var n,i=[],r=[],o=V[e+" "];if(!o){for(t||(t=d(e)),n=t.length;n--;)o=v(t[n]),o[F]?i.push(o):r.push(o);o=V(e,y(r,i))}return o},C.pseudos.nth=C.pseudos.eq,C.filters=x.prototype=C.pseudos,C.setFilters=new x,D(),s.attr=at.attr,at.find=s,at.expr=s.selectors,at.expr[":"]=at.expr.pseudos,at.unique=s.uniqueSort,at.text=s.getText,at.isXMLDoc=s.isXML,at.contains=s.contains}(e);var Ft=/Until$/,Lt=/^(?:parents|prev(?:Until|All))/,Ht=/^.[^:#\[\.,]*$/,Ut=at.expr.match.needsContext,Bt={children:!0,contents:!0,next:!0,prev:!0};at.fn.extend({find:function(e){var t,n,i;if("string"!=typeof e)return i=this,this.pushStack(at(e).filter(function(){for(t=0;i.length>t;t++)if(at.contains(i[t],this))return!0}));for(n=[],t=0;this.length>t;t++)at.find(e,this[t],n);return n=this.pushStack(at.unique(n)),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=at(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(at.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(d(this,e,!1))},filter:function(e){return this.pushStack(d(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Ut.test(e)?at(e,this.context).index(this[0])>=0:at.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=Ut.test(e)||"string"!=typeof e?at(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(s?s.index(n)>-1:at.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return this.pushStack(o.length>1?at.unique(o):o)},index:function(e){return e?"string"==typeof e?at.inArray(this[0],at(e)):at.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?at(e,t):at.makeArray(e&&e.nodeType?[e]:e),i=at.merge(this.get(),n);return this.pushStack(at.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),at.fn.andSelf=at.fn.addBack,at.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return at.dir(e,"parentNode")},parentsUntil:function(e,t,n){return at.dir(e,"parentNode",n)},next:function(e){return c(e,"nextSibling")},prev:function(e){return c(e,"previousSibling")},nextAll:function(e){return at.dir(e,"nextSibling")},prevAll:function(e){return at.dir(e,"previousSibling")},nextUntil:function(e,t,n){return at.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return at.dir(e,"previousSibling",n)},siblings:function(e){return at.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return at.sibling(e.firstChild)},contents:function(e){return at.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:at.merge([],e.childNodes)}},function(e,t){at.fn[e]=function(n,i){var r=at.map(this,t,n);return Ft.test(e)||(i=n),i&&"string"==typeof i&&(r=at.filter(i,r)),r=this.length>1&&!Bt[e]?at.unique(r):r,this.length>1&&Lt.test(e)&&(r=r.reverse()),this.pushStack(r)}}),at.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?at.find.matchesSelector(t[0],e)?[t[0]]:[]:at.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!at(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var zt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Wt=/ jQuery\d+="(?:null|\d+)"/g,Vt=RegExp("<(?:"+zt+")[\\s/>]","i"),Qt=/^\s+/,Yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Xt=/<([\w:]+)/,Gt=/<tbody/i,Kt=/<|&#?\w+;/,Jt=/<(?:script|style|link)/i,Zt=/^(?:checkbox|radio)$/i,en=/checked\s*(?:[^=]|=\s*.checked.)/i,tn=/^$|\/(?:java|ecma)script/i,nn=/^true\/(.*)/,rn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,on={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:at.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sn=h(Q),an=sn.appendChild(Q.createElement("div"));on.optgroup=on.option,on.tbody=on.tfoot=on.colgroup=on.caption=on.thead,on.th=on.td,at.fn.extend({text:function(e){return at.access(this,function(e){return e===t?at.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Q).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(at.isFunction(e))return this.each(function(t){at(this).wrapAll(e.call(this,t))});if(this[0]){var t=at(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return at.isFunction(e)?this.each(function(t){at(this).wrapInner(e.call(this,t))}):this.each(function(){var t=at(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=at.isFunction(e);return this.each(function(n){at(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){at.nodeName(this,"body")||at(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||at.filter(e,[n]).length>0)&&(t||1!==n.nodeType||at.cleanData(b(n)),n.parentNode&&(t&&at.contains(n.ownerDocument,n)&&g(b(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&at.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&at.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return at.clone(this,e,t)})},html:function(e){return at.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Wt,""):t;if(!("string"!=typeof e||Jt.test(e)||!at.support.htmlSerialize&&Vt.test(e)||!at.support.leadingWhitespace&&Qt.test(e)||on[(Xt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Yt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(at.cleanData(b(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=at.isFunction(e);return t||"string"==typeof e||(e=at(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;(n&&1===this.nodeType||11===this.nodeType)&&(at(this).remove(),t?t.parentNode.insertBefore(e,t):n.appendChild(e))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=et.apply([],e);var r,o,s,a,l,u,c=0,d=this.length,h=this,g=d-1,v=e[0],y=at.isFunction(v);if(y||!(1>=d||"string"!=typeof v||at.support.checkClone)&&en.test(v))return this.each(function(r){var o=h.eq(r);y&&(e[0]=v.call(this,r,n?o.html():t)),o.domManip(e,n,i)});if(d&&(r=at.buildFragment(e,this[0].ownerDocument,!1,this),o=r.firstChild,1===r.childNodes.length&&(r=o),o)){for(n=n&&at.nodeName(o,"tr"),s=at.map(b(r,"script"),f),a=s.length;d>c;c++)l=r,c!==g&&(l=at.clone(l,!0,!0),a&&at.merge(s,b(l,"script"))),i.call(n&&at.nodeName(this[c],"table")?p(this[c],"tbody"):this[c],l,c);if(a)for(u=s[s.length-1].ownerDocument,at.map(s,m),c=0;a>c;c++)l=s[c],tn.test(l.type||"")&&!at._data(l,"globalEval")&&at.contains(u,l)&&(l.src?at.ajax({url:l.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):at.globalEval((l.text||l.textContent||l.innerHTML||"").replace(rn,"")));r=o=null}return this}}),at.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){at.fn[e]=function(e){for(var n,i=0,r=[],o=at(e),s=o.length-1;s>=i;i++)n=i===s?this:this.clone(!0),at(o[i])[t](n),tt.apply(r,n.get());return this.pushStack(r)}}),at.extend({clone:function(e,t,n){var i,r,o,s,a,l=at.contains(e.ownerDocument,e);if(at.support.html5Clone||at.isXMLDoc(e)||!Vt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(an.innerHTML=e.outerHTML,an.removeChild(a=an.firstChild)),!(at.support.noCloneEvent&&at.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||at.isXMLDoc(e)))for(i=b(a),r=b(e),s=0;null!=(o=r[s]);++s)i[s]&&y(o,i[s]);if(t)if(n)for(r=r||b(e),i=i||b(a),s=0;null!=(o=r[s]);s++)v(o,i[s]);else v(e,a);return i=b(a,"script"),i.length>0&&g(i,!l&&b(e,"script")),i=r=o=null,a},buildFragment:function(e,t,n,i){for(var r,o,s,a,l,u,c,d=e.length,p=h(t),f=[],m=0;d>m;m++)if(o=e[m],o||0===o)if("object"===at.type(o))at.merge(f,o.nodeType?[o]:o);else if(Kt.test(o)){for(a=a||p.appendChild(t.createElement("div")),s=(Xt.exec(o)||["",""])[1].toLowerCase(),l=on[s]||on._default,a.innerHTML=l[1]+o.replace(Yt,"<$1></$2>")+l[2],c=l[0];c--;)a=a.lastChild;if(!at.support.leadingWhitespace&&Qt.test(o)&&f.push(t.createTextNode(Qt.exec(o)[0])),!at.support.tbody)for(o="table"!==s||Gt.test(o)?"<table>"!==l[1]||Gt.test(o)?0:a:a.firstChild,c=o&&o.childNodes.length;c--;)at.nodeName(u=o.childNodes[c],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(at.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=p.lastChild}else f.push(t.createTextNode(o));for(a&&p.removeChild(a),at.support.appendChecked||at.grep(b(f,"input"),w),m=0;o=f[m++];)if((!i||-1===at.inArray(o,i))&&(r=at.contains(o.ownerDocument,o),a=b(p.appendChild(o),"script"),r&&g(a),n))for(c=0;o=a[c++];)tn.test(o.type||"")&&n.push(o);return a=null,p},cleanData:function(e,n){for(var i,r,o,s,a=0,l=at.expando,u=at.cache,c=at.support.deleteExpando,d=at.event.special;null!=(o=e[a]);a++)if((n||at.acceptData(o))&&(r=o[l],i=r&&u[r])){if(i.events)for(s in i.events)d[s]?at.event.remove(o,s):at.removeEvent(o,s,i.handle);u[r]&&(delete u[r],c?delete o[l]:o.removeAttribute!==t?o.removeAttribute(l):o[l]=null,J.push(r))}}});var ln,un,cn,dn=/alpha\([^)]*\)/i,hn=/opacity\s*=\s*([^)]*)/,pn=/^(top|right|bottom|left)$/,fn=/^(none|table(?!-c[ea]).+)/,mn=/^margin/,gn=RegExp("^("+lt+")(.*)$","i"),vn=RegExp("^("+lt+")(?!px)[a-z%]+$","i"),yn=RegExp("^([+-])=("+lt+")","i"),bn={BODY:"block"},wn={position:"absolute",visibility:"hidden",display:"block"},xn={letterSpacing:0,fontWeight:400},kn=["Top","Right","Bottom","Left"],_n=["Webkit","O","Moz","ms"];at.fn.extend({css:function(e,n){return at.access(this,function(e,n,i){var r,o,s={},a=0;if(at.isArray(n)){for(r=un(e),o=n.length;o>a;a++)s[n[a]]=at.css(e,n[a],!1,r);return s}return i!==t?at.style(e,n,i):at.css(e,n)},e,n,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:k(this))?at(this).show():at(this).hide()})}}),at.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ln(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":at.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,l=at.camelCase(n),u=e.style;if(n=at.cssProps[l]||(at.cssProps[l]=x(u,l)),a=at.cssHooks[n]||at.cssHooks[l],i===t)return a&&"get"in a&&(o=a.get(e,!1,r))!==t?o:u[n];if(s=typeof i,"string"===s&&(o=yn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(at.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||at.cssNumber[l]||(i+="px"),at.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(u[n]="inherit"),a&&"set"in a&&(i=a.set(e,i,r))===t)))try{u[n]=i}catch(c){}}},css:function(e,n,i,r){var o,s,a,l=at.camelCase(n);return n=at.cssProps[l]||(at.cssProps[l]=x(e.style,l)),a=at.cssHooks[n]||at.cssHooks[l],a&&"get"in a&&(o=a.get(e,!0,i)),o===t&&(o=ln(e,n,r)),"normal"===o&&n in xn&&(o=xn[n]),i?(s=parseFloat(o),i===!0||at.isNumeric(s)?s||0:o):o},swap:function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r}}),e.getComputedStyle?(un=function(t){return e.getComputedStyle(t,null)},ln=function(e,n,i){var r,o,s,a=i||un(e),l=a?a.getPropertyValue(n)||a[n]:t,u=e.style;return a&&(""!==l||at.contains(e.ownerDocument,e)||(l=at.style(e,n)),vn.test(l)&&mn.test(n)&&(r=u.width,o=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=a.width,u.width=r,u.minWidth=o,u.maxWidth=s)),l}):Q.documentElement.currentStyle&&(un=function(e){return e.currentStyle},ln=function(e,n,i){var r,o,s,a=i||un(e),l=a?a[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),vn.test(l)&&!pn.test(n)&&(r=u.left,o=e.runtimeStyle,s=o&&o.left,s&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=r,s&&(o.left=s)),""===l?"auto":l}),at.each(["height","width"],function(e,n){at.cssHooks[n]={get:function(e,i,r){return i?0===e.offsetWidth&&fn.test(at.css(e,"display"))?at.swap(e,wn,function(){return S(e,n,r)}):S(e,n,r):t},set:function(e,t,i){var r=i&&un(e);return C(e,t,i?T(e,n,i,at.support.boxSizing&&"border-box"===at.css(e,"boxSizing",!1,r),r):0)}}}),at.support.opacity||(at.cssHooks.opacity={get:function(e,t){return hn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=at.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===at.trim(o.replace(dn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=dn.test(o)?o.replace(dn,r):o+" "+r)}}),at(function(){at.support.reliableMarginRight||(at.cssHooks.marginRight={get:function(e,n){return n?at.swap(e,{display:"inline-block"},ln,[e,"marginRight"]):t}}),!at.support.pixelPosition&&at.fn.position&&at.each(["top","left"],function(e,n){at.cssHooks[n]={get:function(e,i){return i?(i=ln(e,n),vn.test(i)?at(e).position()[n]+"px":i):t}}})}),at.expr&&at.expr.filters&&(at.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!at.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||at.css(e,"display"))},at.expr.filters.visible=function(e){return!at.expr.filters.hidden(e)}),at.each({margin:"",padding:"",border:"Width"},function(e,t){at.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+kn[i]+t]=o[i]||o[i-2]||o[0];return r}},mn.test(e)||(at.cssHooks[e+t].set=C)});var Cn=/%20/g,Tn=/\[\]$/,Sn=/\r?\n/g,En=/^(?:submit|button|image|reset)$/i,$n=/^(?:input|select|textarea|keygen)/i;at.fn.extend({serialize:function(){return at.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=at.prop(this,"elements");return e?at.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!at(this).is(":disabled")&&$n.test(this.nodeName)&&!En.test(e)&&(this.checked||!Zt.test(e))}).map(function(e,t){var n=at(this).val();return null==n?null:at.isArray(n)?at.map(n,function(e){return{name:t.name,value:e.replace(Sn,"\r\n")}}):{name:t.name,value:n.replace(Sn,"\r\n")}}).get()}}),at.param=function(e,n){var i,r=[],o=function(e,t){t=at.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=at.ajaxSettings&&at.ajaxSettings.traditional),at.isArray(e)||e.jquery&&!at.isPlainObject(e))at.each(e,function(){o(this.name,this.value)});else for(i in e)j(i,e[i],n,o);return r.join("&").replace(Cn,"+")};var jn,Dn,An=at.now(),Nn=/\?/,Mn=/#.*$/,Pn=/([?&])_=[^&]*/,On=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,In=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qn=/^(?:GET|HEAD)$/,Rn=/^\/\//,Fn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ln=at.fn.load,Hn={},Un={},Bn="*/".concat("*");try{Dn=Y.href}catch(zn){Dn=Q.createElement("a"),Dn.href="",Dn=Dn.href}jn=Fn.exec(Dn.toLowerCase())||[],at.fn.load=function(e,n,i){if("string"!=typeof e&&Ln)return Ln.apply(this,arguments);var r,o,s,a=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),at.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(o="POST"),a.length>0&&at.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,a.html(r?at("<div>").append(at.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){a.each(i,s||[e.responseText,t,e])}),this},at.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){at.fn[t]=function(e){return this.on(t,e)}}),at.each(["get","post"],function(e,n){at[n]=function(e,i,r,o){return at.isFunction(i)&&(o=o||r,r=i,i=t),at.ajax({url:e,type:n,dataType:o,data:i,success:r})}}),at.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dn,type:"GET",isLocal:In.test(jn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":at.parseJSON,"text xml":at.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?N(N(e,at.ajaxSettings),t):N(at.ajaxSettings,e)},ajaxPrefilter:D(Hn),ajaxTransport:D(Un),ajax:function(e,n){function i(e,n,i,a){var u,d,y,b,x,_=n;2!==w&&(w=2,l&&clearTimeout(l),r=t,s=a||"",k.readyState=e>0?4:0,i&&(b=M(h,k,i)),e>=200&&300>e||304===e?(h.ifModified&&(x=k.getResponseHeader("Last-Modified"),x&&(at.lastModified[o]=x),x=k.getResponseHeader("etag"),x&&(at.etag[o]=x)),304===e?(u=!0,_="notmodified"):(u=P(h,b),_=u.state,d=u.data,y=u.error,u=!y)):(y=_,(e||!_)&&(_="error",0>e&&(e=0))),k.status=e,k.statusText=(n||_)+"",u?m.resolveWith(p,[d,_,k]):m.rejectWith(p,[k,_,y]),k.statusCode(v),v=t,c&&f.trigger(u?"ajaxSuccess":"ajaxError",[k,h,u?d:y]),g.fireWith(p,[k,_]),c&&(f.trigger("ajaxComplete",[k,h]),--at.active||at.event.trigger("ajaxStop")))
}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,s,a,l,u,c,d,h=at.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?at(p):at.event,m=at.Deferred(),g=at.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,x="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!a)for(a={};t=On.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||x;return r&&r.abort(t),i(0,t),this}};if(m.promise(k).complete=g.add,k.success=k.done,k.error=k.fail,h.url=((e||h.url||Dn)+"").replace(Mn,"").replace(Rn,jn[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=at.trim(h.dataType||"*").toLowerCase().match(ut)||[""],null==h.crossDomain&&(u=Fn.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===jn[1]&&u[2]===jn[2]&&(u[3]||("http:"===u[1]?80:443))==(jn[3]||("http:"===jn[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=at.param(h.data,h.traditional)),A(Hn,h,n,k),2===w)return k;c=h.global,c&&0===at.active++&&at.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!qn.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(Nn.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Pn.test(o)?o.replace(Pn,"$1_="+An++):o+(Nn.test(o)?"&":"?")+"_="+An++)),h.ifModified&&(at.lastModified[o]&&k.setRequestHeader("If-Modified-Since",at.lastModified[o]),at.etag[o]&&k.setRequestHeader("If-None-Match",at.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Bn+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)k.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(h.beforeSend.call(p,k,h)===!1||2===w))return k.abort();x="abort";for(d in{success:1,error:1,complete:1})k[d](h[d]);if(r=A(Un,h,n,k)){k.readyState=1,c&&f.trigger("ajaxSend",[k,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},h.timeout));try{w=1,r.send(y,i)}catch(_){if(!(2>w))throw _;i(-1,_)}}else i(-1,"No Transport");return k},getScript:function(e,n){return at.get(e,t,n,"script")},getJSON:function(e,t,n){return at.get(e,t,n,"json")}}),at.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return at.globalEval(e),e}}}),at.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),at.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=Q.head||at("head")[0]||Q.documentElement;return{send:function(t,r){n=Q.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Wn=[],Vn=/(=)\?(?=&|$)|\?\?/;at.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wn.pop()||at.expando+"_"+An++;return this[e]=!0,e}}),at.ajaxPrefilter("json jsonp",function(n,i,r){var o,s,a,l=n.jsonp!==!1&&(Vn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=at.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Vn,"$1"+o):n.jsonp!==!1&&(n.url+=(Nn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||at.error(o+" was not called"),a[0]},n.dataTypes[0]="json",s=e[o],e[o]=function(){a=arguments},r.always(function(){e[o]=s,n[o]&&(n.jsonpCallback=i.jsonpCallback,Wn.push(o)),a&&at.isFunction(s)&&s(a[0]),a=s=t}),"script"):t});var Qn,Yn,Xn=0,Gn=e.ActiveXObject&&function(){var e;for(e in Qn)Qn[e](t,!0)};at.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&O()||I()}:O,Yn=at.ajaxSettings.xhr(),at.support.cors=!!Yn&&"withCredentials"in Yn,Yn=at.support.ajax=!!Yn,Yn&&at.ajaxTransport(function(n){if(!n.crossDomain||at.support.cors){var i;return{send:function(r,o){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(u){}l.send(n.hasContent&&n.data||null),i=function(e,r){var a,u,c,d,h;try{if(i&&(r||4===l.readyState))if(i=t,s&&(l.onreadystatechange=at.noop,Gn&&delete Qn[s]),r)4!==l.readyState&&l.abort();else{d={},a=l.status,h=l.responseXML,c=l.getAllResponseHeaders(),h&&h.documentElement&&(d.xml=h),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(p){u=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(f){r||o(-1,f)}d&&o(a,u,d,c)},n.async?4===l.readyState?setTimeout(i):(s=++Xn,Gn&&(Qn||(Qn={},at(e).unload(Gn)),Qn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Kn,Jn,Zn=/^(?:toggle|show|hide)$/,ei=RegExp("^(?:([+-])=|)("+lt+")([a-z%]*)$","i"),ti=/queueHooks$/,ni=[H],ii={"*":[function(e,t){var n,i,r=this.createTween(e,t),o=ei.exec(t),s=r.cur(),a=+s||0,l=1,u=20;if(o){if(n=+o[2],i=o[3]||(at.cssNumber[e]?"":"px"),"px"!==i&&a){a=at.css(r.elem,e,!0)||n||1;do l=l||".5",a/=l,at.style(r.elem,e,a+i);while(l!==(l=r.cur()/s)&&1!==l&&--u)}r.unit=i,r.start=a,r.end=o[1]?a+(o[1]+1)*n:n}return r}]};at.Animation=at.extend(F,{tweener:function(e,t){at.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],ii[n]=ii[n]||[],ii[n].unshift(t)},prefilter:function(e,t){t?ni.unshift(e):ni.push(e)}}),at.Tween=U,U.prototype={constructor:U,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(at.cssNumber[n]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.pos=t=this.options.duration?at.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=at.css(e.elem,e.prop,"auto"),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){at.fx.step[e.prop]?at.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[at.cssProps[e.prop]]||at.cssHooks[e.prop])?at.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},at.each(["toggle","show","hide"],function(e,t){var n=at.fn[t];at.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(B(t,!0),e,i,r)}}),at.fn.extend({fadeTo:function(e,t,n,i){return this.filter(k).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=at.isEmptyObject(e),o=at.speed(t,n,i),s=function(){var t=F(this,at.extend({},e),o);s.finish=function(){t.stop(!0)},(r||at._data(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=at.timers,s=at._data(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&ti.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&at.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=at._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=at.timers,s=i?i.length:0;for(n.finish=!0,at.queue(this,e,[]),r&&r.cur&&r.cur.finish&&r.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),at.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){at.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),at.speed=function(e,t,n){var i=e&&"object"==typeof e?at.extend({},e):{complete:n||!n&&t||at.isFunction(e)&&e,duration:e,easing:n&&t||t&&!at.isFunction(t)&&t};return i.duration=at.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in at.fx.speeds?at.fx.speeds[i.duration]:at.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){at.isFunction(i.old)&&i.old.call(this),i.queue&&at.dequeue(this,i.queue)},i},at.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},at.timers=[],at.fx=U.prototype.init,at.fx.tick=function(){var e,n=at.timers,i=0;for(Kn=at.now();n.length>i;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||at.fx.stop(),Kn=t},at.fx.timer=function(e){e()&&at.timers.push(e)&&at.fx.start()},at.fx.interval=13,at.fx.start=function(){Jn||(Jn=setInterval(at.fx.tick,at.fx.interval))},at.fx.stop=function(){clearInterval(Jn),Jn=null},at.fx.speeds={slow:600,fast:200,_default:400},at.fx.step={},at.expr&&at.expr.filters&&(at.expr.filters.animated=function(e){return at.grep(at.timers,function(t){return e===t.elem}).length}),at.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){at.offset.setOffset(this,e,t)});var n,i,r={top:0,left:0},o=this[0],s=o&&o.ownerDocument;if(s)return n=s.documentElement,at.contains(n,o)?(o.getBoundingClientRect!==t&&(r=o.getBoundingClientRect()),i=z(s),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},at.offset={setOffset:function(e,t,n){var i=at.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,s=at(e),a=s.offset(),l=at.css(e,"top"),u=at.css(e,"left"),c=("absolute"===i||"fixed"===i)&&at.inArray("auto",[l,u])>-1,d={},h={};c?(h=s.position(),r=h.top,o=h.left):(r=parseFloat(l)||0,o=parseFloat(u)||0),at.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):s.css(d)}},at.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===at.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),at.nodeName(e[0],"html")||(n=e.offset()),n.top+=at.css(e[0],"borderTopWidth",!0),n.left+=at.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-at.css(i,"marginTop",!0),left:t.left-n.left-at.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Q.documentElement;e&&!at.nodeName(e,"html")&&"static"===at.css(e,"position");)e=e.offsetParent;return e||Q.documentElement})}}),at.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);at.fn[e]=function(r){return at.access(this,function(e,r,o){var s=z(e);return o===t?s?n in s?s[n]:s.document.documentElement[r]:e[r]:(s?s.scrollTo(i?at(s).scrollLeft():o,i?o:at(s).scrollTop()):e[r]=o,t)},e,r,arguments.length,null)}}),at.each({Height:"height",Width:"width"},function(e,n){at.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){at.fn[r]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return at.access(this,function(n,i,r){var o;return at.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?at.css(n,i,a):at.style(n,i,r,a)},n,s?r:t,s,null)}})}),e.jQuery=e.$=at,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return at})}(window),void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(e,t,n){function i(n){o[n]||(o[n]=!0,e.migrateWarnings.push(n),t.console&&console.warn&&!e.migrateMute&&(console.warn("JQMIGRATE: "+n),e.migrateTrace&&console.trace&&console.trace()))}function r(t,r,o,s){if(Object.defineProperty)try{return Object.defineProperty(t,r,{configurable:!0,enumerable:!0,get:function(){return i(s),o},set:function(e){i(s),o=e}}),n}catch(a){}e._definePropertyBroken=!0,t[r]=o}var o={};e.migrateWarnings=[],!e.migrateMute&&t.console&&console.log&&console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){o={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var s={},a=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},u=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},c=/^(?:input|button)$/i,d=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;r(e,"attrFn",s,"jQuery.attrFn is deprecated"),e.attr=function(t,r,o,s){var l=r.toLowerCase(),u=t&&t.nodeType;return s&&4>a.length&&(i("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(u)&&e.isFunction(e.fn[r]))?e(t)[r](o):("type"===r&&o!==n&&c.test(t.nodeName)&&t.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[l]&&h.test(l)&&(e.attrHooks[l]={get:function(t,i){var r,o=e.prop(t,i);return o===!0||"boolean"!=typeof o&&(r=t.getAttributeNode(i))&&r.nodeValue!==!1?i.toLowerCase():n},set:function(t,n,i){var r;return n===!1?e.removeAttr(t,i):(r=e.propFix[i]||i,r in t&&(t[r]=!0),t.setAttribute(i,i.toLowerCase())),i}},p.test(l)&&i("jQuery.fn.attr('"+l+"') may use property instead of attribute")),a.call(e,t,r,o))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var r=(e.nodeName||"").toLowerCase();return"button"===r?u.apply(this,arguments):("input"!==r&&"option"!==r&&i("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var f,m,g=e.fn.init,v=e.parseJSON,y=/^(?:[^<]*(<[\w\W]+>)[^>]*|#([\w\-]*))$/;e.fn.init=function(t,n,r){var o;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(o=y.exec(t))&&o[1]&&("<"!==t.charAt(0)&&i("$(html) HTML strings must start with '<' character"),n&&n.context&&(n=n.context),e.parseHTML)?g.call(this,e.parseHTML(e.trim(t),n,!0),n,r):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},f=e.uaMatch(navigator.userAgent),m={},f.browser&&(m[f.browser]=!0,m.version=f.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m,r(e,"browser",m,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,r){return r&&r instanceof e&&!(r instanceof t)&&(r=t(r)),e.fn.init.call(this,i,r,n)},t.fn.init.prototype=t.fn;var n=t(document);return i("jQuery.sub() is deprecated"),t};var b=e.fn.data;e.fn.data=function(t){var r,o,s=this[0];return!s||"events"!==t||1!==arguments.length||(r=e.data(s,t),o=e._data(s,t),r!==n&&r!==o||o===n)?b.apply(this,arguments):(i("Use of jQuery.fn.data('events') is deprecated"),o)};var w=/\/(java|ecma)script/i,x=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),x.apply(this,arguments)},e.clean||(e.clean=function(t,r,o,s){r=r||document,r=!r.nodeType&&r[0]||r,r=r.ownerDocument||r,i("jQuery.clean() is deprecated");var a,l,u,c,d=[];if(e.merge(d,e.buildFragment(t,r).childNodes),o)for(u=function(e){return!e.type||w.test(e.type)?s?s.push(e.parentNode?e.parentNode.removeChild(e):e):o.appendChild(e):n},a=0;null!=(l=d[a]);a++)e.nodeName(l,"script")&&u(l)||(o.appendChild(l),l.getElementsByTagName!==n&&(c=e.grep(e.merge([],l.getElementsByTagName("script")),u),d.splice.apply(d,[a+1,0].concat(c)),a+=c.length));return d});var k=e.event.add,_=e.event.remove,C=e.event.trigger,T=e.fn.toggle,S=e.fn.live,E=e.fn.die,$="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",j=RegExp("\\b(?:"+$+")\\b"),D=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(D.test(t)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(D,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&r(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,r,o){e!==document&&j.test(t)&&i("AJAX events should be attached to document: "+t),k.call(this,e,A(t||""),n,r,o)},e.event.remove=function(e,t,n,i,r){_.call(this,e,A(t)||"",n,i,r)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return i("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return T.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,o=t.guid||e.guid++,s=0,a=function(n){var i=(e._data(this,"lastToggle"+t.guid)||0)%s;return e._data(this,"lastToggle"+t.guid,i+1),n.preventDefault(),r[i].apply(this,arguments)||!1};for(a.guid=o;r.length>s;)r[s++].guid=o;return this.click(a)},e.fn.live=function(t,n,r){return i("jQuery.fn.live() is deprecated"),S?S.apply(this,arguments):(e(this.context).on(t,this.selector,n,r),this)},e.fn.die=function(t,n){return i("jQuery.fn.die() is deprecated"),E?E.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,r){return!n&!j.test(e)&&i("Global events are undocumented and deprecated"),C.call(this,e,t,n||document,r)},e.each($.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window),define("mods/utils/eventer",[],function(){var e=function(){return this instanceof e?(this.__handlers={},void 0):new e};return e.prototype.on=function(e,t,n){for(var i,r=e.split(" "),o=0,s=r.length;s>o;o+=1)i=r[o],this.__handlers[i]||(this.__handlers[i]=[]),this.__handlers[i].push({fn:t,ctx:n});return this},e.prototype.off=function(e,t){for(var n,i,r,o,s=e.split(" "),a=0,l=s.length;l>a;a+=1){if(o=s[a],n=this.__handlers[o],!n)return this;for(r=n.length;r>=0;)i=(n[r]||{}).fn,(i===t||"function"!=typeof t)&&n.splice(r,1),r-=1;0===n.length&&delete this.__handlers[o]}return this},e.prototype.emit=function(e,t){var n,i=this.__handlers[e];if(!i)return this;i=i.concat();for(var r=0,o=i.length;o>r;r+=1)n=i[r],n.fn.call(n.ctx||this,t);return this},e.prototype.once=function(e,t,n){for(var i,r=this,o=e.split(" "),s=function(e){var i=function(){r.off(e,i),t.apply(n||this,arguments)};return i},a=0,l=o.length;l>a;a+=1)i=o[a],this.on(i,s(i),n);return this},e.prototype.getEventHandlers=function(){return this.__handlers},e}),define("mods/utils/cookies",[],function(){var e={};return e.set=function(e,t,n,i){var r,o;n?(r=new Date,r.setTime(r.getTime()+1e3*60*60*24*n),o="; expires="+r.toGMTString()):o="",document.cookie=e+"="+t+o+"; path=/"+(i?"; domain="+i:"")},e.setSession=function(t,n,i){e.set(t,n,0,i)},e.destroy=function(t,n){e.set(t,"",-1,n)},e.destroyAll=function(t){for(var n,i=document.cookie.split(";"),r=0,o=i.length;o>r;r+=1)n=i[r].split("=")[0],e.destroy(n,t)},e.get=function(e){for(var t,n,i=e+"=",r=document.cookie.split(";"),o=0;r.length>o;o+=1){for(t=r[o];" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(i))return n=t.substring(i.length,t.length),n.length>10?n:isNaN(parseInt(n,10))?n:parseInt(n,10)}return null},e}),define("mods/utils/timer",[],function(){var e={};return e.nextTick=function(e){if(window.postMessage&&window.addEventListener){var t="nexttick-"+Math.round(1e6*Math.random()),n=function(i){i.data===t&&(window.removeEventListener("message",n),e())};window.addEventListener("message",n),window.postMessage(t,"*")}else setTimeout(e,0)},e}),define("mods/app",["jquery","mods/utils/eventer","mods/utils/cookies","mods/utils/timer"],function(e,t,n,i){var r,o=new t;return o.POST_LOAD_COOKIE="ple_",o.getConfig=function(){var t=e("#chz-configs").html();return r=t?e.parseJSON(t):{}},o._xsrfToken=null,o.setXsrfToken=function(e){o._xsrfToken=e},o.addXSRFToken=function(t){return e.extend(t,{__RequestVerificationToken:o._xsrfToken})},o.getXsrfToken=function(){return o._xsrfToken},o.setup=function(){i.nextTick(function(){o.triggerQueuedEvents()})},o.emitOnNextPageLoad=function(t,i){var r=e.parseJSON(n.get(o.POST_LOAD_COOKIE))||[];return r.push({n:t,d:i}),r=JSON.stringify(r),r.length>4e3?e(document).trigger("chzevent.chzTrack",{category:"error",action:"post-load-cookie-exceeded-max"}):n.setSession(o.POST_LOAD_COOKIE,r,o.getConfig().CookieHostname),this},o.triggerQueuedEvents=function(){var t,i,r=e.parseJSON(n.get(o.POST_LOAD_COOKIE))||[];n.destroy(o.POST_LOAD_COOKIE,o.getConfig().CookieHostname);for(var s=0,a=r.length;a>s;s+=1)t=r[s].n,i=r[s].d,o.emit(t,i);return this},o.routes={},o.routes.slideshow={controller:"/SlideShow",list:"/ByList",site:"/BySite"},o.routes.get=function(t,n,i){var r=o.getConfig();r.ViewServer===window.location.protocol+"//"+window.location.host?r.ViewServer:window.location.protocol+"//"+window.location.host;var s=o.routes[t].controller+o.routes[t][n],a=e.param(i);return s+"?"+a},o}),define("mods/utils/debouncer",[],function(){var e=function(e,t){var n,i=function(){var i=this,r=arguments,o=function(){e.apply(i,r)};return n&&clearTimeout(n),n=setTimeout(o,t||100),i};return i.cancel=function(){n&&clearTimeout(n)},i};return e}),define("mods/utils/number",[],function(){var e=function(e){var t=(""+e).split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},t=function(e){var t;return isNaN(e)?t="0":(t=parseInt(e,10),t=t>=1e3?(t/1e3).toFixed(1)+"k":t),""+t};return{addCommas:e,abbreviate:t}}),define("mods/utils/array",[],function(){var e=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=function(e,t){for(var n,i=[],r=0;e.length>r;r++){n=!1;for(var o=0;t.length>o;o++)if(e[r]===t[o]){n=!0;break}n||i.push(e[r])}return i};return{isArray:e,difference:t}}),define("mods/utils/object",["mods/utils/array"],function(e){var t=function(t){return"object"==typeof t&&!e.isArray(t)},n=function(e,i){var r;for(var o in i)i.hasOwnProperty(o)&&null!==i[o]&&(r=i[o],e[o]=t(r)?n(e[o]||{},r):i[o]);return e};return{isObject:t,merge:n}}),define("mods/utils/inherits",[],function(){var e=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};return e}),define("mods/utils/utils",["jquery","mods/utils/cookies","mods/utils/debouncer","mods/utils/number","mods/utils/array","mods/utils/object","mods/utils/inherits"],function(e,t,n,i,r,o,s){var a=function(e){var t=window.document,n="https:"===t.location.protocol?!0:!1,i="script",r=t.createElement(i),o=t.getElementsByTagName(i)[0];return e.path?(e=e||{},e.http=e.http||"//",e.https=e.https||e.http,r.id=e.id||"",r.className=e.className||"chz-script",r.async=e.async===!1?!1:!0,r.src=(n?e.https:e.http)+e.path,o.parentNode.insertBefore(r,o),r):!1},l=function(e){if("string"!=typeof e)return{};var t=e;0===t.indexOf("?")&&(t=t.substring(1));for(var n=t.split("&"),i={},r=0;n.length>r;r++)if(""!==n[r]){var o=n[r].split("=");i[o[0]]=1===o.length?!0:decodeURIComponent(o[1].replace(/\+/g," "))}return i},u=function(t){var n={};return e(":input",t).each(function(){""!==this.value&&(void 0!==n[this.name]?(n[this.name].push||(n[this.name]=[n[this.name]]),n[this.name].push(this.value||"")):n[this.name]=e(this).is(":checkbox")?e(this).is(":checked"):this.value||"")}),n},c=function(e){var t=document.createElement("a");return e=e||window.location.pathname,t.href=e,{protocol:":"===t.protocol?window.location.protocol:t.protocol,host:""===t.host?window.location.host:t.host,hostname:""===t.hostname?window.location.hostname:t.hostname,port:t.port||window.location.port,pathname:0===t.pathname.indexOf("/")?t.pathname:"/"+t.pathname,search:t.search,query:l(t.search),hash:t.hash}},d=function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),n="x"==e?t:8|3&t;return n.toString(16)});return e},h=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},p=function(t){var n=e(window).scrollTop(),i=n+e(window).height(),r=e(t).offset().top,o=r+e(t).height();return!(n>o||r>i)},f=function(e,t){t=t||!1,e.preventDefault(),t&&e.stopPropagation()};return{number:i,array:r,object:o,debounce:n,getCookie:t.get,setCookie:t.set,setSessionCookie:t.setSession,destroyCookie:t.destroy,destroyAllCookies:t.destroyAll,addScript:a,parseQueryString:l,uri:c,makeGUID:d,randomInt:h,isElementVerticallyScrolledIntoView:p,serializeForm:u,inherits:s,preventEvent:f}}),define("mods/utils/window",[],function(){return window}),define("mods/device",["jquery","mods/utils/window"],function(e,t){var n={},i={viewport:[{category:"desktop",maxWidth:5e3,minWidth:1025},{category:"tablet",maxWidth:1280,minWidth:768},{category:"phone",maxWidth:767,minWidth:320}],platform:[{category:"windows",tokens:/(Windows)/i},{category:"mac",tokens:/(Macintosh)/i},{category:"iOS",tokens:/(iPad|iPhone|iPod)/i},{category:"android",tokens:/(Android)/i},{category:"silk",tokens:/(Silk)/i},{category:"winmobile",tokens:/(Windows Phone OS|Zune)/i},{category:"linux",tokens:/(Linux)/i}],pixelDensity:[{category:"LDPI",value:1},{category:"MDPI",value:1.5},{category:"HDPI",value:2},{category:"retina",value:2},{category:"XHDPI",value:2.5}]},r={viewport:function(e,t){"not"!==t.category&&(n.is.viewport[t.category]=t.maxWidth>=n.width&&n.width>=t.minWidth)},platform:function(e,i){i.category&&"not"!==i.category&&(n.is.platform[i.category]=i.tokens.test(t.navigator.userAgent))},pixelDensity:function(e,i){"not"!==i.category&&"undefined"!==t.devicePixelDensity&&(n.is[i.category]=t.devicePixelDensity===i.value)},testFor:function(t){for(var n in t)if(t.hasOwnProperty(n)){var i=n;e(t[n]).each(r[i])}},overrideIs:function(t){e(t).each(function(e,t){n.is[t.category]=t.override})}};return n.is={platform:{},viewport:{},desktop:!1,phone:!1,tablet:!1},n.update=function(){return n.width=t.document.documentElement.clientWidth,n.height=t.document.documentElement.clientHeight,r.testFor(i),n.is.desktop=(n.is.platform.mac||n.is.platform.windows||n.is.platform.linux)&&!n.is.platform.iOS&&!n.is.platform.android&&!n.is.platform.silk&&n.is.viewport.desktop,n.is.tablet=(n.is.platform.iOS||n.is.platform.android||n.is.platform.silk)&&n.is.viewport.tablet,n.is.phone=(n.is.platform.iOS||n.is.platform.android||n.is.platform.winmobile)&&n.is.viewport.phone,n.is.supported=n.is.platform.iOS||n.is.platform.android,(n.is.platform.windows||n.is.platform.mac&&!n.is.platform.silk||n.is.platform.linux&&!n.is.platform.android)&&r.overrideIs([{category:"desktop",override:!0},{category:"tablet",override:!1},{category:"phone",override:!1}]),this},n.update(),t.devtest=n,n}),define("mods/utils/iterator",[],function(){var e=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=function(){return this instanceof t?(this.collection=e(arguments[0])?Array.prototype.slice.call(arguments[0]):Array.prototype.slice.call(arguments),this.index=0,this.length=this.collection.length,this):t.apply(new t,arguments)};return t.prototype={isLooping:!1,has:function(e){return this.length>e&&e>=0},hasNext:function(){return this.has(this.index+1)},hasPrev:function(){return this.has(this.index-1)},isFirst:function(e){return e===void 0?this.isFirst(this.index):0===e},isLast:function(e){return e===void 0?this.isLast(this.index):e===this.length-1},isEmpty:function(){return 0===this.length},get:function(e){return this.collection[e]},getNext:function(){var e=this.index+1;return this.isLooping&&!this.hasNext()&&(e=0),this.get(e)},getPrev:function(){var e=this.index-1;return this.isLooping&&!this.hasPrev()&&(e=this.length-1),this.get(e)},current:function(){return this.get(this.index)},next:function(){return this.hasNext()?this.setIndex(this.index+1).current():this.isLooping?this.first():null},prev:function(){return this.hasPrev()?this.setIndex(this.index-1).current():this.isLooping?this.last():null},first:function(){return this.setIndex(0),this.current()},last:function(){return this.setIndex(this.length-1),this.current()},indexOf:function(e,t){if(t=t||0,t=0>t?Math.max(0,this.length+t):t,Array.prototype.indexOf)return this.collection.indexOf(e,t);for(var n=t,i=this.length;i>n;n+=1)if(e===this.collection[n])return n;return-1},setIndex:function(e){if(!this.has(e))throw Error("index out of bounds - collection does not include that index");return this.index=e,this},each:function(e,t){var n;if("function"!=typeof e)throw Error("callback is of type "+typeof e+" expected a function");t&&(n=t);for(var i=0,r=this.length;r>i;i+=1)e.call(n,this.collection[i],i);return this},toJSON:function(){return this.collection},add:function(t,n){e(t)||(t=[t]),void 0!==n&&this.has(n)||(n=this.length);for(var i=0,r=t.length;r>i;i+=1)this.collection.splice(n+i,0,t[i]);return this.length=this.collection.length,this},remove:function(e){return"number"==typeof e&&this.collection.splice(e,1),this.length=this.collection.length,this},update:function(e,t){if(!this.has(e))throw Error("index out of bounds - collection does not include that index");return this.collection[e]=t,this},replace:function(e,t){e=e||0;for(var n=0,i=t.length;i>n;n+=1)this.update(e++,t[n]);return this},empty:function(){return this.collection=[],this.length=this.collection.length,this},filter:function(e){for(var n=[],i=0,r=this.length;r>i;i+=1)e(this.collection[i],i)&&n.push(this.collection[i]);return new t(n)}},t}),define("mods/ads/slot",["mods/utils/eventer","mods/utils/inherits","mods/app"],function(e,t,n){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var i=function i(t){return this instanceof i?(e.call(this),this.$el=t.$el.data("ad",this),this.id=t.id,this.name=t.name,this.size=t.size,this.isDefined=!1,this.service,this.slot,this.queueCommand(this.define),void 0):new i(t)};return i.create=function(e){return new i(e)},t(i,e),i.prototype.NETWORK_CODE="1025485",i.prototype.PUBLISHER_CODE="ca-pub-0766144451700556",i.prototype.getUnit=function(){return"/"+this.NETWORK_CODE+"/"+this.PUBLISHER_CODE+"/"+this.name},i.prototype.queueCommand=function(){var e=arguments[0],t=arguments[1]||this,n=Array.prototype.slice.call(arguments).slice(2),i=function(){return e.apply(t,n)};return window.googletag.cmd.push(i),this
},i.prototype.render=function(){return this.queueCommand(this.display),this},i.prototype.define=function(){return this.isDefined||(n.emit("perf.startTiming","firstAdRendered"),this.service=window.googletag.pubads(),this.slot=window.googletag.defineSlot(this.getUnit(),this.size,this.id),this.slot.addService(this.service),this.slot._origRenderEnded=this.slot.renderEnded,this.slot.renderEnded=this.onRenderEnded.bind(this),this.isDefined=!0,n.emit("ads.slotdefined",this)),this},i.prototype.display=function(){return this.isDefined&&window.googletag.display(this.id),this},i.prototype.refresh=function(){return this.isDefined&&this.service.refresh([this.slot]),this},i.prototype.destroy=function(){return this.isDefined&&(this.$el.remove(),delete this.$el,delete this.service,delete this.slot,this.isDefined=!1,this.emit("ad.destroyed",this.id)),this},i.prototype.onRenderEnded=function(){return n.emit("perf.endTiming","firstAdRendered"),n.emit("perf.markTiming",this.id.substring(0,16)),this.slot._origRenderEnded.apply(this.slot,arguments)},i}),define("mods/ads/quantcast",["mods/app","mods/device","mods/utils/utils"],function(e,t,n){var i={};return i.enabled=function(){var n=e.getConfig();return t.is.desktop&&n.EnableQuantcastAdvertise},i.setup=function(){window.chz_ads_quantcast_callback=function(t){var n=i.extractSegmentIds(t);e.emit("quantcast.segmentIds",n)},n.addScript({id:"chz-ads-quantcast",http:"//",path:"pixel.quantserve.com/api/segments.json?a=p-75z9nhQwNH4Ek&callback=chz_ads_quantcast_callback"}),setTimeout(function(){e.emit("quantcast.segmentIds",[])},500)},i.extractSegmentIds=function(e){var t=[];if(!e.segments)return t;for(var n=0;e.segments.length>n;n++)t.push(e.segments[n].id);return t},i}),define("mods/ads/siteskin",["jquery"],function(e){var t={};return t.$container,t.$el,t.clickThruURL,t.setup=function(){return t.$el=e("#js-ad-siteskin iframe").first().contents(),t.$el.length?(t.$container=e("body").addClass("skinable ad-skin"),t.$container.append(t.getCSS()),t.addClickTarget("js-ad-siteskin-target-01","ad-siteskin-target-left"),t.addClickTarget("js-ad-siteskin-target-02","ad-siteskin-target-right"),t.listen(),this):this},t.listen=function(){var e="#js-ad-siteskin-target-01, #js-ad-siteskin-target-02, #js-ad-siteskin, #carousel";return t.$container.on("click",e,t.onClick),this},t.onClick=function(e){e.target===this&&t.redirect()},t.redirect=function(e){t.clickThruURL=t.clickThruURL||t.getClickThruURL(),(e||window).open(t.clickThruURL)},t.getCSS=function(){return t.$el.find("#site-skin-css")},t.getClickThruURL=function(){return t.$el.find("#site-skin-clickthru").data("clickthru_link")},t.addClickTarget=function(t,n){var i;return t=t||"",n=n||"",i=e("<div />"),i.attr({id:t,"class":"ad-siteskin-target "+n}),i.appendTo("#js-ad-siteskin"),this},window.__siteSkinExecute=t.setup,t}),define("mods/ads/manager",["jquery","mods/utils/utils","mods/app","mods/device","mods/utils/iterator","mods/ads/slot","mods/ads/quantcast","mods/ads/siteskin"],function(e,t,n,i,r,o,s){var a=new r;return a.TAG_SELECTOR=".js-ad",a.hasGPT=!1,a.service=null,a.quantcastSegmentIds=[],a.isEnabled=function(){var e=n.getConfig();return e.HasAsyncAds&&e.ShowAds},a.setup=function(){return a.isEnabled()?(n.emit("perf.startTiming","adsSetup"),s.enabled()?a.setupWithQuantcast():a.setupPlainGPT(),a.listen(),this):this},a.setupWithQuantcast=function(){n.on("quantcast.segmentIds",a.onQuancastSegmentIds,a),s.setup()},a.onQuancastSegmentIds=function(e){n.off("quantcast.segmentIds",a.onQuancastSegmentIds),a.quantcastSegmentIds=e,a.setupPlainGPT()},a.setupPlainGPT=function(){a.queueCommand(a.initGPT),t.addScript({id:"chz-ads-gptasync",http:"//",path:"www.googletagservices.com/tag/js/"+(i.is.desktop?"gpt.js":"gpt_mobile.js")})},a.listen=function(){return n.on("ads.slotdefined",a.add,a),this},a.queueCommand=o.prototype.queueCommand.bind(a),a.initGPT=function(){return a.service=window.googletag.pubads(),a.service.setTargeting("site",a.getSiteForTargeting()),a.service.setTargeting("page",a.getPageForTargeting()),a.service.setTargeting("devicetype",a.getDeviceTypeForTargeting()),a.service.setTargeting("registered",a.getRegisteredStateForTargeting()),n.getConfig().EnableSppAdSkinning&&a.service.setTargeting("ref",a.getRefTagForTargeting()),a.quantcastSegmentIds&&a.quantcastSegmentIds.length&&a.service.setTargeting("qcseg",a.quantcastSegmentIds),a.service.collapseEmptyDivs(),i.is.desktop&&a.service.enableSingleRequest(),a.service.enableAsyncRendering(),a.hasGPT=!0,n.emit("perf.endTiming","adsSetup"),this},a.getRefTagForTargeting=function(){var t=e.grep(window.location.search.substring(1).split("&"),function(e){return"ref"==e.split("=")[0]});if(t.length>0){var n=t[0].split("=");if(n.length>1)return n[1]}return""},a.getSiteForTargeting=function(){return(n.getConfig().SiteName||"cheezburger").toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,10)},a.getPageForTargeting=function(e){return(e||window).location.pathname.substring(0,40).replace(/\//g,"_")},a.getDeviceTypeForTargeting=function(){var e=i.is.desktop?"desktop":i.is.tablet?"tablet":i.is.phone?"phone":"unknown";return e},a.getRegisteredStateForTargeting=function(){return n.getConfig().IsLoggedIn?"1":"0"},a.render=function(){var e=a.getTags();return a.initAdSlots(e),a.queueCommand(function(){window.googletag.enableServices()}),a.queueCommand(a.each,a,function(e){e.render()}),this},a.refresh=function(e){var t,n;if(!a.hasGPT)return this;if(t={},n=function(e){e.refresh()},"string"==typeof e){e=e.split(" ");for(var i=0,r=e.length;r>i;i+=1)t[e[i]]=!0;n=function(e){t[e.id]&&e.refresh()}}return a.each(n),this},a.getTags=function(t){var n,i=e(a.TAG_SELECTOR,e(t||document)),r=[];return i.each(function(t,i){n=e(i),r.push({$el:n,id:n.attr("id"),name:n.data("adtype"),size:n.data("adsize")})}),r},a.findAndRender=function(e){var t=a.getTags(e);return a.initAdSlots(t),a.render(),this},a.findAndRefresh=function(t){var n=e(a.TAG_SELECTOR,e(t||document));return n.each(function(e,t){t.id&&a.get(t.id).refresh()}),this},a.initAdSlots=function(e){for(var t=0,n=e.length;n>t;t+=1)e[t].id&&!a.collection[e[t].id]&&o.create(e[t]);return this},a.add=function(e){return e&&e.id&&!a.collection[e.id]?(e.once("ad.destroyed",a.remove,this),a.collection[e.id]=e,r.prototype.add.call(this,e),this):this},a.remove=function(e){var t;return"string"==typeof e?(t=this.indexOf(this.get(e)),delete this.collection[e]):(t=e,e=(this.get(t)||{}).id,delete this.collection[e]),r.prototype.remove.call(this,t)},a.showDebugLog=function(){var e,t;if(!a.hasGPT)return console.log("GPT has not been loaded"),this;for(var n in googletag.debug_log)if(googletag.debug_log.hasOwnProperty(n)){e=googletag.debug_log[n];for(var i=0,r=e.length;r>i;i+=1){var t=e[i];for(var o in t)t.hasOwnProperty(o)&&"string"==typeof t[o]&&console.log(t[o])}}return this},a}),define("mods/ads/smart-banner",["jquery","mods/device","mods/app","mods/utils/utils"],function(e,t,n,i){var r={},o=n.getConfig();return r.listen=function(){e(document).on("click",".smart-banner .close",function(t){t.preventDefault();var n=e(".smart-banner");n.css("margin-top",0-n.outerHeight()),i.setCookie("seenSmartBanner",!0,365,o.CookieHostname)})},r}),define("mods/utils/model",["mods/utils/inherits","mods/utils/eventer"],function(e,t){var n=function(e){return"[object Object]"===Object.prototype.toString.call(e)},i=function i(){return this instanceof i?(t.call(this),void 0):new i};return e(i,t),i.prototype.set=function(e,t,i){if(n(e)){for(var r in e)e.hasOwnProperty(r)&&this.set(r,e[r],i);return this}if(!this.hasOwnProperty(e))throw Error('cannot set "'+e+'" - '+this.constructor.name+" does not include that property");return this[e]=t,i||(this.emit("update",{property:e,value:t}),this.emit("update:"+e,t)),this},i.prototype.setSilent=function(e,t){return this.set(e,t,!0)},i.prototype.toJSON=function(){var e={};for(var t in this)this.hasOwnProperty(t)&&"function"!=typeof this[t]&&"__handlers"!==t&&(e[t]=this[t]);return e},i.prototype.onUpdateTo=function(e,t,n){var i=e.replace(/(^|\s)/gi," update:").slice(1);return this.on(i,t,n)},i}),define("mods/posts/postmodel",["mods/utils/model","mods/utils/inherits"],function(e,t){var n=function n(t,i){return this instanceof n?(e.call(this),this.index=i,this.siteId=t.SiteId,this.assetId=t.AssetId,this.assetType=t.AssetType,this.canonicalUrl=t.CanonicalUrl,this.href=t.CanonicalUrl,this.src=t.Url,this.previewSrc=t.PreviewUrl,this.embedSrc=t.EmbedUrl,this.fbshares="-",this.echoCommentCount=t.EchoCommentCount,this.facebookCommentCount=t.FacebookCommentCount,this.facebookShareUrl=t.FacebookShareUrl,this.shareAsFacebookPhoto=t.ShareAsFacebookPhoto,this.votes={up:"-",down:"-"},this.hasReadMoreLink=!1,this.isExpanded=!1,this.isAnimatedGif=t.IsAnimatedGif||!1,this.isPreLoaded=!1,this.isPlaying=!1,this.isMyAsset=t.IsMyAsset,this.enableEditMode=!1,this.crossPromoSiteId=t.CrossPromoSiteId,this.mightHavePollDaddy=t.MightHavePollDaddy||!1,this.height=t.Height,this.width=t.Width,this.isPortrait=1>this.width/this.height,this.isLandscape=!this.isPortrait,void 0):new n(t,i)};return t(n,e),n.prototype.window=window,n.prototype.useFullScreen=function(){var e=1>this.window.innerWidth/this.window.innerHeight;return e===this.isPortrait},n}),define("mods/utils/view",["jquery"],function(e){var t=function t(e,n){return this instanceof t?(this.model=e,this.tmpl=n,void 0):new t(e,n)};return t.prototype.setup=e.noop,t.prototype.render=e.noop,t.prototype.remove=e.noop,t}),function(e,t){"object"==typeof exports?module.exports=t:"function"==typeof define&&define.amd?define("libs/mustache",t):e.Mustache=t}(this,function(){function e(e,t){return RegExp.prototype.test.call(e,t)}function t(t){return!e(m,t)}function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e){return(e+"").replace(/[&<>"'\/]/g,function(e){return w[e]})}function r(e){this.string=e,this.tail=e,this.pos=0}function o(e,t){this.view=e,this.parent=t,this.clearCache()}function s(){this.clearCache()}function a(e){for(var t,n=e[3],i=n;(t=e[4])&&t.length;)e=t[t.length-1],i=e[3];return[n,i]}function l(e){function t(e,t,i){if(!n[e]){var r=l(t);n[e]=function(e,t){return r(e,t,i)}}return n[e]}var n={};return function(n,i,r){for(var o,s,l="",u=0,c=e.length;c>u;++u)switch(o=e[u],o[0]){case"#":s=r.slice.apply(r,a(o)),l+=n._section(o[1],i,s,t(u,o[4],r));break;case"^":l+=n._inverted(o[1],i,t(u,o[4],r));break;case">":l+=n._partial(o[1],i);break;case"&":l+=n._name(o[1],i);break;case"name":l+=n._escaped(o[1],i);break;case"text":l+=o[1]}return l}}function u(e){for(var t,n,i=[],r=i,o=[],s=0;e.length>s;++s)switch(t=e[s],t[0]){case"#":case"^":t[4]=[],o.push(t),r.push(t),r=t[4];break;case"/":if(0===o.length)throw Error("Unopened section: "+t[1]);if(n=o.pop(),n[1]!==t[1])throw Error("Unclosed section: "+n[1]);r=o.length>0?o[o.length-1][4]:i;break;default:r.push(t)}if(n=o.pop())throw Error("Unclosed section: "+n[1]);return i}function c(e){for(var t,n,i=[],r=0;e.length>r;++r)t=e[r],n&&"text"===n[0]&&"text"===t[0]?(n[1]+=t[1],n[3]=t[3]):(n=t,i.push(t));return i}function d(e){if(2!==e.length)throw Error("Invalid tags: "+e.join(" "));return[RegExp(n(e[0])+"\\s*"),RegExp("\\s*"+n(e[1]))]}var h={};h.name="mustache.js",h.version="0.7.1",h.tags=["{{","}}"],h.Scanner=r,h.Context=o,h.Writer=s;var p=/\s*/,f=/\s+/,m=/\S/,g=/\s*=/,v=/\s*\}/,y=/#|\^|\/|>|\{|&|=|!/,b=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};h.escape=i,r.prototype.eos=function(){return""===this.tail},r.prototype.scan=function(e){var t=this.tail.match(e);return t&&0===t.index?(this.tail=this.tail.substring(t[0].length),this.pos+=t[0].length,t[0]):""},r.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n),this.pos+=n}return t},o.make=function(e){return e instanceof o?e:new o(e)},o.prototype.clearCache=function(){this._cache={}},o.prototype.push=function(e){return new o(e,this)},o.prototype.lookup=function(e){var t=this._cache[e];if(!t){if("."===e)t=this.view;else for(var n=this;n;){if(e.indexOf(".")>0){var i=e.split("."),r=0;for(t=n.view;t&&i.length>r;)t=t[i[r++]]}else t=n.view[e];if(null!=t)break;n=n.parent}this._cache[e]=t}return"function"==typeof t&&(t=t.call(this.view)),t},s.prototype.clearCache=function(){this._cache={},this._partialCache={}},s.prototype.compile=function(e,t){var n=this._cache[e];if(!n){var i=h.parse(e,t);n=this._cache[e]=this.compileTokens(i,e)}return n},s.prototype.compilePartial=function(e,t,n){var i=this.compile(t,n);return this._partialCache[e]=i,i},s.prototype.compileTokens=function(e,t){var n=l(e),i=this;return function(e,r){if(r)if("function"==typeof r)i._loadPartial=r;else for(var s in r)i.compilePartial(s,r[s]);return n(i,o.make(e),t)}},s.prototype.render=function(e,t,n){return this.compile(e)(t,n)},s.prototype._section=function(e,t,n,i){var r=t.lookup(e);switch(typeof r){case"object":if(b(r)){for(var o="",s=0,a=r.length;a>s;++s)o+=i(this,t.push(r[s]));return o}return r?i(this,t.push(r)):"";case"function":var l=this,u=function(e){return l.render(e,t)},c=r.call(t.view,n,u);return null!=c?c:"";default:if(r)return i(this,t)}return""},s.prototype._inverted=function(e,t,n){var i=t.lookup(e);return!i||b(i)&&0===i.length?n(this,t):""},s.prototype._partial=function(e,t){e in this._partialCache||!this._loadPartial||this.compilePartial(e,this._loadPartial(e));var n=this._partialCache[e];return n?n(t):""},s.prototype._name=function(e,t){var n=t.lookup(e);return"function"==typeof n&&(n=n.call(t.view)),null==n?"":n+""},s.prototype._escaped=function(e,t){return h.escape(this._name(e,t))},h.parse=function(e,i){function o(){if(_&&!C)for(;k.length;)x.splice(k.pop(),1);else k=[];_=!1,C=!1}e=e||"",i=i||h.tags;for(var s,a,l,m,b=d(i),w=new r(e),x=[],k=[],_=!1,C=!1;!w.eos();){if(s=w.pos,l=w.scanUntil(b[0]))for(var T=0,S=l.length;S>T;++T)m=l.charAt(T),t(m)?k.push(x.length):C=!0,x.push(["text",m,s,s+1]),s+=1,"\n"===m&&o();if(s=w.pos,!w.scan(b[0]))break;if(_=!0,a=w.scan(y)||"name",w.scan(p),"="===a)l=w.scanUntil(g),w.scan(g),w.scanUntil(b[1]);else if("{"===a){var E=RegExp("\\s*"+n("}"+i[1]));l=w.scanUntil(E),w.scan(v),w.scanUntil(b[1]),a="&"}else l=w.scanUntil(b[1]);if(!w.scan(b[1]))throw Error("Unclosed tag at "+w.pos);x.push([a,l,s,w.pos]),("name"===a||"{"===a||"&"===a)&&(C=!0),"="===a&&(i=l.split(f),b=d(i))}return x=c(x),u(x)};var x=new s;return h.clearCache=function(){return x.clearCache()},h.compile=function(e,t){return x.compile(e,t)},h.compilePartial=function(e,t,n){return x.compilePartial(e,t,n)},h.compileTokens=function(e,t){return x.compileTokens(e,t)},h.render=function(e,t,n){return x.render(e,t,n)},h.to_html=function(e,t,n,i){var r=h.render(e,t,n);return"function"!=typeof i?r:(i(r),void 0)},h}()),define("mods/posts/fullscreenview",["jquery","mods/utils/view","mods/utils/inherits","libs/mustache"],function(e,t,n,i){var r=function r(n){return this instanceof r?(t.call(this,n),this.html=i.compile(this.template),this.$el=e(this.el),this.setup().listen(),void 0):new r(n)};return r.create=function(e){return new r(e)},n(r,t),r.prototype.APPEND_TO_SELECTOR="body",r.prototype.LAUNCH_BTN_SELECTOR=".js-fullscreen-show",r.prototype.el='<div class="fullscreen-wrap is-hidden" />',r.prototype.template=['<div id="js-fullscreen" class="fullscreen{{#useFullScreen}} is-fullbleed{{/useFullScreen}}"{{#src}} style="background-image: url({{{src}}});"{{/src}}>','<a href="#" class="js-close close">close</a>',"</div>"].join(""),r.prototype.setup=function(){return this.render(),this.$el.appendTo(this.APPEND_TO_SELECTOR),this},r.prototype.listen=function(){return e(document).on("keyup.fullscreen",e.proxy(this.handleKeyPress,this)),this.$el.on("click",".js-close",e.proxy(this.close,this)),this},r.prototype.handleKeyPress=function(e){return 27==e.which&&this.close(),this},r.prototype.show=function(e){return e&&e.preventDefault(),this.$el.removeClass("is-hidden"),this},r.prototype.close=function(e){return e&&e.preventDefault(),this.destroy(),this},r.prototype.render=function(){return this.$el.html(this.html(this.model)),this},r.prototype.destroy=function(){return e(document).off("keyup.fullscreen",this.handleKeyPress),this.$el.hide().remove(),this.$el=null,this.model=null,this},r}),define("libs/chz-tmpl",["jquery","libs/mustache"],function(e,t){e.fn.tmpl=function(n,i,r){if(this.length){n=n||{};var o=this.html(),s=e.trim(t.render(o,n,r));return i?s:e(e.parseHTML(s))}},e.fn.tmplAsString=function(e,t){return this.tmpl(e,!0,t)}}),define("mods/confirmations",["jquery","libs/chz-tmpl"],function(e){var t,n,i={};return i.close=function(){clearTimeout(n),t&&t.remove()},i.fadeClose=function(){t&&t.fadeOut(500,function(){t.remove()})},i.position=function(e){var t=e.$positionNear.offset(),n={},i=e.hposition.toLowerCase(),r=e.vposition.toLowerCase();n.left="left"===i?t.left-(e.$dialog.outerWidth()+e.hoffset):"right"===i?t.left+(e.$positionNear.outerWidth()+e.hoffset):"middle"===i?t.left+e.$positionNear.outerWidth()/2-e.$dialog.outerWidth()/2:0,n.top="top"===r?t.top-(e.$dialog.outerHeight()+e.voffset):"bottom"===r?t.top+(e.$positionNear.outerHeight()+e.voffset):"middle"===r?t.top+e.$positionNear.outerHeight()/2-e.$dialog.outerHeight()/2:0,e.$dialog.css(n)},i.show=function(r){r=e.extend({content:"",$positionNear:null,hposition:"right",vposition:"middle",hoffset:0,voffset:0,$box:null,callback:e.noop,fadeTimeout:3e3},r),i.close(),t=e("#tmpl-confirm-dialog").tmpl(r.content).appendTo("body"),r.$dialog=t,t.data("timeout",r.fadeTimeout),i.position(r),r.callback(t),n=setTimeout(i.fadeClose,r.fadeTimeout)},e(document).on("click",".confirm-msg .close",function(t){t.preventDefault();var n=e(this).parents(".confirm-msg");i.close(n)}).on("mouseenter",".confirm-msg",function(){clearTimeout(n)}).on("mouseleave",".confirm-msg",function(){n=setTimeout(i.fadeClose,e(this).data("timeout"))}),i}),define("mods/posts/addToSite",["jquery","mods/app","mods/confirmations","libs/mustache"],function(e,t,n,i){var r,o,s,a,l,u={};return u.selector="a.js-addToSite",u.template=["{{#sites}}","<li>",'<a class="js-addToSite addToSite" data-sitename="{{sitename}}" data-siteurl="{{url}}" data-assetid="{{assetId}}" href="{{href}}">{{sitename}}</a>',"</li>","{{/sites}}"].join(""),s=function(n){r=t.getConfig();var i=n||0,o={sites:[]},s=e(r.UserSites);return s.length>0&&s.each(function(e,t){o.sites.push({sitename:t.siteName,url:t.url,assetId:i,siteId:t.siteId,href:r.ReblogUrl+"/"+i+"/?destinationSiteId="+t.siteId})}),o.sites.push({sitename:"Create a Site",href:r.LandingPageUrl,assetId:i}),o},u.setup=function(n){var o=i.compile(u.template),a=n?n:".js-post";r=t.getConfig(),e(a).each(function(t,n){var i=e(this).data("postModel")?e(this).data("postModel").assetId:e(this).data("model").AssetId,r=s(i),a=o(r);e(n).find(".js-chzshare-btn ul.dropdown-menu").append(a)})},u.listen=function(){e(document).on("click.addToSite",u.selector,function(e){e.preventDefault(),u.send(this)}).on("mouseleave",".js-chzshare-btn ul.dropdown-menu",function(){o=setTimeout(function(){n.close(),e("html").trigger("click.dropdown.data-api")},3e3)}).on("mouseenter",".js-chzshare-btn ul.dropdown-menu",function(){clearTimeout(o)}),t.on("addToSite.complete",function(e){l(e.msg,e.$a)})},u.auth=function(){return r=t.getConfig(),r.IsLoggedIn?!0:(t.emit("registration.start"),!1)},l=function(e,t){n.show({content:e,$positionNear:t.parents("ul").prev('a[data-toggle="dropdown"]'),hposition:"right",vposition:"middle",hoffset:0})},a=function(n){var i=n.data("sitename"),r=n.data("siteurl"),o={text:"Added to",anchor:{url:r,name:i},cls:"confirm"},s={text:"There was an error posting to your site.",cls:"confirm error"};e.ajax({type:"POST",data:t.addXSRFToken(),url:n.attr("href"),success:function(e){(!e||"boolean"!=typeof e&&!e.success)&&(o=s),t.emit("addToSite.complete",{msg:o,$a:n})}})},u.createSite=function(e){return window.location=r.LandingPageUrl+"?assetId="+e,!1},u.send=function(n){var i=e(n),r=i.data("siteurl"),o=i.data("assetid"),s=i.parents(".js-post"),l=s.data("postModel")?s.data("postModel").canonicalUrl:s.data("model").CanonicalUrl;u.auth(),r||u.createSite(o),a(i),t.emit("sharing-reblog",l)},u}),define("mods/posts/showmore",["jquery","mods/app"],function(e,t){var n={},i='<a href="#" class="js-expand-post post-expand">...Show More</a>';return n.options={maxHeight:216,post:"div.js-post",description:".js-postdescription",link:".js-expand-post",labels:{opened:"...Show Less",closed:"...Show More"}},n.listen=function(){return e(document).on("click",n.options.link,function(t){t.preventDefault();var i=e(t.currentTarget).parents(n.options.post);n.toggle(i)}),t.on("posts.newcontentadded",function(e){for(var t=0,n=e.length;n>t;t+=1)e[t].set("hasReadMoreLink",!0)}),this},n.addLink=function(t){var r=t.jquery?t:e(t);return r.each(function(t,r){if(0==e(r).find(n.options.link).length){var o=e(r).find(n.options.description);o.height()===n.options.maxHeight&&o.after(i)}}),this},n.toggle=function(e){var t=e.find(n.options.description);return t.hasClass("is-collapsed")?e.find(n.options.link).text(n.options.labels.opened):e.find(n.options.link).text(n.options.labels.closed),t.toggleClass("is-collapsed fx-transition-maxheight"),this},n}),define("mods/posts/polldaddy",["jquery"],function(e){var t=RegExp("polldaddy\\.com\\/p(?:oll)?\\/(\\d+)","i"),n={};return n.findPollDaddyLinks=function(n){var i=n.find("a").filter(function(){var n=e(this),i=t.exec(n.attr("href"));return null!=i?(n.data("polldaddy-id",parseInt(i[1])),!0):!1});return i},n.injectPollDaddyScripts=function(t,n){this.findPollDaddyLinks(t).each(function(){var t=e(this),i=t.data("polldaddy-id"),r=e("<div class='PDS_Poll'></div>");r.attr("id","PDI_container"+i),t.replaceWith(r),r.after(e("<div id='PD_superContainer'></div>")),e.getScript("http://static.polldaddy.com/p/"+i+".js",n)})},n});var toMarkdown=function(e){function t(e,t){var n="void"===t.type?"<"+t.tag+"\\b([^>]*)\\/?>":"<"+t.tag+"\\b([^>]*)>([\\s\\S]*?)<\\/"+t.tag+">",i=RegExp(n,"gi"),r="";return r="string"==typeof t.replacement?e.replace(i,t.replacement):e.replace(i,function(e,n,i,r){return t.replacement.call(this,e,n,i,r)})}function n(e){return RegExp(e+"\\s*=\\s*[\"']?([^\"']*)[\"']?","i")}function i(e){return e=e.replace(/<(ul|ol)\b[^>]*>([\s\S]*?)<\/\1>/gi,function(e,t,n){var i=n.split("</li>");for(i.splice(i.length-1,1),a=0,l=i.length;l>a;a++)if(i[a]){var r="ol"===t?a+1+".  ":"*   ";i[a]=i[a].replace(/\s*<li[^>]*>([\s\S]*)/i,function(e,t){return t=t.replace(/^\s+/,""),t=t.replace(/\n\n/g,"\n\n    "),t=t.replace(/\n([ ]*)+(\*|\d+\.) /g,"\n$1    $2 "),r+t})}return i.join("\n")}),"\n\n"+e.replace(/[ \t]+\n|\s+$/g,"")}function r(e){return e=e.replace(/<blockquote\b[^>]*>([\s\S]*?)<\/blockquote>/gi,function(e,t){return t=t.replace(/^\s+|\s+$/g,""),t=o(t),t=t.replace(/^/gm,"> "),t=t.replace(/^(>([ \t]{2,}>)+)/gm,"> >")})}function o(e){return e=e.replace(/^[\t\r\n]+|[\t\r\n]+$/g,""),e=e.replace(/\n\s+\n/g,"\n\n"),e=e.replace(/\n{3,}/g,"\n\n")}for(var s=[{patterns:"p",replacement:function(e,t,n){return n?"\n\n"+n+"\n":""}},{patterns:"br",type:"void",replacement:"\n"},{patterns:"h([1-6])",replacement:function(e,t,n,i){for(var r="",o=0;t>o;o++)r+="#";return"\n\n"+r+" "+i+"\n"}},{patterns:"hr",type:"void",replacement:"\n\n* * *\n"},{patterns:"a",replacement:function(e,t,i){var r=t.match(n("href")),o=t.match(n("title"));return r?"["+i+"]"+"("+r[1]+(o&&o[1]?' "'+o[1]+'"':"")+")":e}},{patterns:["b","strong"],replacement:function(e,t,n){return n?"**"+n+"**":""}},{patterns:["i","em"],replacement:function(e,t,n){return n?"_"+n+"_":""}},{patterns:"code",replacement:function(e,t,n){return n?"`"+n+"`":""}},{patterns:"img",type:"void",replacement:function(e,t){var i=t.match(n("src")),r=t.match(n("alt")),o=t.match(n("title"));return"!["+(r&&r[1]?r[1]:"")+"]"+"("+i[1]+(o&&o[1]?' "'+o[1]+'"':"")+")"}}],a=0,l=s.length;l>a;a++)if("string"==typeof s[a].patterns)e=t(e,{tag:s[a].patterns,replacement:s[a].replacement,type:s[a].type});else for(var u=0,c=s[a].patterns.length;c>u;u++)e=t(e,{tag:s[a].patterns[u],replacement:s[a].replacement,type:s[a].type});e=e.replace(/<pre\b[^>]*>`([\s\S]*)`<\/pre>/gi,function(e,t){return t=t.replace(/^\t+/g,"  "),t=t.replace(/\n/g,"\n    "),"\n\n    "+t+"\n"}),e=e.replace(/^(\s{0,3}\d+)\. /g,"$1\\. ");for(var d=/<(ul|ol)\b[^>]*>(?:(?!<ul|<ol)[\s\S])*?<\/\1>/gi;e.match(d);)e=e.replace(d,function(e){return i(e)});for(var h=/<blockquote\b[^>]*>((?:(?!<blockquote)[\s\S])*?)<\/blockquote>/gi;e.match(h);)e=e.replace(h,function(e){return r(e)});return o(e)};"object"==typeof exports&&(exports.toMarkdown=toMarkdown),"function"==typeof define&&define.amd&&define("libs/to-markdown",[],function(){return toMarkdown}),function(e){function t(){return"Markdown.mk_block( "+uneval(""+this)+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function n(){var e=require("util");return"Markdown.mk_block( "+e.inspect(""+this)+", "+e.inspect(this.trailing)+", "+e.inspect(this.lineNumber)+" )"}function i(e){for(var t=0,n=-1;-1!==(n=e.indexOf("\n",n+1));)t++;return t}function r(e,t){function n(e){this.len_after=e,this.name="close_"+t}var i=e+"_state",r="strong"==e?"em_state":"strong_state";return function(o){if(this[i][0]==t)return this[i].shift(),[o.length,new n(o.length-t.length)];var s=this[r].slice(),a=this[i].slice();this[i].unshift(t);var l=this.processInline(o.substr(t.length)),u=l[l.length-1];if(this[i].shift(),u instanceof n){l.pop();var c=o.length-u.len_after;return[c,[e].concat(l)]}return this[r]=s,this[i]=a,[t.length,t]}}function o(e){for(var t=e.split(""),n=[""],i=!1;t.length;){var r=t.shift();switch(r){case" ":i?n[n.length-1]+=r:n.push("");break;case"'":case'"':i=!i;break;case"\\":r=t.shift();default:n[n.length-1]+=r}}return n}function s(e){return g(e)&&e.length>1&&"object"==typeof e[1]&&!g(e[1])?e[1]:void 0}function l(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(e){if("string"==typeof e)return l(e);var t=e.shift(),n={},i=[];for(!e.length||"object"!=typeof e[0]||e[0]instanceof Array||(n=e.shift());e.length;)i.push(arguments.callee(e.shift()));var r="";for(var o in n)r+=" "+o+'="'+l(n[o])+'"';return"img"==t||"br"==t||"hr"==t?"<"+t+r+"/>":"<"+t+r+">"+i.join("")+"</"+t+">"}function c(e,t,n){var i;n=n||{};var r=e.slice(0);"function"==typeof n.preprocessTreeNode&&(r=n.preprocessTreeNode(r,t));var o=s(r);if(o){r[1]={};for(i in o)r[1][i]=o[i];o=r[1]}if("string"==typeof r)return r;switch(r[0]){case"header":r[0]="h"+r[1].level,delete r[1].level;break;case"bulletlist":r[0]="ul";break;case"numberlist":r[0]="ol";break;case"listitem":r[0]="li";break;case"para":r[0]="p";break;case"markdown":r[0]="html",o&&delete o.references;break;case"code_block":r[0]="pre",i=o?2:1;var a=["code"];a.push.apply(a,r.splice(i)),r[i]=a;break;case"inlinecode":r[0]="code";break;case"img":r[1].src=r[1].href,delete r[1].href;break;case"linebreak":r[0]="br";break;case"link":r[0]="a";break;case"link_ref":r[0]="a";var l=t[o.ref];if(!l)return o.original;delete o.ref,o.href=l.href,l.title&&(o.title=l.title),delete o.original;break;case"img_ref":r[0]="img";var l=t[o.ref];if(!l)return o.original;delete o.ref,o.src=l.href,l.title&&(o.title=l.title),delete o.original}if(i=1,o){for(var u in r[1])i=2;1===i&&r.splice(i,1)}for(;r.length>i;++i)r[i]=arguments.callee(r[i],t,n);return r}function d(e){for(var t=s(e)?2:1;e.length>t;)"string"==typeof e[t]?e.length>t+1&&"string"==typeof e[t+1]?e[t]+=e.splice(t+1,1)[0]:++t:(arguments.callee(e[t]),++t)}var h=e.Markdown=function h(e){switch(typeof e){case"undefined":this.dialect=h.dialects.Gruber;break;case"object":this.dialect=e;break;default:if(!(e in h.dialects))throw Error("Unknown Markdown dialect '"+(e+"")+"'");this.dialect=h.dialects[e]}this.em_state=[],this.strong_state=[],this.debug_indent=""};e.parse=function(e,t){var n=new h(t);return n.toTree(e)},e.toHTML=function(t,n,i){var r=e.toHTMLTree(t,n,i);return e.renderJsonML(r)},e.toHTMLTree=function(e,t,n){"string"==typeof e&&(e=this.parse(e,t));var i=s(e),r={};i&&i.references&&(r=i.references);var o=c(e,r,n);return d(o),o};var f=h.mk_block=function(e,i,r){1==arguments.length&&(i="\n\n");var o=new String(e);return o.trailing=i,o.inspect=n,o.toSource=t,void 0!=r&&(o.lineNumber=r),o};h.prototype.split_blocks=function(e){var t,n=/([\s\S]+?)($|\n(?:\s*\n|$)+)/g,r=[],o=1;for(null!=(t=/^(\s*\n)/.exec(e))&&(o+=i(t[0]),n.lastIndex=t[0].length);null!==(t=n.exec(e));)r.push(f(t[1],t[2],o)),o+=i(t[0]);return r},h.prototype.processBlock=function(e,t){var n=this.dialect.block,i=n.__order__;if("__call__"in n)return n.__call__.call(this,e,t);for(var r=0;i.length>r;r++){var o=n[i[r]].call(this,e,t);if(o)return(!g(o)||o.length>0&&!g(o[0]))&&this.debug(i[r],"didn't return a proper array"),o}return[]},h.prototype.processInline=function(e){return this.dialect.inline.__call__.call(this,e+"")},h.prototype.toTree=function(e,t){var n=e instanceof Array?e:this.split_blocks(e),i=this.tree;try{for(this.tree=t||this.tree||["markdown"];n.length;){var r=this.processBlock(n.shift(),n);r.length&&this.tree.push.apply(this.tree,r)}return this.tree}finally{t&&(this.tree=i)}},h.prototype.debug=function(){var e=Array.prototype.slice.call(arguments);e.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,e),"undefined"!=typeof console&&console.log!==void 0&&console.log.apply(null,e)},h.prototype.loop_re_over_block=function(e,t,n){for(var i,r=t.valueOf();r.length&&null!=(i=e.exec(r));)r=r.substr(i[0].length),n.call(this,i);return r},h.dialects={},h.dialects.Gruber={block:{atxHeader:function(e,t){var n=e.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(!n)return void 0;var i=["header",{level:n[1].length}];return Array.prototype.push.apply(i,this.processInline(n[2])),e.length>n[0].length&&t.unshift(f(e.substr(n[0].length),e.trailing,e.lineNumber+2)),[i]},setextHeader:function(e,t){var n=e.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(!n)return void 0;var i="="===n[2]?1:2,r=["header",{level:i},n[1]];return e.length>n[0].length&&t.unshift(f(e.substr(n[0].length),e.trailing,e.lineNumber+2)),[r]},code:function(e,t){var n=[],i=/^(?: {0,3}\t| {4})(.*)\n?/;if(!e.match(i))return void 0;e:for(;;){var r=this.loop_re_over_block(i,e.valueOf(),function(e){n.push(e[1])});if(r.length){t.unshift(f(r,e.trailing));break e}if(!t.length)break e;if(!t[0].match(i))break e;n.push(e.trailing.replace(/[^\n]/g,"").substring(2)),e=t.shift()}return[["code_block",n.join("\n")]]},horizRule:function(e,t){var n=e.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(!n)return void 0;var i=[["hr"]];return n[1]&&i.unshift.apply(i,this.processBlock(n[1],[])),n[3]&&t.unshift(f(n[3])),i},lists:function(){function e(e){return RegExp("(?:^("+l+"{0,"+e+"} {0,3})("+o+")\\s+)|"+"(^"+l+"{0,"+(e-1)+"}[ ]{0,4})")}function t(e){return e.replace(/ {0,3}\t/g,"    ")}function n(e,t,n,i){if(t)return e.push(["para"].concat(n)),void 0;var r=e[e.length-1]instanceof Array&&"para"==e[e.length-1][0]?e[e.length-1]:e;i&&e.length>1&&n.unshift(i);for(var o=0;n.length>o;o++){var s=n[o],a="string"==typeof s;a&&r.length>1&&"string"==typeof r[r.length-1]?r[r.length-1]+=s:r.push(s)}}function i(e,t){for(var n=RegExp("^("+l+"{"+e+"}.*?\\n?)*$"),i=RegExp("^"+l+"{"+e+"}","gm"),r=[];t.length>0;){if(n.exec(t[0])){var o=t.shift(),s=o.replace(i,"");r.push(f(s,o.trailing,o.lineNumber))}break}return r}function r(e,t,n){var i=e.list,r=i[i.length-1];if(!(r[1]instanceof Array&&"para"==r[1][0]))if(t+1==n.length)r.push(["para"].concat(r.splice(1)));else{var o=r.pop();r.push(["para"].concat(r.splice(1)),o)}}var o="[*+-]|\\d+\\.",s=/[*+-]/,a=RegExp("^( {0,3})("+o+")[ 	]+"),l="(?: {0,3}\\t| {4})";return function(o,l){function u(e){var t=s.exec(e[2])?["bulletlist"]:["numberlist"];return p.push({list:t,indent:e[1]}),t}var c=o.match(a);if(!c)return void 0;for(var d,h,p=[],f=u(c),g=!1,v=[p[0].list];;){for(var y=o.split(/(?=\n)/),b="",w=0;y.length>w;w++){var x="",k=y[w].replace(/^\n/,function(e){return x=e,""
}),_=e(p.length);if(c=k.match(_),void 0!==c[1]){b.length&&(n(d,g,this.processInline(b),x),g=!1,b=""),c[1]=t(c[1]);var C=Math.floor(c[1].length/4)+1;if(C>p.length)f=u(c),d.push(f),d=f[1]=["listitem"];else{var T=!1;for(h=0;p.length>h;h++)if(p[h].indent==c[1]){f=p[h].list,p.splice(h+1),T=!0;break}T||(C++,p.length>=C?(p.splice(C),f=p[C-1].list):(f=u(c),d.push(f))),d=["listitem"],f.push(d)}x=""}k.length>c[0].length&&(b+=x+k.substr(c[0].length))}b.length&&(n(d,g,this.processInline(b),x),g=!1,b="");var S=i(p.length,l);S.length>0&&(m(p,r,this),d.push.apply(d,this.toTree(S,[])));var E=l[0]&&l[0].valueOf()||"";if(!E.match(a)&&!E.match(/^ /))break;o=l.shift();var $=this.dialect.block.horizRule(o,l);if($){v.push.apply(v,$);break}m(p,r,this),g=!0}return v}}(),blockquote:function(e,t){if(!e.match(/^>/m))return void 0;var n=[];if(">"!=e[0]){for(var i=e.split(/\n/),r=[];i.length&&">"!=i[0][0];)r.push(i.shift());e=i.join("\n"),n.push.apply(n,this.processBlock(r.join("\n"),[]))}for(;t.length&&">"==t[0][0];){var o=t.shift();e=new String(e+e.trailing+o),e.trailing=o.trailing}var s=e.replace(/^> ?/gm,"");return this.tree,n.push(this.toTree(s,["blockquote"])),n},referenceDefn:function(e,t){var n=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(!e.match(n))return void 0;s(this.tree)||this.tree.splice(1,0,{});var i=s(this.tree);void 0===i.references&&(i.references={});var r=this.loop_re_over_block(n,e,function(e){e[2]&&"<"==e[2][0]&&">"==e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1));var t=i.references[e[1].toLowerCase()]={href:e[2]};void 0!==e[4]?t.title=e[4]:void 0!==e[5]&&(t.title=e[5])});return r.length&&t.unshift(f(r,e.trailing)),[]},para:function(e){return[["para"].concat(this.processInline(e))]}}},h.dialects.Gruber.inline={__oneElement__:function(e,t,n){var i,r;t=t||this.dialect.inline.__patterns__;var o=RegExp("([\\s\\S]*?)("+(t.source||t)+")");if(i=o.exec(e),!i)return[e.length,e];if(i[1])return[i[1].length,i[1]];var r;return i[2]in this.dialect.inline&&(r=this.dialect.inline[i[2]].call(this,e.substr(i.index),i,n||[])),r=r||[i[2].length,i[2]]},__call__:function(e,t){function n(e){"string"==typeof e&&"string"==typeof r[r.length-1]?r[r.length-1]+=e:r.push(e)}for(var i,r=[];e.length>0;)i=this.dialect.inline.__oneElement__.call(this,e,t,r),e=e.substr(i.shift()),m(i,n);return r},"]":function(){},"}":function(){},"\\":function(e){return e.match(/^\\[\\`\*_{}\[\]()#\+.!\-]/)?[2,e[1]]:[1,"\\"]},"![":function(e){var t=e.match(/^!\[(.*?)\][ \t]*\([ \t]*(\S*)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(t){t[2]&&"<"==t[2][0]&&">"==t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1)),t[2]=this.dialect.inline.__call__.call(this,t[2],/\\/)[0];var n={alt:t[1],href:t[2]||""};return void 0!==t[4]&&(n.title=t[4]),[t[0].length,["img",n]]}return t=e.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),t?[t[0].length,["img_ref",{alt:t[1],ref:t[2].toLowerCase(),original:t[0]}]]:[2,"!["]},"[":function(e){var t=e+"",n=h.DialectHelpers.inline_until_char.call(this,e.substr(1),"]");if(!n)return[1,"["];var i,r,o=1+n[0],s=n[1];e=e.substr(o);var a=e.match(/^\s*\([ \t]*(\S+)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(a){var l=a[1];if(o+=a[0].length,l&&"<"==l[0]&&">"==l[l.length-1]&&(l=l.substring(1,l.length-1)),!a[3])for(var u=1,c=0;l.length>c;c++)switch(l[c]){case"(":u++;break;case")":0==--u&&(o-=l.length-c,l=l.substring(0,c))}return l=this.dialect.inline.__call__.call(this,l,/\\/)[0],r={href:l||""},void 0!==a[3]&&(r.title=a[3]),i=["link",r].concat(s),[o,i]}return a=e.match(/^\s*\[(.*?)\]/),a?(o+=a[0].length,r={ref:(a[1]||s+"").toLowerCase(),original:t.substr(0,o)},i=["link_ref",r].concat(s),[o,i]):1==s.length&&"string"==typeof s[0]?(r={ref:s[0].toLowerCase(),original:t.substr(0,o)},i=["link_ref",r,s[0]],[o,i]):[1,"["]},"<":function(e){var t;return null!=(t=e.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?t[3]?[t[0].length,["link",{href:"mailto:"+t[3]},t[3]]]:"mailto"==t[2]?[t[0].length,["link",{href:t[1]},t[1].substr("mailto:".length)]]:[t[0].length,["link",{href:t[1]},t[1]]]:[1,"<"]},"`":function(e){var t=e.match(/(`+)(([\s\S]*?)\1)/);return t&&t[2]?[t[1].length+t[2].length,["inlinecode",t[3]]]:[1,"`"]},"  \n":function(){return[3,["linebreak"]]}},h.dialects.Gruber.inline["**"]=r("strong","**"),h.dialects.Gruber.inline.__=r("strong","__"),h.dialects.Gruber.inline["*"]=r("em","*"),h.dialects.Gruber.inline._=r("em","_"),h.buildBlockOrder=function(e){var t=[];for(var n in e)"__order__"!=n&&"__call__"!=n&&t.push(n);e.__order__=t},h.buildInlinePatterns=function(e){var t=[];for(var n in e)if(!n.match(/^__.*__$/)){var i=n.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");t.push(1==n.length?i:"(?:"+i+")")}t=t.join("|"),e.__patterns__=t;var r=e.__call__;e.__call__=function(e,n){return void 0!=n?r.call(this,e,n):r.call(this,e,t)}},h.DialectHelpers={},h.DialectHelpers.inline_until_char=function(e,t){for(var n=0,i=[];;){if(e[n]==t)return n++,[n,i];if(n>=e.length)return null;var r=this.dialect.inline.__oneElement__.call(this,e.substr(n));n+=r[0],i.push.apply(i,r.slice(1))}},h.subclassDialect=function(e){function t(){}function n(){}return t.prototype=e.block,n.prototype=e.inline,{block:new t,inline:new n}},h.buildBlockOrder(h.dialects.Gruber.block),h.buildInlinePatterns(h.dialects.Gruber.inline),h.dialects.Maruku=h.subclassDialect(h.dialects.Gruber),h.dialects.Maruku.processMetaHash=function(e){for(var t=o(e),n={},i=0;t.length>i;++i)if(/^#/.test(t[i]))n.id=t[i].substring(1);else if(/^\./.test(t[i]))n["class"]=n["class"]?n["class"]+t[i].replace(/./," "):t[i].substring(1);else if(/\=/.test(t[i])){var r=t[i].split(/\=/);n[r[0]]=r[1]}return n},h.dialects.Maruku.block.document_meta=function(e){if(e.lineNumber>1)return void 0;if(!e.match(/^(?:\w+:.*\n)*\w+:.*$/))return void 0;s(this.tree)||this.tree.splice(1,0,{});var t=e.split(/\n/);for(p in t){var n=t[p].match(/(\w+):\s*(.*)$/),i=n[1].toLowerCase(),r=n[2];this.tree[1][i]=r}return[]},h.dialects.Maruku.block.block_meta=function(e){var t=e.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(!t)return void 0;var n,i=this.dialect.processMetaHash(t[2]);if(""===t[1]){var r=this.tree[this.tree.length-1];if(n=s(r),"string"==typeof r)return void 0;n||(n={},r.splice(1,0,n));for(a in i)n[a]=i[a];return[]}var o=e.replace(/\n.*$/,""),l=this.processBlock(o,[]);n=s(l[0]),n||(n={},l[0].splice(1,0,n));for(a in i)n[a]=i[a];return l},h.dialects.Maruku.block.definition_list=function(e,t){var n,i=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,r=["dl"];if(!(a=e.match(i)))return void 0;for(var o=[e];t.length&&i.exec(t[0]);)o.push(t.shift());for(var s=0;o.length>s;++s){var a=o[s].match(i),l=a[1].replace(/\n$/,"").split(/\n/),u=a[2].split(/\n:\s+/);for(n=0;l.length>n;++n)r.push(["dt",l[n]]);for(n=0;u.length>n;++n)r.push(["dd"].concat(this.processInline(u[n].replace(/(\n)\s+/,"$1"))))}return[r]},h.dialects.Maruku.inline["{:"]=function(e,t,n){if(!n.length)return[2,"{:"];var i=n[n.length-1];if("string"==typeof i)return[2,"{:"];var r=e.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!r)return[2,"{:"];var o=this.dialect.processMetaHash(r[1]),a=s(i);a||(a={},i.splice(1,0,a));for(var l in o)a[l]=o[l];return[r[0].length,""]},h.buildBlockOrder(h.dialects.Maruku.block),h.buildInlinePatterns(h.dialects.Maruku.inline);var m,g=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};m=Array.prototype.forEach?function(e,t,n){return e.forEach(t,n)}:function(e,t,n){for(var i=0;e.length>i;i++)t.call(n||e,e[i],i,e)},e.renderJsonML=function(e,t){t=t||{},t.root=t.root||!1;var n=[];if(t.root)n.push(u(e));else for(e.shift(),!e.length||"object"!=typeof e[0]||e[0]instanceof Array||e.shift();e.length;)n.push(u(e.shift()));return n.join("\n\n")},"function"==typeof define&&define.amd&&define("libs/markdown",[],function(){return e})}(function(){return"undefined"==typeof exports?(window.markdown={},window.markdown):exports}()),define("mods/editable",["jquery","mods/utils/utils","libs/mustache","mods/app","libs/to-markdown","libs/markdown"],function(e,t,n,i,r,o){var s={},a=i.getConfig();return s.html={input:'{{#label}}<label for="{{id}}">{{label}}</label>{{/label}}<input id="{{id}}" value="{{{value}}}" {{#max}} max=" maxlength="{{max}}"{{max}}" {{/max}}">',textArea:'{{#label}}<label for="{{id}}">{{label}}</label>{{/label}}<textarea id="{{id}}" {{#max}}max="{{max}}" maxlength="{{max}}"{{/max}}>{{{value}}}</textarea>',buttons:'<span class="edit-controls"><button class="btn btn-success edit-save">Save</button><button class="btn btn-link edit-cancel">Cancel</button></span>',titleLink:'<a class="alt js-title-link" href="{{url}}" title="{{value}}">{{value}}</a>',counter:'<div class="counter help-block pull-right"><span class="value">{{count}}</span> characters left</div>',build:function(e,t){return s.html[e]="function"==typeof s.html[e]?s.html[e]:n.compile(s.html[e]),s.html[e](t)}},s.addButtons=function(t){var n=e(t).parent();return n.find(".edit-controls").length>0?(n.find(".edit-controls").show(),this):(n.append(s.html.buttons),this)},s.removeButtons=function(t){var n=e(t).parent();return n.find(".edit-controls").length>0&&n.find(".edit-controls").hide(),this},s.enable=function(t){e(".is-editing").length&&t.each(function(t,n){var i=e(n),o="Title"===i.data("edit-key")||"Tagline"===i.data("edit-key"),a=o?i.text():i.html(),l=i.data("edit-key"),u=i.data("edit-control")||"input",c=i.parents(".js-post").length>0?i.parents(".js-post").data("model").AssetId:null,d=i.data("edit-max")||!1;a=e.trim(a);var h={value:o?a:r(a),id:"edit-"+(c?c:"site")+"-"+l,label:"Tagline"===l?null:l,max:d?d:!1};i.data("aid",c).data("origval",e.trim(a)).data("origmarkup",i.html()).html(s.html.build(u,h)),d&&0===i.next(".counter").length&&i.after(s.html.build("counter",{count:d-a.length}))})},s.cancel=function(t){return e(t).each(function(t,n){var i=e(n),o=i.find("input, textarea").eq(0);o.val(r(i.data("origval")))}),this},s.start=function(t){e(t).addClass("editing"),s.addButtons(t)},s.stop=function(t){e(t).removeClass("editing"),s.removeButtons(t)},s.disable=function(t){e(".is-editing").length&&e(t).each(function(t,n){var i=e(n),r=i.find("input, textarea").eq(0),l=o.toHTML(r.val());"Title"==i.data("edit-key")&&(l=s.html.build("titleLink",{value:r.val(),url:a.ViewServer+"/"+i.data("aid")})),i.html(l),i.next(".counter").remove()})},s.listen=function(){e(document).on("click",".is-editing .editable",function(e){e.preventDefault(),s.start(e.currentTarget)}).on("click",".is-editing .edit-cancel",function(t){t.preventDefault();var n=e(t.currentTarget).parents(".edit-controls").prevAll(".editing");s.stop(n),s.cancel(n)}).on("click",".is-editing .edit-save",function(t){t.preventDefault();var n=e(t.currentTarget).parents(".edit-controls").prevAll(".editing");s.stop(n),i.emit("editable.save",{$editables:n})})},s}),define("mods/follow/source",["mods/utils/inherits","mods/utils/model","mods/utils/number"],function(e,t,n){var i={0:"SiteHomePage",1:"SiteVoting",2:"SitePopular"},r={0:"Undefined",1:"UnknownError",2:"NotLoggedIn",3:"FollowingTooManySources"},o={title:"Oops!",body:"Something went badly. Please try again."},s={Undefined:o,UnknownError:o,NotLoggedIn:o,FollowingTooManySources:{title:"Sorry",body:"You can't follow more than 75 sites"}},a=function a(e){if(!(this instanceof a))return new a(e);if(t.call(this),e=e||{},"number"!=typeof e.id)throw Error("source id is invalid - id is required and must be a number");this.id=e.id,this.type=e.type||0,this.isFollowing=e.isFollowing||!1,this.followers=e.followers,this.url=e.url,this.errorCode=e.errorCode};return e(a,t),a.prototype.typeName=function(){return i[this.type]},a.prototype.errorTypeName=function(){return r[this.errorCode]},a.prototype.eventName=function(){return"source."+(this.isFollowing?"followed":"unfollowed")},a.prototype.action=function(){return this.isFollowing?"unfollow":"follow"},a.prototype.followersText=function(){return this.followers>0?n.addCommas(this.followers):""},a.prototype.errorText=function(){var e=s[this.errorTypeName()];return e?e.title:""},a.prototype.errorDetailText=function(){var e=s[this.errorTypeName()];return e?e.body:""},a.prototype.errorClass=function(){return"number"==typeof this.errorCode?"is-error":""},a.prototype.iconClass=function(){return"source-"+this.id},a.prototype.followedClass=function(){return this.isFollowing?"is-followed":""},a.prototype.incrementFollowers=function(e){return"number"==typeof this.followers&&"number"==typeof e&&this.set("followers",this.followers+e),this},a.prototype.clearError=function(){return"number"==typeof this.errorCode&&(this.errorCode=null),this},a}),define("mods/follow/sources",["mods/utils/eventer","mods/follow/source"],function(e,t){var n=new e;return n.collection={},n.key=function(e){if("number"!=typeof e)throw"key(): First param is required and must be an integer to retrieve a source key";var t="source-";return t+e},n.getOrAdd=function(e,t){return n.collection[n.key(e)]||n.set(e,t).get(e)},n.get=function(e){return n.collection[n.key(e)]},n.set=function(e,i){if("number"!=typeof e||"object"!=typeof i)throw"set(): First param must be an integer and 2nd param must be an object";var r=n.key(e),o=n.collection[r];return o?n.updateSource(o,i):(i.id=e,o=new t(i)),n.collection[r]=o,n.emit("update",{property:r,value:o}),n.emit("update:"+r,o),this},n.setAll=function(e){var t;for(var i in n.collection)if(n.collection.hasOwnProperty(i)){t=n.collection[i];for(var r in t)t.hasOwnProperty(r)&&void 0!==e[r]&&(t[r]=e[r])}return this},n.updateSource=function(e,t){for(var n in e)e.hasOwnProperty(n)&&void 0!==t[n]&&"id"!==n&&(e[n]=t[n]);return this},n.count=function(e){var t=[];"function"!=typeof e&&(e=function(){return!0});for(var i in n.collection)n.collection.hasOwnProperty(i)&&e(n.collection[i])&&t.push(i);return t.length},n}),function(e,t,n,i){"function"==typeof define&&define.amd?define("libs/waypoints",["jquery"],function(r){return i(r,t,n,e)}):i(e.jQuery,t,n,e)}(this,"waypoint","waypoints",function(e,t,n,i){"$:nomunge";var r=e(i),o="waypoint.reached",s=function(e,n){e.element.trigger(o,n),e.options.triggerOnce&&e.element[t]("destroy")},a=function(e,t){if(!t)return-1;for(var n=t.waypoints.length-1;n>=0&&t.waypoints[n].element[0]!==e[0];)n-=1;return n},l=[],u=function(t){e.extend(this,{element:e(t),oldScroll:0,waypoints:[],didScroll:!1,didResize:!1,doScroll:e.proxy(function(){var t=this.element.scrollTop(),i=t>this.oldScroll,r=this,o=e.grep(this.waypoints,function(e){return i?e.offset>r.oldScroll&&t>=e.offset:r.oldScroll>=e.offset&&e.offset>t}),a=o.length;this.oldScroll&&t||e[n]("refresh"),this.oldScroll=t,a&&(i||o.reverse(),e.each(o,function(e,t){(t.options.continuous||e===a-1)&&s(t,[i?"down":"up"])}))},this)}),e(t).bind("scroll.waypoints",e.proxy(function(){this.didScroll||(this.didScroll=!0,i.setTimeout(e.proxy(function(){this.doScroll(),this.didScroll=!1},this),e[n].settings.scrollThrottle))},this)).bind("resize.waypoints",e.proxy(function(){this.didResize||(this.didResize=!0,i.setTimeout(e.proxy(function(){e[n]("refresh"),this.didResize=!1},this),e[n].settings.resizeThrottle))},this)),r.load(e.proxy(function(){this.doScroll()},this))},c=function(t){var n=null;return e.each(l,function(e,i){return i.element[0]===t?(n=i,!1):undefined}),n},d={init:function(i,r){return this.each(function(){var s,d=e.fn[t].defaults.context,h=e(this);r&&r.context&&(d=r.context),e.isWindow(d)||(d=h.closest(d)[0]),s=c(d),s||(s=new u(d),l.push(s));var p=a(h,s),f=0>p?e.fn[t].defaults:s.waypoints[p].options,m=e.extend({},f,r);m.offset="bottom-in-view"===m.offset?function(){var t=e.isWindow(d)?e[n]("viewportHeight"):e(d).height();return t-e(this).outerHeight()}:m.offset,0>p?s.waypoints.push({element:h,offset:null,options:m}):s.waypoints[p].options=m,i&&h.bind(o,i),r&&r.handler&&h.bind(o,r.handler)}),e[n]("refresh"),this},remove:function(){return this.each(function(t,n){var i=e(n);e.each(l,function(e,t){var n=a(i,t);n>=0&&(t.waypoints.splice(n,1),t.waypoints.length||(t.element.unbind("scroll.waypoints resize.waypoints"),l.splice(e,1)))})})},destroy:function(){return this.unbind(o)[t]("remove")}},h={refresh:function(){e.each(l,function(t,i){var r=e.isWindow(i.element[0]),o=r?0:i.element.offset().top,a=r?e[n]("viewportHeight"):i.element.height(),l=r?0:i.element.scrollTop();e.each(i.waypoints,function(e,t){if(t){var n=t.options.offset,r=t.offset;if("function"==typeof t.options.offset)n=t.options.offset.apply(t.element);else if("string"==typeof t.options.offset){var u=parseFloat(t.options.offset);n=t.options.offset.indexOf("%")?Math.ceil(a*(u/100)):u}t.offset=t.element.offset().top-o+l-n,t.options.onlyOnScroll||(null!==r&&i.oldScroll>r&&t.offset>=i.oldScroll?s(t,["up"]):null!==r&&r>i.oldScroll&&i.oldScroll>=t.offset?s(t,["down"]):!r&&i.element.scrollTop()>t.offset&&s(t,["down"]))}}),i.waypoints.sort(function(e,t){return e.offset-t.offset})})},viewportHeight:function(){return i.innerHeight?i.innerHeight:r.height()},aggregate:function(){var t=e();return e.each(l,function(n,i){e.each(i.waypoints,function(e,n){t=t.add(n.element)})}),t}};e.fn[t]=function(n){return d[n]?d[n].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof n&&n?"object"==typeof n?d.init.apply(this,[null,n]):(e.error("Method "+n+" does not exist on jQuery "+t),undefined):d.init.apply(this,arguments)},e.fn[t].defaults={continuous:!0,offset:0,triggerOnce:!1,context:i},e[n]=function(e){return h[e]?h[e].apply(this):h.aggregate()},e[n].settings={resizeThrottle:200,scrollThrottle:100},r.load(function(){e[n]("refresh")})}),function(e,t){"function"==typeof define&&define.amd?define("libs/bootstrap-tooltip",["jquery"],t):t(e.jQuery)}(this,function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var r,o;this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,"manual"!=this.options.trigger&&(r="hover"==this.options.trigger?"mouseenter":"focus",o="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(r,this.options.selector,e.proxy(this.enter,this)),this.$element.on(o,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);n.options.delay&&n.options.delay.show?(n.hoverState="in",setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);n.options.delay&&n.options.delay.hide?(n.hoverState="out",setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},show:function(){var e,t,n,i,r,o,s;if(this.hasContent()&&this.enabled){switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(o),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),i=e[0].offsetWidth,r=e[0].offsetHeight,t?o.split(" ")[1]:o){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":s={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":s={top:n.top+n.height/2-r/2,left:n.left+n.width}}e.css(s).addClass(o).addClass("in")}},setContent:function(){var e=this.tip();e.find(".tooltip-inner").html(this.getTitle()),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.remove()})}var n=this.tip();n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title),e=(""+e).replace(/(^\s*|\s*$)/,"")},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("tooltip"),o="object"==typeof n&&n;r||i.data("tooltip",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}),define("mods/posts/postview",["jquery","mods/utils/view","mods/utils/inherits","mods/app","mods/posts/fullscreenview","mods/posts/addToSite","mods/posts/showmore","mods/posts/polldaddy","mods/editable","mods/follow/sources","libs/waypoints","libs/bootstrap-tooltip"],function(e,t,n,i,r,o,s,a,l,u){var c=function c(e,n){return this instanceof c?(t.call(this,e),this.index=n,this.setup().listen(),void 0):new c(e,n)};return c.create=function(e,t){return new c(e,t)},n(c,t),c.prototype.waypointOffset=50,c.prototype.listen=function(){return this.model.onUpdateTo("fbshares",this.renderFBShareCount,this),this.model.onUpdateTo("echoCommentCount facebookCommentCount",this.renderCommentCount,this),this.model.onUpdateTo("votes",this.renderVoteCounts,this),this.model.onUpdateTo("hasReadMoreLink",this.renderReadMore,this),this.model.onUpdateTo("enableEditMode",this.renderEditMode,this),this.$el.on("click",r.prototype.LAUNCH_BTN_SELECTOR,e.proxy(this.launchFullscreen,this)),this},c.prototype.setup=function(){return this.$el=e("#post-"+this.model.assetId),this.$el.data({postIndex:this.index,postModel:this.model}),o.setup(this.$el),this.$el.find("a.js-tooltip").tooltip(),this.$el.waypoint({offset:this.waypointOffset}),this.renderPollDaddy(),e(document).trigger("postSetup.iscroll",[this.$el]),i.getConfig().IsSinglePostPage&&"#use-fullscreen"===window.location.hash&&this.launchFullscreen(),this},c.prototype.render=function(){return this.renderFBShareCount(),this.renderVoteCounts(),this.renderCommentCount(),this.renderReadMore(),this.renderEditMode(),this.renderFollowState(),this.$el.find("a.js-tooltip").tooltip(),o.setup(this.$el),this.renderPollDaddy(),e(document).trigger("postRendered.iscroll",[this.$el]),this},c.prototype.renderFBShareCount=function(){return this.$el.find(".js-fbshare-count").text(this.model.fbshares),this},c.prototype.renderCommentCount=function(){var e=0;return this.model.facebookCommentCount>0&&(e+=this.model.facebookCommentCount),this.model.echoCommentCount>0&&(e+=this.model.echoCommentCount),e>0?this.$el.find(".js-comment-count").text(e):this.$el.find(".js-comment-count").text(""),this},c.prototype.renderVoteCounts=function(){return this.$el.find(".js-vote-up .js-vote-count").text(this.model.votes.up),this.$el.find(".js-vote-down .js-vote-count").text(this.model.votes.down),this},c.prototype.renderFollowState=function(){var e;return this.model.crossPromoSiteId&&(e=u.get(this.model.crossPromoSiteId),e&&e.isFollowing&&this.$el.find(".js-follow").addClass("is-followed")),this},c.prototype.renderReadMore=function(){this.model.hasReadMoreLink&&s.addLink(this.$el)},c.prototype.renderEditMode=function(){var e=this.$el.find(".editable");this.model.enableEditMode?l.enable(e):l.disable(e)},c.prototype.renderPollDaddy=function(){if(this.model.mightHavePollDaddy){var e=this;a.injectPollDaddyScripts(this.$el,function(){e.renderReadMore()})}},c.prototype.launchFullscreen=function(e){return e&&e.preventDefault(),r.create(this.model).show(),this},c}),define("mods/posts/voting",["jquery","mods/app"],function(e,t){var n={};return n.votes={},n.listen=function(){return e(document).on("click",".js-vote-up, .js-vote-down",function(t){t.preventDefault();var i=e(this),r=i.parents(".js-post"),o=(r.data("model")||{}).AssetId,s=(r.data("model")||{}).SiteId,a="True"===r.data("is-submitted"),l=r.data("postModel"),u=i.hasClass("js-vote-up")?1:0;return n.submit(o,u,s),n.fakeVoteCount(o,u,l),n.emitEvents(o,u,a?"submission_meme_vote":"featured_meme_vote"),this}),t.on("posts.newcontentadded",function(e){for(var t=[],i=0,r=e.length;r>i;i+=1)t.push(e[i].assetId);t.length>0&&n.getVotes(t).then(function(t){n.updatePosts(t,e)})}),this},n.emitEvents=function(n,i,r){var o;return 1===i?(o="up",t.emit("voting-upvote",n)):(o="down",t.emit("voting-downvote",n)),e(document).trigger("chzevent.chzTrack",{category:"voting",action:r,label:n,value:i}),e(document).trigger("chzevent.chzTrack",{category:"voting",action:o,label:n}),this},n.getVotes=function(i){var r=t.getConfig().ScoresUrl,o=e.Deferred();return r&&i&&i.length&&e.ajax({url:r,data:{section:3,assetIds:i},dataType:"jsonp",traditional:!0,success:function(e){n.cacheVotes(e,i),o.resolve(e)}}),o.promise()},n.cacheVotes=function(e,t){if(!e||!t)return this;for(var i,r=0,o=t.length;o>r;r+=1)i=t[r],n.votes[i]={Wins:e[i].Wins,Fails:e[i].Fails};return this},n.fakeVoteCount=function(e,t,i){var r={};return r[e]={Wins:n.votes[e]?n.votes[e].Wins:0,Fails:n.votes[e]?n.votes[e].Fails:0},r[e].Wins+=t?1:0,r[e].Fails+=t?0:1,i&&n.updatePosts(r,[i]),this},n.updatePosts=function(e,t){if(!e||!t)return this;for(var n,i=0,r=t.length;r>i;i+=1)n=t[i],n.set("votes",{up:e[n.assetId].Wins,down:e[n.assetId].Fails});return this},n.submit=function(n,i,r){var o=t.getConfig().OnOCastVoteUrl,s=e.Deferred();return o&&e.ajax({url:o,dataType:"jsonp",data:t.addXSRFToken({r:i,assetid:n,vsid:r||t.getConfig().VerticalSiteId,section:3}),success:s.resolve}),s.promise()},n}),define("mods/posts/favorite",["jquery","mods/app"],function(e,t){var n,i,r={};return r.selector="a.js-favorite",r.listen=function(){return t.on("favorite.postLoginAction",function(e){return t.getConfig().IsLoggedIn?(r.send(e.a),void 0):r.retryPostLoginAction(e)}),e(document).on("click.favorite",r.selector,function(e){e.preventDefault(),r.send(this)}),this},r.retryPostLoginAction=function(e){return 2>e.attempts&&(e.attempts+=1,t.emitOnNextPageLoad("favorite.postLoginAction",e)),this},r.auth=function(e){var n=e?{a:e,attempts:0}:{};return t.getConfig().IsLoggedIn?!0:(t.emit("registration.start"),t.emitOnNextPageLoad("favorite.postLoginAction",n),!1)},i=function(e){e.addClass("active").text("Favorited!"),setTimeout(function(){e.text("Favorite")},3e3)},n=function(n){e.ajax({type:"POST",data:t.addXSRFToken(),url:n.attr("href"),success:function(e){i(n,e)}})},r.send=function(i){var o=e(i),s=o.parents(".js-post"),a=s.data("postModel")?s.data("postModel").canonicalUrl:s.data("model").CanonicalUrl,l="#"+s.attr("id")+" "+r.selector;r.auth(l)&&(n(o),t.emit("sharing-favorite",a))},r}),define("mods/posts/influence",["jquery","libs/chz-tmpl"],function(e){var t={};return t.setup=function(t){var n=e("#js-influencer-list",e(t||document)),i=e("a.js-show-influence",e(t||document));i.bind("click",function(t){n.data("hasInfluencers")||r({assetId:(e("div.js-post").data("model")||{}).AssetId,success:o}),n.toggleClass("is-open is-closed"),i.fadeOut(),t.preventDefault()});var r=function(t){t=e.extend({assetId:null,success:function(){}},t),null!==t.assetId&&(n.append('<li id="loading"></li>'),e.ajax({type:"POST",url:"/home/getallsharers",data:{assetId:t.assetId},success:function(e){t.success(e)}}))},o=function(t){var i="";e(t).slice(18,t.length-1).each(function(){var t=e("#tmpl-sharer").tmplAsString(this);i+=t}),n.append(i),e("#loading",n).remove(),n.data("hasInfluencers",!0)}},t}),define("mods/posts/twitter",["jquery","mods/app"],function(e){var t={};return t.listen=function(){return e(document).on("click",".js-tweet-button",function(t){t.preventDefault();var n,i,r=e(this).attr("href"),o=550,s=450;return n=window.screen.width/2-s/2,i=window.screen.height/2-o/2,window.open(r,"Window2","status=no,height="+s+",width="+o+",resizable=yes,left="+n+",top="+i+",screenX="+n+",screenY="+i+",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no"),this}),this},t}),define("mods/ui/floatingShareWidgets",["jquery","mods/device","libs/waypoints"],function(e,t){var n={};return n.listen=function(){return t.is.desktop&&e(".js-footer").waypoint(n.affix,{offset:"75%"}),this},n.affix=function(t){return t.stopPropagation(),e("#js-share-menu-wrap").toggleClass("is-fixed"),this},n}),define("mods/posts/gifplayer",["jquery","mods/app"],function(e,t){var n={};return n.options={playerSelector:".js-gifplayer",postSelector:"div.js-post",isPausedClass:".is-paused",fullPathData:"src",preload:0,autoplay:1,autoplayWhenVisible:!0},n.config=function(t){return e.extend(n.options,t),this},n.setup=function(e){return n.config(e),this},n.listen=function(){var i=e(document);return n.options.autoplayWhenVisible&&i.on("waypoint.reached",function(e,t){n.autoplay(e.target,t)}),i.on("mouseenter mouseleave",n.options.playerSelector,function(e){var t=n.getPostModel(e.currentTarget);n.preload(t)}),i.on("click",n.options.playerSelector,function(e){e.preventDefault();var t=n.getPostModel(e.currentTarget);n.toggle(t)}),t.on("posts.newcontentadded",function(e){for(var t,i=0,r=e.length;r>i;i+=1)t=e[i],t.isAnimatedGif&&(n.options.preload>t.index&&n.preload(t),n.options.autoplay>t.index&&n.play(t))}),this},n.setImage=function(e,t){var n=e.clone();return n.css({minHeight:e.height()+"px",minWidth:e.width()+"px"}),n.attr("src",t),n},n.getPostModel=function(t){return e(t).parents(n.options.postSelector).data("postModel")},n.preload=function(e){var t;return!e||e.isPreLoaded?this:(t=new Image,t.src=e.src,t.onload=function(){e.set("isPreLoaded",!0)},this)},n.toggle=function(e){return e.isPlaying?n.stop(e):n.play(e),this},n.play=function(t){var i,r,o;return t&&t.isAnimatedGif&&!t.isPlaying?(i=e("#post-"+t.assetId),r=i.find(n.options.playerSelector+" img"),o=n.setImage(r,t.src),r.replaceWith(o),o.parent().removeClass(n.options.isPausedClass.replace(".","")),t.set("isPlaying",!0),this):this},n.stop=function(t){var i,r,o;return t&&t.isAnimatedGif&&t.isPlaying?(i=e("#post-"+t.assetId),o=i.find(n.options.playerSelector+" img"),r=n.setImage(o,t.previewSrc),o.replaceWith(r),r.parent().addClass(n.options.isPausedClass.replace(".","")),t.set("isPlaying",!1),this):this},n.autoplay=function(t,i){var r=e(t),o=r.data("postModel"),s=e(n.options.postSelector),a=s.eq(o.index+1).data("postModel"),l=s.eq(o.index-1).data("postModel");return"down"===i?n.play(o).play(a).stop(l):n.play(o).stop(a).play(l),this},n}),define("mods/posts/videoplayer",["jquery","mods/app","libs/mustache"],function(e,t,n){var i={};return i.options={postSelector:"div.js-post",playerSelector:".js-videoplayer",isPausedClass:".is-paused",preload:0,tmpl:['<div id="video-{{assetId}}">','<iframe class="video-embed" src="{{src}}" width="{{width}}" height="{{height}}" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>',"</div>"].join("")},i.config=function(t){return e.extend(i.options,t),this},i.listen=function(){return e(document).on("click",i.options.playerSelector,function(e){e.preventDefault();var t=i.getPostModel(e.currentTarget);t&&i.play(t)}),t.on("posts.newcontentadded",function(e){for(var t,n=0,r=e.length;r>n;n+=1)t=e[n],1==t.assetType&&(i.options.preload===!0||i.options.preload>t.index)&&i.play(t)}),this},i.getPostModel=function(t){return e(t).parents(i.options.postSelector).data("postModel")},i.play=function(t){var r=e("#post-"+t.assetId),o=r.find(i.options.playerSelector+" img"),s=e(n.render(i.options.tmpl,{assetId:t.assetId,src:t.embedSrc.replace("&autoplay=0","")+"&autoplay=1",width:o.width(),height:o.height()}));
return o.parents(".videoplayer-wrap").replaceWith(s),this},i}),define("mods/analytics/google",["mods/app","mods/utils/utils","jquery"],function(e,t){window._gaq=window._gaq||[];var n={};return n.options={gaAcctId:"UA-4387187-2",domainName:"cheezburger.com"},n._tracker=null,n.setup=function(i,r){$.extend(n.options,i);var o=$.extend({},e.getConfig(),r);return t.addScript({id:"chz-ga-lib",http:"//www",https:"//ssl",path:".google-analytics.com/ga.js"}),window._gaq.push(["_setAccount",n.options.gaAcctId],["_setDomainName",n.options.domainName]),o.ContextualSiteId&&window._gaq.push(["_setCustomVar",5,"Contextual Site Id",""+o.ContextualSiteId,3]),o.ClusterSiteId&&window._gaq.push(["_setCustomVar",4,"Cluster Site Id",""+o.ClusterSiteId,3]),window._gaq.push(["_trackPageview"],function(){n._tracker=window._gat._getTrackerByName()}),this},n.logPageView=function(e){return e&&window._gaq.push(["_trackPageview",e]),this},n.logEvent=function(e){return _gaq.push(function(){n._tracker=n._tracker||window._gat._getTrackerByName(),n._tracker._trackEvent(e.category,e.action,e.label,e.value)}),this},n}),define("mods/analytics/comscore",["mods/app","mods/utils/utils"],function(e,t){window._comscore=window._comscore||[];var n={};return n.options={acctId:"9290244"},n.loggedPages={},n.getTag=function(){return{c1:"2",c2:n.options.acctId,c4:window.location.href}},n.setup=function(e){$.extend(n.options,e);var i=n.getTag();return window._comscore.push(i),t.addScript({id:"chz-comsc-lib",http:"//b",https:"//sb",path:".scorecardresearch.com/beacon.js"}),n.loggedPages[n.getFirstPageToken()]=!0,this},n.getFirstPageToken=function(){var t=e.getConfig();return t.PathWithoutPage+"iscrollV2/"+t.Page},n.fetchPageViewCandidate=function(){return $.getJSON("/Shared/ComscorePageViewCandidate"),this},n.logPageView=function(e){if(n.loggedPages[e])return this;n.loggedPages[e]=!0,n.fetchPageViewCandidate();var t=n.getTag();return t.c4=e,window.COMSCORE&&window.COMSCORE.beacon(t),this},n}),define("mods/analytics/clicktrack",["jquery"],function(e){var t=["category","action","label","value"];return{setup:function(n){e(n||document).on("click","a[data-chzevt_category], *.js-analytics-event",function(){for(var n=e(this),i={},r=0;t.length>r;r++){var o=t[r],s=n.data("chzevt_"+o);s!==void 0&&(i[o]=s)}e(document).trigger("chzevent.chzTrack",i)})}}}),define("mods/analytics/analytics",["jquery","mods/utils/utils","mods/analytics/google","mods/analytics/comscore","mods/analytics/clicktrack"],function(e,t,n,i,r){var o={useGA:!0,useQC:!0,useCS:!0,gaAcctId:"UA-4387187-2",csAcctId:"9290244",qcAcctId:"p-75z9nhQwNH4Ek",domainName:"cheezburger.com",eventName:"chzevent",eventNamespace:".chzTrack"},s=!1;window._qevents=window._qevents||[];var a=function(t){return e.extend(o,t),o.useGA&&n.setup(t),o.useCS&&i.setup(t),o.useQC&&!s&&d(),r.setup(),this},l=function(){return e(document).on("pageView"+o.eventNamespace,function(e,t){t&&u(t.page)}).on(o.eventName+o.eventNamespace,function(e,t){c(t)}),this},u=function(e){return e?(o.useGA&&n.logPageView(e),o.useCS&&i.logPageView(e),o.useQC&&_qevents.push([{qacct:o.qcAcctId},{qacct:"p-94wNw88f65Rhk",labels:"VH1 Pop Culture,MTVN Global Digital Network,MTVN Digital Tribes,Thirtysomething Tribe,MTVN Music and Logo Global Network,MTVN Music and Logo Tribes,VH1 plus Thirtysomething"},{qacct:"p-hb53Y9c2XTh7v",labels:"_fp.event."+m(document.location.pathname,document.location.search,document.location.hash)}]),this):void 0},c=function(e){var t=p(e);return f(t)&&h(t),this},d=function(){window._qevents=window._qevents||[],window._qevents.push([{qacct:o.qcAcctId},{qacct:"p-94wNw88f65Rhk",labels:"VH1 Pop Culture,MTVN Global Digital Network,MTVN Digital Tribes,Thirtysomething Tribe,MTVN Music and Logo Global Network,MTVN Music and Logo Tribes,VH1 plus Thirtysomething"},{qacct:"p-hb53Y9c2XTh7v",labels:"_fp.event."+m(document.location.pathname,document.location.search,document.location.hash)}]),t.addScript({id:"chz-quantc-lib",http:"//edge",https:"//secure",path:".quantserve.com/quant.js"}),s=!0},h=function(e){o.useGA&&n.logEvent(e)},p=function(e){isNaN(e.value)?delete e.value:e.value=parseInt(e.value,10);for(var t in e)e[t]&&"value"!==t&&(e[t]=""+e[t]);return e},f=function(e){if(!e.hasOwnProperty("action"))throw Error('event "action" is required for custom & social event types');if(!e.hasOwnProperty("category"))throw Error('event "category" is required');return!0},m=function(e,t,n){var i,r,o;for(e=e.replace(/\//gi,"-slash-"),"-slash-"===e&&(e="homepage"),e=e.replace(/\./gi,"_"),t=t.replace(/\?/gi,"-"),i=t.split("&"),r=[],o=0;i.length>o;o++)r.push(i[o].split("=")[0]);return e+=r.join("-"),e+=n.replace(/#/gi,"-")};return{options:o,setup:a,listen:l,logEvent:c,logPageView:u}}),define("mods/facebook/connection",["jquery","mods/app","mods/utils/cookies","mods/analytics/analytics"],function(e,t,n,i){var r={};return r.setup=function(){t.on("facebook-ready",r.getLoginStatus),t.on("facebook-login-status",r.logDailyStatusEvent)},r.getLoginStatus=function(){window.FB.getLoginStatus(r.onLoginStatus),window.FB.Event.subscribe("auth.authResponseChange",r.onLoginStatus)},r.onLoginStatus=function(e){"connected"==e.status&&t.emit("facebook-login-status-connected",e.authResponse),"not_authorized"==e.status&&t.emit("facebook-login-status-not-authorized"),t.emit("facebook-login-status",e)},r.logDailyStatusEvent=function(e){var o=e.status;n.get("login-status")||(i.logEvent({category:"facebook-opengraph",action:"login-status",label:r.getAuthenticationStatus()+"-"+o}),n.set("login-status",o,1,t.getConfig().CookieHostname),"connected"==o&&t.getConfig().IsLoggedIn&&window.FB.api("/me",r.logDailyEmailMatch))},r.logDailyEmailMatch=function(e){if(e.email){var n=e.email,r=n.substring(0,n.indexOf("@")),o=n.substring(n.indexOf("@")+1),s=r.length+"."+o.length,a=t.getConfig().UserEmailHash,l=s==a?1:0;i.logEvent({category:"facebook-opengraph",action:"email-same",value:l})}},r.getAuthenticationStatus=function(){return t.getConfig().IsLoggedIn?"authenticated":"anonymous"},r}),define("mods/facebook/permissions",["jquery","mods/app","mods/analytics/analytics"],function(e,t){var n={};n.granted={},n.setup=function(){t.on("facebook-login-status-connected",n.initalize)},n.initalize=function(){r().pipe(o)},n.check=function(e){n.granted[e.permission]?e.granted():e.demand===!0?s(e):e.denied()};var i=function(t){var n=e.Deferred(),i=function(e){e.error?n.fail(e.error):n.resolve()};return window.FB.login(i,{scope:t.permission}),n.promise()},r=function(){var t=e.Deferred(),n=function(e){e.error?t.fail(e.error):t.resolve(e.data[0])};return window.FB.api("/me/permissions",n),t.promise()},o=function(e){n.granted=e},s=function(e){e.demand=!1;var t=function(){n.check(e)};i(e).pipe(r).pipe(o).done(t)};return n}),define("mods/facebook/friends",["jquery","mods/app"],function(e,t){var n={};return n.setup=function(){t.on("facebook-login-status-connected",n.getFriends),t.on("facebook-friends-list",n.onFriendsListReceived)},n.getFriends=function(){window.FB.api("/me/friends?limit=30",{fields:"name,id,location,birthday"},n.receivedFriends)},n.receivedFriends=function(e){e.data&&t.emit("facebook-friends-list",e.data)},n.onFriendsListReceived=function(t){for(var n="",i=t.length>=9?9:t.length,r=0;i>r;r++)n+='<img src="https://graph.facebook.com/'+t[r].id+'/picture" class="pic-form" />';e(".friends-avatar").html(n)},n}),define("mods/preferences",["jquery","mods/app","mods/utils/utils"],function(e,t,n){var i=t.getConfig(),r={};return r.defaults={OGFavoriting:!0},r.getPreferences=function(t){e.ajax({dataType:"jsonp",url:i.ProfileDomain+"/"+i.Username+"/Preferences",success:function(e){r.setPreferencesCookie(e),t&&t(e)}})},r.setPreferencesCookie=function(e){n.destroyCookie("preferences",i.CookieHostname),n.setCookie("preferences",JSON.stringify(e),1e3,i.CookieHostname)},r.getPreferencesCookie=function(){return JSON.parse(n.getCookie("preferences"))},r.userPrefers=function(e,t){r.withCurrentPreferences(function(n){n[e]&&t.allowed(t.data),null==n[e]&&t.unknown(t.data)})},r.withCurrentPreferences=function(e){var t=r.getPreferencesCookie();t?e(t):r.getPreferences(e)},r.savePreference=function(e,t){r.withCurrentPreferences(function(n){n[e]=t,r.setPreferencesCookie(n),r.setPreference(e,t)})},r.setPreference=function(t,n){e.ajax({dataType:"jsonp",url:i.ProfileDomain+"/"+i.Username+"/SetPreference",data:{preferenceToSet:t,preferenceValue:n}})},r.setDefaults=function(){e.map(r.defaults,function(e,t){r.setPreference(t,e)}),r.getPreferences()},r}),define("mods/facebook/og-actions",["jquery","mods/app","mods/analytics/analytics","mods/preferences"],function(e,t,n,i){var r={};return r.favoriteQueue=[],r.setup=function(){t.on("facebook-login-status-connected",r.onUserConnected),t.on("sharing-favorite",r.onFavorite),e("#js-og-enable-favorite-btn").on("click",r.onEnableBtnClick),e("#js-og-disable-no-thanks-btn").on("click",r.onDisableBtnClick),e("#js-og-disable-close-btn").on("click",r.onDisableBtnClick)},r.userConnected=!1,r.onUserConnected=function(){for(r.userConnected=!0;null!=(postUrl=r.favoriteQueue.pop());)r.onFavorite(postUrl)},r.onFavorite=function(t){if(!r.userConnected)return r.favoriteQueue.push(t),void 0;var o={data:t,allowed:function(e){r.postFavorite(e)},unknown:function(t){e("#js-og-enable-favorite-btn").data("postUrl",t),e("#js-og-favorite-gate").modal("show"),n.logEvent({category:"facebook-opengraph",action:"preference-dialog",label:"favoriting-shown"})}};i.userPrefers("OGFavoriting",o)},r.onEnableBtnClick=function(t){t.preventDefault(),e("#js-og-favorite-gate").modal("hide"),i.savePreference("OGFavoriting",!0),n.logEvent({category:"facebook-opengraph",action:"preference-set",label:"favoriting",value:1}),r.postFavorite(e("#js-og-enable-favorite-btn").data("postUrl"))},r.onDisableBtnClick=function(t){t.preventDefault(),e("#js-og-favorite-gate").modal("hide"),n.logEvent({category:"facebook-opengraph",action:"preference-set",label:"favoriting",value:0}),i.savePreference("OGFavoriting",!1)},r.getFavoriteActionUrl=function(){return"/me/"+t.getConfig().FacebookAppNamespace+":favorite?access_token="+window.FB.getAccessToken()},r.postFavorite=function(e){window.FB.api(r.getFavoriteActionUrl(),"post",{meme:e},r.onFavoriteActionComplete)},r.onFavoriteActionComplete=function(t){t.id&&n.logEvent({category:"facebook-opengraph",action:"favorite",label:e("#js-og-enable-favorite-btn").data("postUrl"),value:t.id})},r}),define("mods/facebook/registration",["jquery","mods/app","mods/utils/window","mods/utils/cookies","mods/analytics/analytics"],function(e,t,n,i,r){var o={};return o.register=function(e){i.set("facebook_access_token",e.authResponse.accessToken,1,t.getConfig().CookieHostname),n.FB.api("/me",o.loginOrRegister)},o.loginOrRegister=function(n){e("#js-registration-email").val(n.email).attr("readonly","readonly"),e.ajax({dataType:"jsonp",url:t.getConfig().FacebookLoginAndRegisterUrl,data:{email:n.email},success:o.onLoginAttemptComplete,error:o.onLoginAttemptError})},o.onLoginAttemptComplete=function(t){t.loggedIn===!1?(e("#js-registration").modal("show"),t.errors.length>=1&&o.logRegistrationErrors(t.errors)):n.location.reload()},o.logRegistrationErrors=function(t){e.map(t,function(e){var t=e.field_name,n=e.message;r.logEvent({category:"facebook-opengraph",action:"registration-error",label:"Error field: "+t+"; Error message: "+n})})},o.onLoginAttemptError=function(){r.logEvent({category:"facebook-registration-funnel",action:"facebook-login-server-failure",label:n.location.href})},o}),define("mods/facebook/conversion",["jquery","mods/app","mods/analytics/analytics","mods/utils/cookies","mods/preferences","mods/utils/window","mods/facebook/registration"],function(e,t,n,i,r,o,s){var a={};return a.timeoutInDays=.004,a.useSeamlessConversion=!0,a.getRedirectUrl=function(){var e=o.location.href;return e.indexOf("#")>=0&&(e=e.substring(0,e.indexOf("#"))),e},a.convertUserAccount=function(){i.set("conversion_started","0",a.timeoutInDays,t.getConfig().CookieHostname),1!=t.getConfig().IsLoggedIn&&(i.setSession("facebook_login_or_registration_started","true"),i.setSession("facebook_signin_start_url",a.getRedirectUrl())),n.logEvent({category:"facebook-opengraph",action:"conversion",label:"started"}),a.useSeamlessConversion?a.seamlessConversion():a.redirectConversion()},a.seamlessConversion=function(){o.FB.login(a.continueConversion,{scope:"email,publish_actions,user_photos,photo_upload"})},a.redirectConversion=function(){setTimeout(function(){o.location.href="https://www.facebook.com/dialog/oauth?client_id="+t.getConfig().FacebookAppId+"&redirect_uri="+a.getRedirectUrl()+"&scope=email,publish_actions,user_photos,photo_upload"},200)},a.continueConversion=function(e){var o=parseInt(i.get("conversion_started"));0==o&&(i.set("conversion_started","1",a.timeoutInDays,t.getConfig().CookieHostname),"connected"==e.status?(t.getConfig().IsLoggedIn?r.setDefaults():s.register(e),n.logEvent({category:"facebook-opengraph",action:"conversion",label:"success"})):n.logEvent({category:"facebook-opengraph",action:"conversion",label:"fail"}))},t.on("facebook-login-status",a.continueConversion),a}),define("mods/facebook/favorite-conversion",["jquery","mods/app","mods/facebook/conversion","mods/analytics/analytics","mods/utils/window","mods/utils/cookies","mods/preferences"],function(e,t,n,i,r,o){var s={};return s.setup=function(){t.on("sharing-favorite",s.onFavorite),t.on("facebook-login-status-not-authorized",s.onUserNotAuthorized),e("#js-connection-no-thanks-btn").on("click",s.onNoThanksClick),e("#js-connection-close-btn").on("click",s.onNoThanksClick),e("#js-connection-convert-btn").on("click",s.onConvertClick)},s.onFavorite=function(){var t=o.get("fbAttemptedConversion");s.userNotAuthorized&&!t&&(e("#js-connection-conversion-gate").modal("show"),i.logEvent({category:"facebook-opengraph",action:"connection-dialog",label:"favoriting-shown"}))},s.userNotAuthorized=!1,s.onUserNotAuthorized=function(){s.userNotAuthorized=!0},s.onNoThanksClick=function(n){n.preventDefault(),o.set("fbAttemptedConversion","attempt",7,t.getConfig().CookieHostname),e("#js-connection-conversion-gate").modal("hide"),i.logEvent({category:"facebook-opengraph",action:"connection-choice",label:"favoriting",value:0})},s.onConvertClick=function(t){t.preventDefault(),e("#js-connection-conversion-gate").modal("hide"),i.logEvent({category:"facebook-opengraph",action:"connection-choice",label:"favoriting",value:1}),n.convertUserAccount()},s}),define("mods/facebook/join",["jquery","mods/app","mods/analytics/analytics"],function(e,t,n){var i={};return i.userConnected=!1,i.userJustRegistered=!1,i.setup=function(){t.on("facebook-login-status-connected",i.onConnected),t.on("facebook-registration-complete",i.onUserJustRegistered)},i.onConnected=function(){i.userConnected=!0,i.publishAction()},i.onUserJustRegistered=function(){i.userJustRegistered=!0,i.publishAction()},i.publishAction=function(){i.userConnected&&i.userJustRegistered&&FB.api("/me/"+t.getConfig().FacebookAppNamespace+":join?access_token="+FB.getAccessToken(),"post",{site:t.getConfig().HomepageUrl},i.onActionPublished)},i.onActionPublished=function(e){e.id&&n.logEvent({category:"facebook-opengraph",action:"join-site",label:e.id})},i}),define("mods/facebook/voting",["jquery","mods/app","mods/analytics/analytics","mods/preferences"],function(e,t,n,i){var r={};return r.setup=function(){t.getConfig().EnableOGVoting&&(t.on("facebook-login-status-connected",r.onUserConnected),t.on("voting-upvote",r.onVote))},r.userConnected=!1,r.onUserConnected=function(){r.userConnected=!0},r.onVote=function(t){if(r.userConnected){var n=e("#post-"+t),o=(n.data("model")||{}).CanonicalUrl,s={data:o,allowed:function(e){r.postVote(e)},unknown:function(){}};i.userPrefers("OGFavoriting",s)}},r.postVote=function(e){window.FB.api(r.getUpvoteActionUrl(),"post",{meme:e},r.onVotingActionComplete)},r.getUpvoteActionUrl=function(){return"/me/"+t.getConfig().FacebookAppNamespace+":vote?access_token="+window.FB.getAccessToken()},r.onVotingActionComplete=function(i){var r="";t.getConfig().IsSinglePostPage&&(r=e(".js-post").data("model").AssetId),i.id&&n.logEvent({category:"facebook-opengraph",action:"vote",label:r,value:i.id})},r}),define("mods/facebook/create-meme",["jquery","mods/app","mods/analytics/analytics","mods/preferences"],function(e,t,n,i){var r={};return r.setup=function(){t.getConfig().EnableOGCreateMeme&&(t.on("facebook-login-status-connected",r.onUserConnected),t.on("share-created-meme",r.onShare))},r.userConnected=!1,r.onUserConnected=function(){r.userConnected=!0},r.onShare=function(e){if(r.userConnected){var t={data:e,allowed:r.facebookSharingAllowed,unknown:function(){}};i.userPrefers("OGFavoriting",t)}},r.facebookSharingAllowed=function(e){e.ShareAsFacebookPhoto?r.postShareAsPhoto(e.CanonicalUrl,e.FacebookShareUrl):r.postShareAsNewsfeed(e.CanonicalUrl,e.FacebookShareUrl)},r.postShareAsPhoto=function(e,t){window.FB.api(r.getCreateActionUrl()+"&"+r.getUserGeneratedImageParams(t),"post",{meme:e,message:e},function(t){r.onCreateActionComplete(t,e)})},r.postShareAsNewsfeed=function(e){window.FB.api(r.getCreateActionUrl(),"post",{meme:e,message:e},function(t){r.onCreateActionComplete(t,e)})},r.getCreateActionUrl=function(){return"/me/"+t.getConfig().FacebookAppNamespace+":create?access_token="+window.FB.getAccessToken()},r.getUserGeneratedImageParams=function(e){return"image[0][user_generated]=true&image[0][url]="+e},r.onCreateActionComplete=function(e,t){e.id?n.logEvent({category:"facebook-opengraph",action:"create-meme",label:t,value:e.id}):n.logEvent({category:"facebook-opengraph",action:"create-meme-error",label:e.type+" "+e.message})},r}),define("mods/ui/dashboardfacebookheader",["jquery","mods/utils/cookies","mods/utils/debouncer","mods/utils/window","mods/facebook/conversion"],function(e,t,n,i,r){var o={};return o.options={cookieName:"dashhc",cookieDaysToLive:365},o.config=function(t){return e.extend(o.options,t),this},o.setup=function(t){return o.config(t),e("#js-banner-convert-btn").on("click",o.onConvertClick),this},o.listen=function(){return e(document).on("click","#js-registration-header-collapse",function(){e("#js-registration-banner-header").hide(300),o.saveHideHeader()}),this},o.setCategory=function(t){e("#js-banner-convert-btn").data("chzevt_category",t)},o.saveHideHeader=function(){return t.set(o.options.cookieName,"",o.options.cookieDaysToLive),this},o.onConvertClick=function(e){e.preventDefault(),r.convertUserAccount()},o}),define("mods/facebook/analytics",["jquery","mods/analytics/analytics","mods/utils/window","mods/utils/utils"],function(e,t,n,i){var r={};return r.logOGReferrals=function(){var e=i.parseQueryString(n.location.search);if(!(null==e.fb_action_ids||null==e.fb_action_types||0>e.fb_action_types.indexOf(":"))){var r=e.fb_action_ids,o=e.fb_action_types,s=o.split(":")[1];t.logEvent({category:"facebook-opengraph",action:"og-referral",label:s,value:r})}},r}),define("mods/ui/popover",["jquery","libs/mustache","mods/utils/debouncer"],function(e,t,n){var i=function(t){return this instanceof i?(this.options=e.extend({},this.options,t),this.model=this.options.model,this.$el=e('<div id="js-popover" style="position:absolute; top:-99999px;"></div>').appendTo(this.options.container),void 0):new i(t)};return i.prototype={options:{triggerSelector:".js-showpopover",container:"body",showOn:"hover",align:"center",vAlignTopClass:"top",vAlignBottomClass:"bottom",vMargin:20,autoAdjustVAlign:!0,model:{content:""},template:['<div class="chz-popover">','<a class="js-close close icons" data-icon="X"></a>','<div class="chz-popover-content">',"{{content}}","</div>","</div>"].join("")},listen:function(){return"hover"===this.options.showOn.toLowerCase()&&(e(document).on("mouseenter",this.options.triggerSelector,this.events.onTriggerMouseIn(this)).on("mouseleave",this.options.triggerSelector,this.events.onTriggerMouseOut(this)),this.$el.on("mouseenter",this.events.onPopoverMouseIn(this)).on("mouseleave",this.events.onPopoverMouseOutAndCloseBtnClick(this))),this.$el.on("click",".js-close",this.events.onPopoverMouseOutAndCloseBtnClick(this)),this},events:{onTriggerMouseIn:function(e){return function(t){e.hide().show(t.currentTarget)}},onTriggerMouseOut:function(e){return function(){e.delayedHide()}},onPopoverMouseIn:function(e){return function(){e.delayedHide.cancel()}},onPopoverMouseOutAndCloseBtnClick:function(e){return function(){e.hide()}}},shouldAlignBelowTarget:function(t,n){return this.options.autoAdjustVAlign&&0>t-e(window).scrollTop()-n},getPosition:function(e){var t=this.$el.outerHeight(),n=this.options.vAlignTopClass,i=e.top-t-this.options.vMargin,r=e.left-this.$el.outerWidth()/2;switch(this.shouldAlignBelowTarget(e.top,t)&&(n=this.options.vAlignBottomClass,i=e.top+e.height+this.options.vMargin),this.options.align){case"right":r+=e.width-parseInt(this.$el.css("margin-right").replace("px",""),10)||0;break;case"left":r-=e.width;break;default:r+=e.width/2}return{vAlignClass:n,top:i,left:0>r?0:r}},getDimensions:function(e){var t=e.offset();return 0===t.top&&0===t.left&&(t=e.offset()),{top:t.top,left:t.left,height:e.outerHeight(),width:e.outerWidth()}},positionNear:function(e){var t=this.options.vAlignTopClass+" "+this.options.vAlignBottomClass,n=this.getPosition(this.getDimensions(e));return this.$el.css({top:n.top,left:n.left}),this.$el.children().first().removeClass(t).addClass(n.vAlignClass),this},render:function(e){var n=t.render(this.options.template,e||this.model);return this.$el.html(n),this},show:function(t){var n=e(t),i=n.data("content");return this.$el.trigger("beforeShow.chzpopover",[n]),i&&(this.model={content:i}),this.render().positionNear(n),n.addClass("is-active"),this.$el.one("hide.chzpopover",function(){n.removeClass("is-active")}),this.$el.trigger("show.chzpopover",[n]),this},hide:function(){return this.delayedHide.cancel(),this.$el.empty(),this.$el.trigger("hide.chzpopover"),this},delayedHide:n(function(){this.hide()},500),destroy:function(){return e(document).off("mouseenter mouseleave",this.options.triggerSelector),this.$el.remove(),delete this.$el,this}},i}),define("mods/facebook/voting-tip",["jquery","mods/app","mods/utils/cookies","mods/ui/popover"],function(e,t,n,i){var r={};return r.setup=function(){t.on("facebook-login-status-connected",r.connectedUser)},r.connectedUser=function(){if(!n.get("promptVote")){var e=t.getConfig().CookieHostname;n.set("promptVote",1,14,e),r.promptUserToVote()}},r.promptUserToVote=function(){var e=new i({template:['<div class="chz-popover top popover-protip-container">','<a class="js-close close icons" data-icon="X"></a>','<div class="js-popover-content chz-popover-content">',"<h3>You decide what’s funny</h3>","Upvoting memes helps others on Cheezburger find what’s funny.","</div>","</div>"].join(""),showOn:"manual"});e.listen().show(".js-vote-up")},r}),define("mods/facebook/follow",["jquery","mods/app","mods/analytics/analytics","mods/preferences"],function(e,t,n,i){var r={};return r.setup=function(){t.getConfig().EnableOGFollow&&(t.on("facebook-login-status-connected",r.onUserConnected),t.on("source.followed",r.onFollow))},r.userConnected=!1,r.onUserConnected=function(){r.userConnected=!0},r.onFollow=function(e){if(r.userConnected&&e.url){var t={data:e,allowed:function(e){r.postFollow(e)},unknown:function(){}};i.userPrefers("OGFavoriting",t)}},r.postFollow=function(e){window.FB.api(r.getFollowActionUrl(),"post",{profile:e.url},function(t){r.onFollowActionComplete(t,e)})},r.getFollowActionUrl=function(){return"/me/og.follows?access_token="+window.FB.getAccessToken()},r.onFollowActionComplete=function(e,t){e.id&&n.logEvent({category:"facebook-opengraph",action:"follow-source",label:t.id,value:e.id})},r}),define("mods/facebook/post",["jquery","mods/app","mods/analytics/analytics","mods/preferences"],function(e,t,n,i){var r={};return r.setup=function(){t.on("facebook-login-status-connected",r.onUserConnected),t.on("sharing-reblog",r.onReblog)},r.userConnected=!1,r.onUserConnected=function(){r.userConnected=!0},r.onReblog=function(e){if(r.userConnected){var t={data:e,allowed:function(e){r.postReblog(e)},unknown:function(){}};i.userPrefers("OGFavoriting",t)}},r.getReblogActionUrl=function(){return"/me/"+t.getConfig().FacebookAppNamespace+":post?access_token="+window.FB.getAccessToken()},r.postReblog=function(e){window.FB.api(r.getReblogActionUrl(),"post",{meme:e},r.onReblogActionComplete)},r.onReblogActionComplete=function(e){e.id&&n.logEvent({category:"facebook-opengraph",action:"reblog",label:"",value:e.id})},r}),define("mods/facebook/recaption",["jquery","mods/app","mods/analytics/analytics","mods/preferences"],function(e,t,n,i){var r={};return r.setup=function(){var n=e(".post-asset-recap").length>0;t.getConfig().IsNewlyCreatedAsset&&n&&t.on("facebook-login-status-connected",r.postRecaptionIfAllowed)},r.postRecaptionIfAllowed=function(){var t=e(".js-post").data("model").CanonicalUrl,n={data:t,allowed:function(e){r.postRecaption(e)},unknown:function(){}};i.userPrefers("OGFavoriting",n)},r.getRecaptionActionUrl=function(){return"/me/"+t.getConfig().FacebookAppNamespace+":recaption?access_token="+window.FB.getAccessToken()},r.postRecaption=function(e){window.FB.api(r.getRecaptionActionUrl(),"post",{meme:e},r.onRecaptionActionComplete)},r.onRecaptionActionComplete=function(e){e.id&&n.logEvent({category:"facebook-opengraph",action:"recaption",label:"",value:e.id})},r}),define("mods/facebook/create-site",["jquery","mods/app","mods/analytics/analytics","mods/preferences","mods/utils/cookies"],function(e,t,n,i,r){var o={};return o.setup=function(){o.isNewlyCreatedSite()&&t.on("facebook-login-status-connected",o.postNewSiteActionIfAllowed)},o.isNewlyCreatedSite=function(){var e=parseInt(r.get("newSite")),n=t.getConfig().VerticalSiteId,i=e==n,o=t.getConfig().IsMySite;return i&&o},o.postNewSiteActionIfAllowed=function(){var e=window.location.href,t={data:e,allowed:function(e){o.postNewSite(e)},unknown:function(){}};i.userPrefers("OGFavoriting",t)},o.getNewSiteActionUrl=function(){return"/me/"+t.getConfig().FacebookAppNamespace+":create?access_token="+window.FB.getAccessToken()},o.postNewSite=function(e){window.FB.api(o.getNewSiteActionUrl(),"post",{profile:e},o.onNewSiteActionComplete)},o.onNewSiteActionComplete=function(e){e.id&&n.logEvent({category:"facebook-opengraph",action:"create-site",label:window.location.href,value:e.id})},o}),define("mods/utils/cookieThrottle",["jquery","mods/utils/cookies","mods/app"],function(e,t,n){var i=n.getConfig(),r={};return r.isTimeToShow=function(e,t){var n=r.get();return!n[e]||new Date>new Date(n[e])?(n[e]=r.calculateDelay(t),r.set(n),!0):!1},r.set=function(e){t.set("cookieThrottle",JSON.stringify(e),365,i.CookieHostname)},r.get=function(){var e=t.get("cookieThrottle");return e?JSON.parse(e):{}},r.calculateDelay=function(e){var t=new Date;return t.setMinutes(t.getMinutes()+e),t},r}),define("mods/facebook/fan-converter",["jquery","mods/analytics/analytics","mods/app","mods/utils/cookieThrottle"],function(e,t,n,i){var r={};return r.setup=function(){require(["wetpaint"],function(n){var o=document.getElementById("content_stream"),s=new n.FanConverter.App({accountId:"UA-37868863-1",el:o,socialUrls:[r.getFanpageUrl()],topOffset:700,force:!1,expires:30,dismissExpires:30,pageViewsGreaterThan:2,referrerMatch:/.*/,template:{jsTemplate:['<div id="js-wetpaint-dialog" class="modal chz-modal chz-modal-wetpaint">','<div class="modal-body">','<span class="js-wetpaint-close close icons" data-icon="X"></span>',"<h3>{{title}}</h3>",'<div class="chz-modal-wetpaint-fblike">{{{fb}}}</div>','<p class="chz-modal-wetpaint-ctrls">','<a href="#" class="js-wetpaint-close">No thanks.</a>',"</p>","</div>","</div>"].join(""),attributes:{title:"Like Us on Facebook and Get Your Funny Delivered!"},afterRender:function(n){r.contentObstructionShowing(!0),e(o).one("click",".js-wetpaint-close",function(e){e.preventDefault(),n.noThanks(),t.logEvent({category:"facebook-fanconverter",action:"close",label:document.URL})})},onClose:function(){r.contentObstructionShowing(!1)}},applicationShouldDisplay:function(){var e=43200;return i.isTimeToShow("fanConverter",e)}}),a=document.getElementById("simulatePageView");e(a).bind("click",function(){s.forcePageView()});var l=document.getElementById("setPageView");e(l).bind("click",function(){s.setPageView(0)});var u=function(){t.logEvent({category:"facebook-fanconverter",action:"liked",label:document.URL})},c=function(){t.logEvent({category:"facebook-fanconverter",action:"unliked",label:document.URL})};s.subscribe("liked",u),s.subscribe("unliked",c)})},r.contentObstructionShowing=function(e){e&&t.logEvent({category:"facebook-fanconverter",action:"shown",label:document.URL})},r.getFanpageUrl=function(){var e=n.getConfig().VerticalSiteId,t={id_1:"ICanHasCheezburger",id_7:"FailBlog",id_8:"ROFLrazzi",id_49:"FailBook",id_75:"Memebase",unknown:"Cheezburger"},i=t["id_"+e]||t.unknown;return"http://www.facebook.com/"+i},r}),function(e,t){"function"==typeof define&&define.amd?define("libs/bootstrap-transition",["jquery"],t):t(e.jQuery)}(this,function(e){e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}),function(e,t){"function"==typeof define&&define.amd?define("libs/bootstrap-modal",["jquery","./bootstrap-transition"],t):t(e.jQuery)}(this,function(e){"use strict";function t(){var t=this,i=setTimeout(function(){t.$element.off(e.support.transition.end),n.call(t)},500);this.$element.one(e.support.transition.end,function(){clearTimeout(i),n.call(t)})}function n(){this.$element.hide().trigger("hidden"),i.call(this)}function i(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),"static"!=this.options.backdrop&&this.$backdrop.click(e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(r,this)):r.call(this)):t&&t()}function r(){this.$backdrop.remove(),this.$backdrop=null}function o(){var t=this;this.isShown&&this.options.keyboard?e(document).on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||e(document).off("keyup.dismiss.modal")}var s=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this))};s.prototype={constructor:s,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this;this.isShown||(e("body").addClass("modal-open"),this.isShown=!0,this.$element.trigger("show"),o.call(this),i.call(this,function(){var n=e.support.transition&&t.$element.hasClass("fade");!t.$element.parent().length&&t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in"),n?t.$element.one(e.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")}))},hide:function(i){i&&i.preventDefault(),this.isShown&&(this.isShown=!1,e("body").removeClass("modal-open"),o.call(this),this.$element.trigger("hide").removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?t.call(this):n.call(this))}},e.fn.modal=function(t){return this.each(function(){var n=e(this),i=n.data("modal"),r=e.extend({},e.fn.modal.defaults,n.data(),"object"==typeof t&&t);i||n.data("modal",i=new s(this,r)),"string"==typeof t?i[t]():r.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=s,e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n,i=e(this),r=e(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":e.extend({},r.data(),i.data());
t.preventDefault(),r.modal(o)})})}),define("mods/facebook/facebook-friend-inviter",["jquery","mods/app","mods/analytics/analytics","mods/facebook/client","libs/bootstrap-modal"],function(e,t,n){var i=t.getConfig(),r={method:"apprequests",message:"Oh Hai, I'd like to share LOLs with you on the Cheezburger Network, the Happiest Place on the Internet",display:"popup",data:{RequestingUsername:i.Username}},o=function(){t.on("registration.userRegistered",s),e("#js-facebook-invite-friends-btn").on("click",a)},s=function(t){t.facebookEmail&&e("#js-invite-friends-gate").modal("show")},a=function(t){t&&t.preventDefault(),e("#js-invite-friends-gate").modal("hide"),FB.getLoginStatus(function(e){"connected"===e.status&&FB.ui(r,l);var t={category:"registration-funnel",action:"shown-facebook-friends",label:""};n.logEvent(t)})},l=function(e){if(e&&e.request_ids&&e.request_ids.length>0){var t={category:"registration-funnel",action:"invited-facebook-friends",label:"count",value:e.request_ids.length};n.logEvent(t)}};return{listen:o,promptToInvite:s,showRequestDialog:a}}),define("mods/facebook/plugins",["mods/app","mods/device","mods/facebook/connection","mods/facebook/permissions","mods/facebook/friends","mods/facebook/og-actions","mods/facebook/favorite-conversion","mods/facebook/join","mods/facebook/voting","mods/facebook/create-meme","mods/ui/dashboardfacebookheader","mods/facebook/analytics","mods/facebook/voting-tip","mods/facebook/follow","mods/facebook/post","mods/facebook/recaption","mods/facebook/create-site","mods/facebook/fan-converter","mods/facebook/facebook-friend-inviter"],function(e,t,n,i,r,o,s,a,l,u,c,d,h,p,f,m,g,v,y){return{setup:function(){i.setup(),r.setup(),o.setup(),a.setup(),l.setup(),p.setup(),u.setup(),n.setup(),s.setup(),y.listen();var b=e.getConfig();b.IsSinglePostPage&&(c.setup().listen().setCategory("facebook-opengraph"),d.logOGReferrals()),b.EnableNewUserVotingTip&&t.is.desktop&&h.setup(),b.EnableOGReblog&&f.setup(),b.EnableOGRecaption&&b.IsSinglePostPage&&m.setup(),b.EnableOGCreateSite&&g.setup(),b.EnableFanConverter&&!b.IsSinglePostPage&&t.is.desktop&&v.setup()}}}),define("mods/facebook/client",["jquery","mods/app","mods/utils/utils","mods/facebook/plugins"],function(e,t,n,i){var r={};return r.options={appId:t.getConfig().FacebookAppId,cookie:!0,status:!0,xfbml:!0,oauth:!0,reloadIfSessionStateChanged:!0},r.__onReadyQueue=[],r.ready=function(e){if("function"!=typeof e)throw Error("callback must be a function");r.__onReadyQueue.push(e)},r.processReadyQueue=function(){for(var e=0,t=r.__onReadyQueue.length;t>e;e+=1)r.__onReadyQueue[e]();r.__onReadyQueue=[],r.ready=function(e){if("function"!=typeof e)throw Error("callback must be a function");e()}},r.setup=function(n){return t.emit("perf.startTiming","FacebookLibLoaded"),e.extend(r.options,n),r.ready(r.configureSDK),i.setup(),window.fbAsyncInit=r.processReadyQueue,r.loadOrInitSDK(),this},r.configureSDK=function(){FB.init(r.options),FB.Event.subscribe("comment.create",function(t){e(document).trigger("chzevent.chzTrack",{category:"facebook",action:"comment-start-from-assetView",label:t.href})}),FB.Event.subscribe("xfbml.render",function(){t.getConfig().IsSinglePostPage&&e(".fb-comments").removeClass("is-loading")}),t.emit("facebook-ready"),t.emit("perf.endTiming","FacebookLibLoaded")},r.loadOrInitSDK=function(){return"object"==typeof window.FB?window.fbAsyncInit():n.addScript({id:"chz-facebook-lib",http:"//",path:"connect.facebook.net/en_US/all.js"}),this},r.buildFQL=function(e){for(var t="SELECT share_count, commentsbox_count FROM link_stat WHERE url IN (",n=0,i=e.length;i>n;n+=1)t+='"'+e[n]+'"',t+=n===i-1?")":",";return t},r.formatCountData=function(e,t){for(var n,i,r=[],o=0,s=e.length;s>o;o+=1)n={shares:e[o].share_count,comments:e[o].commentsbox_count},t[o]&&(i=t[o].replace(/^(.*)\D/i,""),n.assetId=parseInt(i,10),r["aid-"+i]=n,r[t[o]]=n),r.push(n);return r},r.cachedQueryResults={},r.getCounts=function(t){var n=t?r.buildFQL(t):null,i=e.Deferred();return n&&r.cachedQueryResults[n]?r.cachedQueryResults[n].promise:(t&&t.length&&e.ajax({url:"http://graph.facebook.com/fql?q="+n,dataType:"jsonp",success:function(e){e.data&&i.resolve(r.formatCountData(e.data,t)),e.error&&i.reject(e.error)}}),r.cachedQueryResults[n]={promise:i.promise()},r.cachedQueryResults[n].promise)},r}),define("mods/facebook/comments",["jquery","mods/app","mods/facebook/client"],function(e,t,n){var i={};return i.options={count:".js-comment-count",post:".js-post"},i.config=function(t){return e.extend(i.options,t),this},i.setup=function(t){var r,o,s=[];return i.config(t),r=e(i.options.post),r.length&&(r.each(function(t,n){o=(e(n).data("model")||{}).CanonicalUrl,o&&s.push(o)}),n.getCounts(s).then(function(e){i.addCountsToPage(e,r)})),this},i.listen=function(){t.on("posts.newcontentadded",function(t){var r=[];e.each(t,function(e,t){r.push(t.canonicalUrl)}),n.getCounts(r).then(function(e){i.updatePosts(e,t)})})},i.addCountsToPage=function(t,n){var r,o,s;return n=n||e(i.options.post),n.each(function(n,a){r=e(a),o=parseInt((r.data("model")||{}).EchoCommentCount,10)||0,s=t[n],s.hasOwnProperty("comments")&&r.find(i.options.count).text(o+s.comments)}),this},i.updatePosts=function(e,t){for(var n,i,r=0,o=t.length;o>r;r+=1)n=t[r],i=e[r],i.hasOwnProperty("comments")&&n.set("facebookCommentCount",i.comments);return this},i}),define("mods/posts/addthis",["jquery","mods/utils/utils","mods/app"],function(e,t,n){var i={};return i.setup=function(){var e=n.getConfig();if(!e.EnableAddThisButtons)return this;var r=t.addScript({id:"chz-addthis",http:"//",path:"s7.addthis.com/js/300/addthis_widget.js#pubid=ra-514392b92c7f65e7"});return r.onload=i.onScriptLoaded,this},i.listen=function(){var e=n.getConfig();return e.EnableAddThisButtons?(n.on("addthis.ready",i.onAddThisReady),this):this},i.onScriptLoaded=function(){window.addthis&&window.addthis.addEventListener("addthis.ready",function(){n.emit("addthis.ready")})},i.onAddThisReady=function(){e(".js-addthis-emailbtn").removeClass("is-hidden")},i}),define("mods/posts/listoverlay",["jquery"],function(e){var t={};return t.setup=function(){e(document).ready(function(){e(".post-asset-list").each(function(){var t,n;t=e(this).find("img").height(),n=e(this).find(".view-list").height(),e(this).find(".view-list").css("bottom",t/2-n/2)})})},t}),function(e){"function"==typeof define&&define.amd?define("mods/utils/polyfills",e):e()}(function(){Object.create||(Object.create=function(e){function t(){}if(arguments.length>1)throw Error("Object.create polyfill only accepts the first parameter.");return t.prototype=e,new t}),function(e){for(var t,n=0,i=["ms","moz","webkit","o"],r="AnimationFrame",o=0;i.length>o&&!e.requestAnimationFrame;o+=1)t=i[o],e.requestAnimationFrame=e[t+"Request"+r],e.cancelAnimationFrame=e[t+"Cancel"+r]||e[t+"CancelRequest"+r];e.requestAnimationFrame||(e.requestAnimationFrame=function(t){var i=(new Date).getTime(),r=Math.max(0,16-(i-n)),o=e.setTimeout(function(){t(i+r)},r);return n=i+r,o}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(t){e.clearTimeout(t)})}(window),function(e){e.history&&e.history.replaceState||(e.history.replaceState=function(){})}(window)}),function(e,t){"function"==typeof define&&define.amd?define("libs/jquery.outerhtml",["jquery"],t):t(e.jQuery)}(this,function(e){var t;e.fn.outerHTML=function(){var n,i=this[0];return i?"string"==typeof(n=i.outerHTML)?n:(t=t||e("<div/>")).html(this.eq(0).clone()).html():null}}),define("mods/posts/collection",["jquery","mods/app","mods/device","mods/utils/iterator","mods/posts/postmodel","mods/posts/postview","mods/posts/showmore","mods/posts/voting","mods/posts/addToSite","mods/posts/favorite","mods/posts/influence","mods/posts/twitter","mods/ui/floatingShareWidgets","mods/posts/gifplayer","mods/posts/videoplayer","mods/facebook/comments","mods/posts/addthis","mods/posts/listoverlay","mods/utils/polyfills","libs/jquery.outerhtml","libs/bootstrap-tooltip"],function(e,t,n,i,r,o,s,a,l,u,c,d,h,p,f,m,g,v){var y=new i;return y.options={postSelector:"div.js-post",endpoint:"/json/"},y.config=function(t){return e.extend(y.options,t),this},y.setup=function(e){return y.config(e),s.listen(),a.listen(),l.listen(),u.listen(),c.setup(),d.listen(),h.listen(),t.getConfig().EnableGifPlayer&&p.setup({autoplayWhenVisible:n.is.desktop}).listen(),t.getConfig().EnableLazyVideos&&f.config({preload:!n.is.desktop}).listen(),m.listen(),g.setup().listen(),t.getConfig().ShowViewListOverlay&&v.setup(),y.initializePostsInPage(),this},y.listen=function(){return e(document).on("click",".js-asset-tags",function(t){t.preventDefault(),e(this).parents(".post-asset-tags").toggleClass("is-open")}),this},y.initializePostsInPage=function(){var t,n,i=[],r=e(y.options.postSelector);return r.each(function(r,o){t=e(o),n=e.extend({},t.data("model")),i.push(n)}),y.add(i),this},y.add=function(e){for(var n,s=[],a=0,l=e.length;l>a;a+=1)y.collection["aid-"+e[a].AssetId]||(n=new r(e[a],y.length),o.create(n,y.length),y.collection["aid-"+n.assetId]=n,i.prototype.add.call(this,n),s.push(n));return s.length&&t.emit("posts.newcontentadded",s),this},y.pageToLoad=1,y.pageLoadState={},y.fetch=function(n){y.pageLoadState[y.pageToLoad]||(t.emit("posts.newcontentrequested"),y.pageLoadState[y.pageToLoad]="loading",e.ajax({url:y.options.endpoint+"?page="+y.pageToLoad,success:function(e){return"string"!=typeof e&&null!=e&&e.length?(y.pageLoadState[y.pageToLoad]=void 0,t.emit("posts.newcontentreceived"),n(e),void 0):(y.onEndOfFeed().pageLoadState[y.pageToLoad]="failed",void 0)},error:function(e){y.pageLoadState[y.pageToLoad]=404==e.status?"failed":void 0,t.emit("posts.newcontenterror")},statusCode:{404:y.onEndOfFeed,302:y.onEndOfFeed}}))},y.onEndOfFeed=function(){return t.emit("posts.endoffeed"),e(document).trigger("chzevent.chzTrack",{category:"posts",action:"endOfFeed"}),this},y}),define("mods/facebook/share",["jquery","mods/utils/number","mods/app","mods/analytics/analytics","mods/facebook/client","mods/confirmations"],function(e,t,n,i,r,o){var s={};return s.options={btnSelector:".js-fbshare-btn",countSelector:".js-fbshare-count",shareUrlAttr:"posturl",actionAttr:"eventaction",eventName:"share",eventNamespace:".fbbtn",showCounts:!0},s.setup=function(t,i){var o,a=[];return e.extend(s.options,t),o=e(s.options.btnSelector,e(i||document)),s.options.showCounts&&o.length&&(n.emit("perf.startTiming","FBShareBtnCounts"),o.each(function(t,n){var i=e(n),r=i.data(s.options.shareUrlAttr);r&&a.push(r)}),r.getCounts(a).then(function(e){s.addCountsToPage(e,o),n.emit("perf.endTiming","FBShareBtnCounts")})),this},s.listen=function(){var t=e(document);return t.on("click"+s.options.eventNamespace,s.options.btnSelector,function(t){t.preventDefault();var i=e(this),r=i.closest(".js-post").data("model");n.getConfig().EnableOGCreateMeme&&r&&r.IsMyAsset?(n.emit("share-created-meme",r),s.fireShareEvent(!1,i)):s.initiateShare(i)}),t.on("fbShare.success",function(t,n){var i=e(n),r=e(".js-fbshare-count",i).text();r=parseInt(r,10)||0,e(".js-fbshare-count",i).text(r+1),o.show({content:{text:"Thanks for sharing on Facebook!",cls:"confirm"},$positionNear:i,hposition:"right",vposition:"middle",hoffset:10})}),t.on("fbShare.failure",function(){return!1}),n.on("posts.newcontentadded",function(t){var n=[];e.each(t,function(e,t){n.push(t.canonicalUrl)}),r.getCounts(n).then(function(e){s.updatePosts(e,t)})}),this},s.addCountsToPage=function(n,i){var r,o;i=i||e(s.options.btnSelector),i.each(function(i,a){r=e(a),o=n[i],o.hasOwnProperty("shares")&&r.find(s.options.countSelector).text(t.abbreviate(o.shares))})},s.updatePosts=function(e,n){for(var i,r,o=0,s=n.length;s>o;o+=1)i=n[o],r=e[o],r.hasOwnProperty("shares")&&i.set("fbshares",t.abbreviate(r.shares));return this},s.initiateShare=function(e){var t=e.data(s.options.shareUrlAttr);r.ready(function(){FB.ui({method:"stream.share",display:"popup",u:t},function(t){s.fireShareEvent(t,e)})}),i.logEvent({category:"facebook",action:e.data(s.options.actionAttr)||"share-start",label:e.data(s.options.shareUrlAttr)})},s.fireShareEvent=function(t,n){t===!1?e(document).trigger("fbShare.success",n):e(document).trigger("fbShare.failure",n)},s}),define("mods/registration/regerror",[],function(){var e=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t={0:{name:"None",usePrompt:!1,msg:""},1:{name:"EmailInvalid",usePrompt:!1,msg:""},2:{name:"EmailNotAllowed",usePrompt:!1,msg:""},3:{name:"EmailInUse",usePrompt:!0,msg:"email is already in use"},4:{name:"UsernameLength",usePrompt:!1,msg:""},5:{name:"UsernameInUse",usePrompt:!0,msg:"username is already in use"},6:{name:"PasswordLength",usePrompt:!1,msg:""}},n=function n(e){return this instanceof n?(this.fieldName=e.fieldName,this.code=e.code,this.message=this.getMsgOverride(e.message),void 0):new n(e)};return n.createForEach=function(){var t=[];if(!e(arguments[0]))return new n(arguments[0]);for(var i=0,r=arguments[0].length;r>i;i+=1)t.push(new n(arguments[0][i]));return t},n.prototype.getErrorByCode=function(){return t[this.code]||{}},n.prototype.getMsgOverride=function(e){return this.getErrorByCode().msg||e},n.prototype.shouldPrompt=function(){return this.getErrorByCode().usePrompt||!1},n}),define("mods/registration/regmodel",["mods/utils/model","mods/utils/inherits","mods/registration/regerror"],function(e,t,n){var i,r=function r(t){return this instanceof r?(e.call(this),this.forgotPasswordURL=t.forgotPasswordURL,this.LoginOrRegisterUrl=t.LoginOrRegisterUrl,this.MODE_LOGIN="login",this.MODE_REGISTER="register",this.mode=this.MODE_LOGIN,this.errors=[],this.isVisible=!1,this.isSaved=!1,this.userid=i,this.username=i,this.email=i,this.password=i,this.facebookEmail=i,this.facebookUsername=i,this.facebookAccessToken=i,void 0):new r(t)};return t(r,e),r.prototype.isLoginMode=function(){return this.mode===this.MODE_LOGIN},r.prototype.isRegisterMode=function(){return this.mode===this.MODE_REGISTER},r.prototype.hasErrors=function(){return this.errors&&this.errors.length>0},r.prototype.shouldPromptToLoginOrReset=function(){if(this.isLoginMode())return!1;if(!this.errors.length)return!1;for(var e=0,t=this.errors.length;t>e;e+=1)if(this.errors[e].shouldPrompt())return!0;return!1},r.prototype.title=function(){return this.isRegisterMode()?"Sign Up With:":"Welcome back, login with:"},r.prototype.footerMsg=function(){return this.isRegisterMode()?"Existing account?":"No account?"},r.prototype.footerCallToAction=function(){return this.isRegisterMode()?"Login Here":"Sign Up Here"},r.prototype.btnCallToAction=function(){return this.isRegisterMode()?"Sign Up":"Login"},r.prototype.save=function(e){return e?(this.set(e),this.submit()):this},r.prototype.submit=function(){var e=$.Deferred();return $.ajax({dataType:"jsonp",url:this.LoginOrRegisterUrl,data:this.toJSON(),success:this.onResponse.bind(this,e)}),e.done(this.onSuccess.bind(this)),e.fail(this.onError.bind(this)),this.emitTrackingEvent("started"),e.promise()},r.prototype.onResponse=function(e,t){return t&&t.errors&&t.errors.length?e.reject(t.errors):e.resolve()},r.prototype.onSuccess=function(){return this.emitTrackingEvent("success"),this.set("isSaved",!0),this},r.prototype.onError=function(e){return this.emitTrackingEvent("error"),this.set("errors",n.createForEach(e)),this},r.prototype.emitTrackingEvent=function(e){var t=(this.facebookAccessToken?"facebook-":"")+this.mode+"-";return $(document).trigger("chzevent.chzTrack",{category:"registration",action:t+e}),this},r}),define("mods/registration/regview",["jquery","mods/utils/view","mods/utils/inherits","libs/mustache","libs/bootstrap-modal"],function(e,t,n,i){var r=function r(n,o){return this instanceof r?(t.call(this,n),this.model=n,this.appendToSelector="#chz-dialogs",this.html=i.compile(o),this.el='<div class="hide fade"></div>',this.$el=e(this.el),this.setup().listen(),void 0):new r(n,o)};return r.create=function(e,t){return new r(e,t)},n(r,t),r.prototype.setup=function(){return this.render(),this.$el.modal({show:!1}),this.$el.appendTo(this.appendToSelector),this.$el.data("regview",this),this},r.prototype.listen=function(){return this.model.on("update:isVisible",this.showOrHide,this).on("update:errors",this.render,this).on("update:isSaved",this.reloadPage,this),this.$el.on("click",".js-close, .js-facebook-signin",e.proxy(this.hide,this)).on("click",".js-reg-toggledialog",e.proxy(this.toggle,this,!1)).on("focusout","input",e.proxy(this.clearErrors,this)).on("submit",e.proxy(this.submit,this)).on("shown",e.proxy(this.focus,this)).on("orientationchange resize",e.proxy(this.unfocus,this)),this},r.prototype.submit=function(e){e&&e.preventDefault();var t=this.$el.find('input[name="username"]').val(),n=this.$el.find('input[name="email"]').val(),i=this.$el.find('input[name="password"]').val();return this.$el.find("#js-login-modal").addClass("is-busy"),this.model.save({username:t,email:n,password:i}),this},r.prototype.clearErrors=function(){return this.model.hasErrors()&&this.model.setSilent("errors",[]),this},r.prototype.toggle=function(e){return e=e||(this.model.isLoginMode()?this.model.MODE_REGISTER:this.model.MODE_LOGIN),this.model.set("mode",e),this.show()},r.prototype.focus=function(){return this.$el.find('input[value=""]').first().focus(),this},r.prototype.unfocus=function(){return this.$el.find("input").blur(),this},r.prototype.show=function(){return this.model.setSilent("isVisible",!0),this.render(),this.$el.modal("show"),this.model.emitTrackingEvent("shown"),this},r.prototype.hide=function(){return this.model.setSilent("isVisible",!1),this.$el.modal("hide"),this},r.prototype.showOrHide=function(e){return e?this.show():this.hide()},r.prototype.render=function(){return this.$el.html(this.html(this.model)),this},r.prototype.reloadPage=function(e,t){var n=this;return n.model.emitTrackingEvent("exit-delayed-100ms"),setTimeout(function(){n.model.emitTrackingEvent("exit-undelayed"),(t||window).location.reload()},100),this},r.prototype.destroy=function(){return this.hide(),this.model.off("update:isVisible",this.toggle).off("update:errors",this.render).off("update:isSaved",this.reloadPage),this.$el.remove(),this.$el=null,this},r}),define("mods/facebook/signin",["jquery","mods/app","mods/facebook/client","mods/facebook/connection"],function(e,t,n,i){var r={};return r.SCOPE={scope:"email,publish_actions,user_photos,photo_upload"},r.setup=function(){return n.ready(r.listen),this},r.listen=function(){return e(document).on("click",".js-facebook-signin",r.authenticate),this},r.authenticate=function(e){e&&e.preventDefault(),window.FB.login(r.onAuthComplete,r.SCOPE)},r.onAuthComplete=function(e){return i.onLoginStatus(e),e.authResponse&&(r.emitTrackingEvents("started"),r.loginToChz(e.authResponse.accessToken).done(r.reloadPage).fail(r.promptToRegister)),this},r.loginToChz=function(n){var i=e.Deferred(),r=e.ajax({url:t.getConfig().FacebookLoginV2Url,data:{facebookAccessToken:n},dataType:"jsonp",timeout:2e4});return r.done(function(e){e.isLoggedIn?i.resolve(e.user):i.reject(n,e.fbUser)}),r.fail(function(){i.reject()}),i.promise()},r.reloadPage=function(e,n){r.emitTrackingEvents("success"),t.emitOnNextPageLoad("registration.userLoggedIn",e),(n||window).location.reload()},r.promptToRegister=function(e,n){var i={mode:"register"};return n&&(i.facebookEmail=n.Email,i.facebookUsername=n.Username,i.facebookAccessToken=e),t.emit("registration.start",i),this},r.emitTrackingEvents=function(t){return t&&e(document).trigger("chzevent.chzTrack",{category:"registration",action:"facebook-signin-"+t}),this},r}),define("mods/registration/regcontroller",["jquery","mods/app","mods/device","mods/registration/regmodel","mods/registration/regview","mods/facebook/signin"],function(e,t,n,i,r,o){var s={};return s.template=['<div id="js-login-modal" class="modal chz-modal chz-modal-loginregister is-{{mode}}">','<div class="modal-body chz-modal-loginregister-body">','<span class="js-close close icons" data-icon="X"></span>',"<h3>{{title}}</h3>",'<div class="chz-modal-loginregister-panel pull-left">','<a class="js-facebook-signin btn btn-fb-reg">Facebook</a>',"</div>",'<div class="divider"></div>','<div class="chz-modal-loginregister-panel pull-right">',"<form>","{{#isRegisterMode}}","<label>Email</label>",'<input name="email" type="email" required autofocus="autofocus" value="{{^facebookEmail}}{{email}}{{/facebookEmail}}{{facebookEmail}}" />',"<label>Username</label>",'<input name="username" type="text" required pattern=".{6,50}" value="{{facebookUsername}}" title="must be 6 to 50 characters long" />',"{{/isRegisterMode}}","{{#isLoginMode}}","<label>Username or Email</label>",'<input name="username" type="text" required autofocus="autofocus" value="" />',"{{/isLoginMode}}","<label>Password</label>",'<input name="password" type="password" required pattern=".{6,}" value="" title="must be at least 6 characters long" />',"{{#errors.length}}",'<div class="chz-alert chz-danger">','<h6 class="title">Uh oh...</h6>',"<ul>","{{#errors}}","<li>","<p>{{message}}</p>","</li>","{{/errors}}","</ul>","</div>","{{/errors.length}}","<p>",'<button class="btn btn-chz" type="submit" name="submit">{{btnCallToAction}}</button>',"{{#isLoginMode}}","Forgot your<br />",'<a href="{{forgotPasswordURL}}">password?</a>',"{{/isLoginMode}}","{{#shouldPromptToLoginOrReset}}","Maybe you should<br />",'<span class="link js-reg-toggledialog">login</span> or <a href="{{forgotPasswordURL}}">reset password?</a>',"{{/shouldPromptToLoginOrReset}}","</p>","</form>","</div>","</div>",'<p class="chz-modal-loginregister-footer">','{{footerMsg}} <span class="link js-reg-toggledialog">{{footerCallToAction}}</span>',"</p>","</div>"].join(""),s.model,s.setup=function(){return t.getConfig().IsLoggedIn?this:(s.model=new i({forgotPasswordURL:t.getConfig().ForgotPasswordUrl,LoginOrRegisterUrl:t.getConfig().LoginOrRegisterUrl}),o.setup(),s.listen(),r.create(s.model,s.template),this)},s.listen=function(){return s.model.on("update:isSaved",s.queuePostLoginEvent),t.on("registration.start",s.start),e(document).on("click",".js-login",e.proxy(s.start,s,{mode:s.model.MODE_LOGIN})),e(document).on("click",".js-registration",e.proxy(s.start,s,{mode:s.model.MODE_REGISTER})),this},s.start=function(e,i){return i&&i.preventDefault(),n.is.phone?(window.location.href=t.getConfig().MobileLoginUrlV2,!1):(e&&s.model.set(e),s.model.set("isVisible",!0),this)},s.queuePostLoginEvent=function(e){var n;return e?(n={mode:s.model.mode,userid:s.model.userid,username:s.model.username,email:s.model.email,facebookEmail:s.model.facebookEmail,facebookUsername:s.model.facebookUsername},s.model.isRegisterMode()?t.emitOnNextPageLoad("registration.userRegistered",n):t.emitOnNextPageLoad("registration.userLoggedIn",n),this):this},s}),window.Mousetrap=function(){function e(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):(e.attachEvent("on"+t,n),void 0)}function t(e){return"keypress"==e.type?String.fromCharCode(e.which):b[e.which]?b[e.which]:w[e.which]?w[e.which]:String.fromCharCode(e.which).toLowerCase()}function n(e){var t=e.target||e.srcElement,n=t.tagName;return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:"INPUT"==n||"SELECT"==n||"TEXTAREA"==n}function i(e,t){return e.sort().join(",")===t.sort().join(",")}function r(e){e=e||{};var t,n=!1;for(t in T)e[t]?n=!0:T[t]=0;n||(E=!1)}function o(e,t,n,r,o){var s,a,l=[];if(!_[e])return[];for("keyup"==n&&c(e)&&(t=[e]),s=0;_[e].length>s;++s)a=_[e][s],a.seq&&T[a.seq]!=a.level||n==a.action&&("keypress"==n||i(t,a.modifiers))&&(r&&a.combo==o&&_[e].splice(s,1),l.push(a));return l}function s(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function a(e,t){e(t)===!1&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1,t.cancelBubble=!0)}function l(e,t){if(!n(t)){var i,l=o(e,s(t),t.type),u={},d=!1;for(i=0;l.length>i;++i)l[i].seq?(d=!0,u[l[i].seq]=1,a(l[i].callback,t)):d||E||a(l[i].callback,t);t.type!=E||c(e)||r(u)}}function u(e){e.which="number"==typeof e.which?e.which:e.keyCode;var n=t(e);if(n)return"keyup"==e.type&&S==n?(S=!1,void 0):(l(n,e),void 0)}function c(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function d(){clearTimeout(y),y=setTimeout(r,1e3)}function h(){if(!v){v={};for(var e in b)e>95&&112>e||b.hasOwnProperty(e)&&(v[b[e]]=e)}return v}function p(e,t,n){return n||(n=h()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function f(e,n,i,o){T[e]=0,o||(o=p(n[0],[]));var s,l=function(){E=o,++T[e],d()},u=function(e){a(i,e),"keyup"!==o&&(S=t(e)),setTimeout(r,10)};for(s=0;n.length>s;++s)m(n[s],n.length-1>s?l:u,o,e,s)}function m(e,t,n,i,r){e=e.replace(/\s+/g," ");var s,a,l,u=e.split(" "),d=[];if(u.length>1)return f(e,u,t,n);for(l="+"===e?["+"]:e.split("+"),s=0;l.length>s;++s)a=l[s],k[a]&&(a=k[a]),n&&"keypress"!=n&&x[a]&&(a=x[a],d.push("shift")),c(a)&&d.push(a);n=p(a,d,n),_[a]||(_[a]=[]),o(a,d,n,!i,e),_[a][i?"unshift":"push"]({callback:t,modifiers:d,action:n,seq:i,level:r,combo:e})}function g(e,t,n){for(var i=0;e.length>i;++i)m(e[i],t,n)}for(var v,y,b={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},w={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},x={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta","return":"enter",escape:"esc"},_={},C={},T={},S=!1,E=!1,$=1;20>$;++$)b[111+$]="f"+$;for($=0;9>=$;++$)b[$+96]=$;return e(document,"keypress",u),e(document,"keydown",u),e(document,"keyup",u),{bind:function(e,t,n){g(e instanceof Array?e:[e],t,n),C[e+":"+n]=t},unbind:function(e,t){C[e+":"+t]&&(delete C[e+":"+t],this.bind(e,function(){},t))},trigger:function(e,t){C[e+":"+t]()},reset:function(){_={},C={}}}}(),"function"==typeof define&&define.amd&&define("libs/mousetrap",[],function(){return window.Mousetrap}),define("mods/keynav",["jquery","libs/mousetrap"],function(e){var t={};return t.options={headerOffset:50,soundsPath:"/sound/"},t.config=function(n){return e.extend(t.options,n),this},t.getCurrentPost=function(){return t.getPostsAroundCurrent().current},t.getPostsAroundCurrent=function(){var n=e(".post");if(n.length){var i=e(window).scrollTop(),r=i+e(window).height(),o=function(e){return{before:n.eq(Math.max(e-1,0)),current:n.eq(e),after:n.eq(Math.min(e+1,n.length-1)),atStart:0>=e,atEnd:e>=n.length-1}},s=o(0),a=0;if(Math.floor(n.eq(0).position().top)-t.options.headerOffset>i)return s.after=n.eq(0),s;for(var l=0;n.length>l;l++){var u=n.eq(l),c=u.position().top,d=c+u.height();if(c>r)return s;var h=t.getVisibility(i,r,c,d);if(1==h)return o(l);if(h>0){if(a>0)return a>h?s:o(l);s=o(l),a=h}}return o(n.length-1)}},t.getVisibility=function(e,t,n,i){if(e>n){if(e>i)return 0;if(t>i)return(i-e)/(i-n)}else if(i>t)return n>t?0:(t-n)/(i-n);return 1},t.nextPost=function(){var n=t.getPostsAroundCurrent();n.atEnd&&e(document).trigger("keynav.atEnd"),n.atEnd&&e("a.js-page-navigation.next:visible").length>0?window.location=e("a.js-page-navigation.next:visible").attr("href"):window.scrollTo(e(window).scrollLeft,n.after.position().top-t.options.headerOffset)},t.prevPost=function(){var n=t.getPostsAroundCurrent();n.atStart&&e(document).trigger("keynav.atStart"),n.atStart&&e("a.js-page-navigation.prev:visible").length>0?window.location=e("a.js-page-navigation.prev:visible").attr("href"):window.scrollTo(e(window).scrollLeft,n.before.position().top-t.options.headerOffset),e(document).trigger("keynav.nextpost")},t.addFav=function(){t.getCurrentPost().find("a.js-favorite").trigger("click")},t.fbShare=function(){var e=t.getCurrentPost().find(".js-fbshare-btn");e.trigger("click.fbbtn")},t.showMenu=function(){e("#js-dialog-keynav").modal("show")},t.approvePost=function(){t.getCurrentPost().find(".js-moderation-approve").trigger("click")},t.queuePost=function(){t.getCurrentPost().find(".js-moderation-queue").trigger("click")},t.denyPost=function(){t.getCurrentPost().find(".js-moderation-deny").trigger("click")},t.editPost=function(){t.getCurrentPost().find(".js-moderation-edit").trigger("click")},t.closeCurrentForm=function(){e(document).trigger("keynav.esc")},t.sppNewerPost=function(){var t=e("a.newer-asset-link:first").attr("href");t!==void 0&&(window.location=window.location.protocol+"//"+window.location.host+t)},t.sppOlderPost=function(){var t=e("a.older-asset-link:first").attr("href");t!==void 0&&(window.location=window.location.protocol+"//"+window.location.host+t)},t.bindKeys=function(){e(".js-post").length&&(Mousetrap.bind("j",t.nextPost),Mousetrap.bind("k",t.prevPost),Mousetrap.bind("f",t.addFav),Mousetrap.bind("s",t.fbShare),Mousetrap.bind("?",t.showMenu),Mousetrap.bind("a",t.approvePost),Mousetrap.bind("q",t.queuePost),Mousetrap.bind("d",t.denyPost),Mousetrap.bind("e",t.editPost),e(document).keyup(function(e){27==e.keyCode&&t.closeCurrentForm()}),e(".container.single").length&&(Mousetrap.bind("j",t.sppOlderPost),Mousetrap.bind("k",t.sppNewerPost),Mousetrap.bind("left",t.sppNewerPost),Mousetrap.bind("right",t.sppOlderPost)))},t.setup=function(e){t.config(e),t.bindKeys()},t}),define("mods/analytics/optimizely-shim",["jquery","mods/app","mods/utils/utils"],function(e,t,n){window.optimizely=window.optimizely||[];var i=[],r={loadOptimizely:function(){if(t.getConfig().EnableOptimizely){var i=n.addScript({id:"chz-optimizely-lib",path:"cdn.optimizely.com/js/21724378.js"});e(i).load(function(){r.runQueuedOperations(),r.ready=function(e){if("function"!=typeof e)throw Error("callback must be a function");e()}})}},ready:function(e){if("function"!=typeof e)throw Error("callback must be a function");i.push(e)},trackEvent:function(){window.optimizely.push(["trackEvent"].concat(Array.prototype.slice.call(arguments)))},runQueuedOperations:function(){var e=i;i=[];for(var t=0,n=e.length;n>t;t+=1)e[t]()}};return r.ready(function(){if(window.optimizely.data)try{var t=window.optimizely.data;e.each(t.state.activeExperiments,function(n,i){var r=t.state.variationIdsMap[i][0],o=t.experiments[i].name,s=t.variations[r].name;e(document).trigger("chzevent.chzTrack",{category:"optimizely-test",action:o,label:s})})}catch(n){}}),r}),define("mods/analytics/trackers",["mods/app","mods/utils/utils","mods/device"],function(e,t,n){var i={};return i.options={cookieDomain:".cheezburger.com"},i.setup=function(e){return $.extend(i.options,e),i.parsely(),this},i.listen=function(){return $(document).ready(function(){n.is.desktop&&i.kiss().adSafe()}),this},i.kiss=function(){var n=e.getConfig();return n.EnableKissInsights?(window._kiq=window._kiq||[],window.KI_COOKIE_DOMAIN=i.options.cookieDomain,window._kiq.push(["disableAuto"]),window._kiq.push(["identify",n.Username]),t.addScript({id:"chz-kiss-lib",http:"//",path:n.KissInsightsUrl}),!n.IsSinglePostPage&&n.SplitTesting&&n.SplitTesting.ContentCardV2_2&&(window._kiq.push(["showSurvey",70597]),window._kiq.push(["set",{segment:n.SplitTesting.ContentCardV2_2.TestSegmentName}])),this):this},i.adSafe=function(){var t=e.getConfig();return t.EnableAdSafeTracker&&t.IsSinglePostPage&&((new Image).src="//pixel.adsafeprotected.com?anId=5023&pubId=cheezburger&campId=cheezassets-onobeta"),this},i.parsely=function(){(function(e,n,i){var r=n+"-"+e,o=i.getElementById(r);o||t.addScript({id:r,https:"//d1z2jf7jlzjs58.cloudfront.net/",http:"//static."+n+".com/",path:"p.js"})})("script","parsely",document)},i}),define("mods/performance/eventtimer",["jquery","mods/utils/eventer","mods/utils/timer","mods/app"],function(e,t,n,i){var r=new t;return r.__timings=[],r.hasNavTimingAPI=function(){return"object"==typeof window.performance}(),r.isValidName=function(e){return"string"==typeof e&&e.length>0},r.now=function(){return+new Date},r.docIsLoaded=function(){return"complete"===document.readyState},r.listen=function(){return e(window).one("beforeunload",r.events.onBeforeUnload),r.docIsLoaded()?r.getNavigationTimings():e(window).load(r.events.onLoad),i.on("perf.startTiming",r.timerStart),i.on("perf.endTiming",r.timerEnd),i.on("perf.markTiming",r.timerMark),this
},r.events={onBeforeUnload:function(){r.timerMark("pageUnloaded"),r.logBatchTimings()},onLoad:function(){n.nextTick(r.getNavigationTimings)}},r.getNavigationTimings=function(){return r.hasNavTimingAPI?(e.each(window.performance.timing,function(e,t){0!==t&&"number"==typeof t&&r.timerMark(e,t)}),this):this},r.timerStart=function(e,t){var n,i=r.__timings;return r.hasNavTimingAPI&&r.isValidName(e)&&!i.hasOwnProperty(e)?(n={name:e,start:t||r.now()},i[e]=n,i.push(n),this):this},r.timerEnd=function(e,t){var n,i=r.__timings;return r.hasNavTimingAPI&&r.isValidName(e)&&i.hasOwnProperty(e)&&!i[e].hasOwnProperty("end")?(n=i[e],n.end=t||r.now(),n.duration=n.end-n.start,n.elapsed=n.end-window.performance.timing.navigationStart,r.emit("update"),this):this},r.timerMark=function(e,t){return r.timerStart(e,t),r.timerEnd(e,t),this},r.logBatchTimings=function(){return this},r.getTimings=function(){return r.__timings},r}),function(e,t,n){"function"==typeof define&&define.amd?define("libs/jquery.visibility",["jquery"],function(i){return n(e,t,i)}):n(e,t,e.jQuery)}(this,document,function(e,t,n,i){var r,o,s="focus blur",a=["","moz","ms","o","webkit"],l=n.support,u=n(t);"onfocusin"in t&&"hasFocus"in t&&(s="focusin focusout");for(;(o=r=a.pop())!=i;)if(o=(r?r+"H":"h")+"idden",l.pageVisibility="boolean"==typeof t[o]){s=r+"visibilitychange";break}n(/blur$/.test(s)?e:t).on(s,function(e){var n=e.type,r=e.originalEvent,s=r.toElement;(!/^focus./.test(n)||s==i&&r.fromElement==i&&r.relatedTarget==i)&&u.trigger((o&&t[o]||/^(?:blur|focusout)$/.test(n)?"hide":"show")+".visibility")})}),define("mods/performance/framerate",["jquery","mods/utils/eventer","mods/utils/utils","mods/app","libs/jquery.visibility","mods/utils/polyfills"],function(e,t,n,i){var r=new t;return r.options={threshold:100,debug:n.parseQueryString(window.location.search).enableFrameRateDebugging},r.listen=function(){return e(document).on("show.visibility",r.start).on("hide.visibility",r.stop),i.on("iscroll.pageChanged",n.debounce(r.logSlowFrameCount,1e3)),e(window).one("beforeunload",r.logSlowFrameCount),this},r.now=function(){return+new Date},r.slowFrames={current:0,total:0},r.logSlowFrameCount=function(){e.support.pageVisibility,r.slowFrames.current=0},r.isRunning=!1,r.lastRun=0,r.start=function(){return e.support.pageVisibility&&(r.isRunning=!0,r.lastRun=r.now(),r.track()),this},r.stop=function(){return r.isRunning=!1,delete r.lastRun,cancelAnimationFrame(r.__timer),this},r.track=function(){var e=r.now();return r.lastRun&&e-r.lastRun>r.options.threshold&&(r.slowFrames.current+=1,r.slowFrames.total+=1,r.emit("update",r.slowFrames.total),r.options.debug&&console.log("slow frame detected! [fps: "+(1e3/(e-r.lastRun)).toFixed(2)+" | "+(e-r.lastRun)+" ms]")),r.isRunning&&(r.lastRun=r.now(),r.__timer=requestAnimationFrame(r.track)),this},r}),define("mods/utils/dependency-loader",["jquery","mods/utils/utils"],function(e,t){var n=function(n){var i=void 0,r=function(e){i=e,a(0)},o=function(e){s()&&i?i():a(++e)},s=function(){for(var e=0;n.length>e;e++)if(!n[e].is_loaded)return!1;return!0},a=function(e){n.length>e&&l(e,n[e])},l=function(n,i){var r=t.addScript(i);r.async=!0,e(r).load(function(){i.is_loaded=!0,o(n)})};return{ready:r}};return n}),define("mods/comments/echo-plugins",["jquery","mods/app"],function(e,t){var n=function(){i(),r(),o(),s()},i=function(){var t=Echo.createPlugin({name:"CheezSubmit",applications:["Submit"],init:function(e){e.extendRenderer("Submit","postButton",t.renderers.Submit.postButton),e.extendRenderer("Submit","anonymousModeUserInfo",t.renderers.Submit.anonymousModeUserInfo),e.extendRenderer("Submit","tagsContainer",t.renderers.Submit.hide),e.extendRenderer("Submit","markersContainer",t.renderers.Submit.hide)}});t.renderers={Submit:{hide:function(e){e.hide()},postButton:function(e){e[0].className=e[0].className+" btn btn-chz";var t=this;return t.parentRenderer("postButton",arguments)},anonymousModeUserInfo:function(t,n){var i=this,r="echo-submit-anonymousUserInfo",o=function(){return i.user.logged()?'<div class="echo-item-authorName">'+i.user.get("name")+"</div>":'<div class="{Data:prefix}NameContainer echo-submit-border"><input class="{Data:prefix}Name echo-primaryFont echo-primaryColor"></div>'},s='<div class="echo-submit-userInfoWrapper"><div class="{Data:prefix}Avatar"></div><div class="{Data:prefix}Fields"><div class="{Data:prefix}FieldsWrapper">'+o()+'<div class="{Data:prefix}UrlContainer">'+'<input type="hidden" class="{Data:prefix}Url echo-primaryFont echo-primaryColor">'+"</div>"+"</div>"+"</div>"+'<div class="echo-clear"></div>'+"</div>",a={Avatar:function(e){var t=i.user.get("avatar",i.user.get("defaultAvatar"));e.append('<img src="'+t+'">')},Name:function(e){n.set("anonymousUserInfoName",e),e.val(i.user.get("name","")).iHint({text:i.label("yourName"),className:"echo-secondaryColor"})},Url:function(e){n.set("anonymousUserInfoUrl",e),e.val(i.user.get("domain","")).iHint({text:i.label("yourWebsiteOptional"),className:"echo-secondaryColor"})}},s=this.substitute(s,{prefix:r});return e.toDOM(s,r,a).content}}}},r=function(){var n=Echo.createPlugin({name:"CheezAuth",applications:["Submit"],init:function(e,t){e.extendRenderer("Submit","container",e.renderers.Submit.container),e.subscribe(t,"internal.User.onInvalidate",function(){t.rerender()})}});n.renderers={Submit:{}},n.renderers.Submit.container=function(){var i=this;return!t.getConfig().DisableAnonymousComments&&"forceLogin"!=n.getPermissions(i)||i.user.logged()?(e("#js-echo-anonymous-message").addClass("hide"),i.parentRenderer("container",arguments)):(e("#js-echo-anonymous-message").removeClass("hide"),"")},n.getPermissions=function(e){return n.config.get(e,"submitPermissions","allowGuest")}},o=function(){var t=Echo.createPlugin({name:"CheezStream",applications:["Stream"],init:function(e,n){e.extendRenderer("Item","authorName",t.renderers.Item.authorName),e.extendRenderer("Item","controls",t.renderers.Item.controls),e.addCss(".echo-linkColor {color: #08AED4;} .echo-linkColor a {color: #08AED4;} .echo-linkColor a:hover {color: #00718f;}"),e.subscribe(n,"internal.User.onInvalidate",function(){n.rerender()})}});t.renderers={Item:{controls:function(){var e=this;return e.user.logged()?e.parentRenderer("controls",arguments):void 0},authorName:function(t){t[0].className="echo-item-authorName";var n=this,i=e.stripTags(n.parentRenderer("authorName",arguments));return(!i||1>i.length)&&(i="Derp Herpington"),n.data.actor&&n.data.actor.id&&"http://js-kit.com/ECHO/user/fake_user"!==n.data.actor.id?'<a href="'+n.data.actor.id+'">'+i+"</a>":i}}}},s=function(){var t=Echo.createPlugin({name:"ItemSanitization",applications:["Stream"],init:function(e){e.extendRenderer("Item","body",function(){var t=this,n=e.pickSanitizationMethod(t);t.data.object.content=n(t.data.object.content,t),t.parentRenderer("body",arguments)})}});t.pickSanitizationMethod=function(n){var i=t.config.get(n,"sanitization","none"),r=t.config.get(n,"exceptions",[]);return e.map(r||[],function(e){return plugin.isConditionFulfilled(e,n)?(i=e.sanitization||"none",!1):void 0}),e.isFunction(i)?i:t.sanitizations[i]?t.sanitizations[i]:t.sanitizations.none},t.isConditionFulfilled=function(t,n){var i=e.getNestedValue(t.field,n.data),r=e.isArray(i)?i:[i],o=e.isArray(t.value)?t.value:[t.value],s=!1;return e.map(r,function(t){e.map(o,function(e){return(t||"").toLowerCase()==(e||"").toLowerCase()?(s=!0,!1):void 0})}),s},t.sanitizations={},t.sanitizations.stripTags=function(t){var n=e.stripTags(t);return n&&n.length>0?n:"Cheerio Burger! Unfortunately, we are not able to approve this comment due to it's content."},t.sanitizations.none=function(e){return e}};return{setup:n}}),define("mods/comments/echo-rageface",["jquery","mods/utils/utils","mods/app"],function(e,t,n){var i=n.getConfig(),r=function(){var t=i.RageFaceUrl,n=function(){if(Echo.Vars.smileys)return Echo.Vars.smileys;var n=function(e){return e.replace(/([\W])/g,"\\$1")},i=Echo.Vars.smileys={codes:[],regexps:[]};i.hash=o();var r=[];return e.each(i.hash,function(e){var t=n(e);r.push(t),i.codes.push(e),i.regexps[e]=RegExp(t,"g")}),i.regexps.test=RegExp(r.join("|")),i.tag=function(e){return'<img class="echo-item-smiley-icon" src="'+t+e.file+'" title="'+e.title+'" alt="'+e.title+'" />'},i};Echo.Item.prototype.initSmileysConfig=n},o=function(){return{":badpokerface:":{file:"badpokerface.png",title:"bad poker face"},":pokerface:":{file:"pokerface.png",title:"poker face"},":actually:":{file:"actually.png",title:"actually"},":pls:":{file:"pls.png",title:"pls"},":notok:":{file:"notok.png",title:"its not ok"},":notbad:":{file:"notbad.png",title:"not bad"},":gasp:":{file:"gasp.png",title:"gasp"},":greatscott:":{file:"greatscott.png",title:"great scott"},":tada:":{file:"tada.png",title:"not bad"},":noway:":{file:"noway.png",title:"no way"},":yuno:":{file:"yuno.png",title:"Y U NO"},":no:":{file:"no.png",title:"no"},":challenge:":{file:"challenge.png",title:"challenge"},":hmm:":{file:"hmm.png",title:"hmm"},":programming:":{file:"programming.gif",title:"programming"},":yay:":{file:"yay.png",title:"yay"},":happy:":{file:"happy.png",title:"happy"},":faexcited:":{file:"faexcited.png",title:"faexcited"},":thumb:":{file:"thumb.png",title:"thumb"},":haters:":{file:"haters.png",title:"haters gonna hate"},":hehheh:":{file:"hehheh.png",title:"heh heh"},":perfect:":{file:"perfect.png",title:"perfect"},":satisfied:":{file:"satisfied.png",title:"satisfied"},":epicwin:":{file:"epicwin.png",title:"epic win"},":ewbte:":{file:"ewbte.png",title:"everything went better than expected"},":smashing:":{file:"smashing.png",title:"smashing"},":woohoo:":{file:"woohoo.png",title:"woohoo"},":awwyeah:":{file:"awwyeah.png",title:"aww yeah"},":lol:":{file:"lol.png",title:"lol"},":fts:":{file:"fts.png",title:"f**k that s**t"},":teehee:":{file:"teehee.png",title:"tee hee"},":problem:":{file:"problem.png",title:"problem?"},":ilied:":{file:"ilied.png",title:"i lied"},":peek:":{file:"peek.png",title:"peek"},":taunt:":{file:"dolan.gif",title:"dolan taunt"},":udontsay:":{file:"udontsay.png",title:"u dont say"},":truestory:":{file:"truestory.png",title:"true story"},":ohgod:":{file:"ohgod.png",title:"oh god, oh gross"},":motherofgod:":{file:"motherofgod.png",title:"mother of god"},":allthethings:":{file:"allthethings.png",title:"all thet hings"},":badass:":{file:"badass.png",title:"badass"},":fap:":{file:"fap.png",title:"fap fap fap"},":femalefap:":{file:"femalefap.png",title:"female fap fap fap"},":megusta:":{file:"megusta.png",title:"me gusta"},":sweetjesus:":{file:"sweetjesus.png",title:"sweet jesus"},":rage:":{file:"rage.png",title:"rage"},":epicrage:":{file:"epicrage.png",title:"epic rage"},":extremerage:":{file:"extremerage.png",title:"extreme rage"},":nuclearrage:":{file:"nuclearrage.png",title:"nuclear rage"},":omegarage:":{file:"omegarage.png",title:"omega rage"},":ok:":{file:"ok.png",title:"ok ok"},":foreveralone:":{file:"foreveralone.png",title:"forever alone"},":sad:":{file:"sad.png",title:"sad"},":awman:":{file:"awman.png",title:"aww man"},":aw:":{file:"aw.png",title:"aww"},":uh:":{file:"uh.png",title:"oh no"},":gtf:":{file:"gtf.png",title:"OMG NAUGHTY"},":tf:":{file:"tf.png",title:"OMG NAUGHTY"},":jackie:":{file:"jackie.png",title:"jackie chan"},":gooby:":{file:"gooby.png",title:"gooby"},":genius:":{file:"genius.png",title:"genius"},":derp:":{file:"derp.png",title:"derp"},":ohhh:":{file:"ohhh.png",title:"ohhh"},":oh:":{file:"oh.png",title:"oh"},":couragewolf:":{file:"couragewolf.png",title:"courage wolf"},":insanitywolf:":{file:"insanitywolf.png",title:"insanity wolf"},":nothingtodohere:":{file:"nothingtodohere.png",title:"nothing to do here"},":scumbaghat:":{file:"scumbaghat.png",title:"scumbag hat"},":closeenough:":{file:"closeenough.png",title:"close enough"},":gtfo:":{file:"gtfo.png",title:"gtfo"},":brohoof:":{file:"brohoof.gif",title:"brohoof"},":facehoof:":{file:"facehoof.png",title:"facehoof"},":fluttercry:":{file:"fluttercry.png",title:"fluttercry"},":huzzah:":{file:"huzzah.png",title:"huzzah"},":parasprites:":{file:"parasprites.png",title:"parasprites"},":trollestia:":{file:"trollestia.png",title:"trollestia"},":whywubwoo:":{file:"whywubwoo.png",title:"whywubwoo"},":clop:":{file:"clop.gif",title:"clop"},":derpy:":{file:"derpy.gif",title:"derpy"},":flutterrage:":{file:"flutterrage.gif",title:"flutterrage"},":forever:":{file:"forever.gif",title:"forever"},":hatedetected:":{file:"hatedetected.gif",title:"hatedetected"},":sonicrainboom:":{file:"sonicrainboom.gif",title:"sonicrainboom"},":twentypercent:":{file:"twentypercent.gif",title:"twentypercent"},":welcomebrony:":{file:"welcomebrony.gif",title:"welcomebrony"},":ponywoohoo:":{file:"ponywoohoo.gif",title:"woohoo"},":wubwub:":{file:"wubwub.gif",title:"wubwub"},":ponyyay:":{file:"ponyyay.gif",title:"ponyyay"},":datplot:":{file:"datplot.png",title:"dat plot"}}};return{setup:r}}),define("mods/comments/echo-shim",["jquery","mods/utils/utils","mods/utils/dependency-loader","mods/app","mods/comments/echo-plugins","mods/comments/echo-rageface"],function(e,t,n,i,r,o){function s(){return l}var a=i.getConfig(),l={logoutBtn:"#js-logout-btn",scope:e("#echo-stream").data("href"),submit:document.getElementById("echo-submit-form"),stream:document.getElementById("echo-stream"),serverBaseURL:"http://api.echoenabled.com/v1",busName:"cheezburger",appKey:"echo.echo.streamserver.cheezburger.prod",siteId:e("#cheez-site-id").val()},u=[{id:"chz-backplane-lib",http:"//",path:"cdn.echoenabled.com/clientapps/v2/backplane.js",is_loaded:!1},{id:"chz-echo-jquery-ui",http:"//",path:"cdn.echoenabled.com/clientapps/v2/jquery-plugins.js",is_loaded:!1},{id:"chz-echo-user-list",http:"//",path:"cdn.echoenabled.com/clientapps/v2/user-list.js",is_loaded:!1},{id:"chz-echo-counter",http:"//",path:"cdn.echoenabled.com/clientapps/v2/counter.js",is_loaded:!1},{id:"chz-echo-counter",http:"//",path:"cdn.echoenabled.com/clientapps/v2/submit.js",is_loaded:!1},{id:"chz-echo-stream",http:"//",path:"cdn.echoenabled.com/clientapps/v2/stream.js",is_loaded:!1},{id:"chz-echo-reply",http:"//",path:"cdn.echoenabled.com/clientapps/v2/plugins/reply.js",is_loaded:!1},{id:"chz-echo-user-ban",http:"//",path:"cdn.echoenabled.com/clientapps/v2/plugins/user-ban.js",is_loaded:!1},{id:"chz-echo-privileges",http:"//",path:"cdn.echoenabled.com/clientapps/v2/plugins/user-privileges.js",is_loaded:!1},{id:"chz-echo-form-auth",http:"//",path:"cdn.echoenabled.com/clientapps/v2/plugins/form-auth.js",is_loaded:!1},{id:"chz-echo-edit",http:"//",path:"cdn.echoenabled.com/clientapps/v2/plugins/edit.js",is_loaded:!1},{id:"chz-echo-curation",http:"//",path:"cdn.echoenabled.com/clientapps/v2/plugins/curation.js",is_loaded:!1},{id:"chz-echo-like",http:"//",path:"cdn.echoenabled.com/clientapps/v2/plugins/like.js",is_loaded:!1},{id:"chz-echo-community-flag",http:"//",path:"cdn.echoenabled.com/clientapps/v2/plugins/community-flag.js",is_loaded:!1}],c=function(){a.IsSinglePostPage&&(i.emit("perf.startTiming","EchoCommentsSetup"),n(u).ready(function(){m(),d(),p(),f(),r.setup(),o.setup(),i.emit("perf.endTiming","EchoCommentsSetup")}))},d=function(){var e=new Echo.User({appkey:l.appKey});e.init(function(){if(!e.logged())try{h()}catch(t){}})},h=function(){e.ajax({dataType:"jsonp",url:a.EchoApiUrl+"/Authorize",data:{channelId:window.Backplane.getChannelID()},success:function(){window.Backplane.expectMessages(["identity/ack"])}})},p=function(){Echo.Localization.extend({post:"Comment",posting:"Commenting..."},"Submit"),Echo.Submit.prototype.addCss=function(){},new Echo.Submit({target:l.submit,appkey:l.appKey,targetURL:l.scope,markers:["siteid_"+l.siteId],plugins:[{name:"CheezSubmit"},{name:"CheezAuth"}]})},f=function(e){Echo.Stream.prototype.addCss=function(){},new Echo.Stream({target:e||l.stream,appkey:l.appKey,query:"childrenof:"+l.scope+" -state:ModeratorDeleted,SystemFlagged,CommunityFlagged,ModeratorFlagged -user.state:ModeratorBanned -source:Twitter,Facebook safeHTML:aggressive children:2  -state:ModeratorDeleted,SystemFlagged,CommunityFlagged,ModeratorFlagged",reTag:!1,maxBodyLines:5,liveUpdates:!1,plugins:[{name:"Like"},{name:"Edit"},{name:"UserPrivileges"},{name:"UserBan"},{name:"CommunityFlag"},{name:"Curation"},{name:"Reply",markers:["siteid_"+l.siteId],nestedPlugins:[{name:"CheezSubmit"},{name:"CheezAuth"},{name:"ItemSanitization"}]},{name:"ItemSanitization",sanitization:"stripTags"},{name:"CheezStream"}]})},m=function(){var e=t.getCookie("cheez_voting_id");e?(window.Backplane.resetCookieChannel(),window.Backplane.init({serverBaseURL:l.serverBaseURL,busName:l.busName,channelName:e})):window.Backplane.init({serverBaseURL:l.serverBaseURL,busName:l.busName}),t.setCookie("bp_channel_id",window.Backplane.getChannelID(),30,a.CookieHostname)};return{setup:c,getOptions:s}}),define("mods/utils/mobile-utils",["jquery","mods/app","mods/utils/utils","mods/device","libs/chz-tmpl"],function(e,t,n,i){var r=t.getConfig(),o={},s=document;return o.listen=function(){window.addEventListener&&window.addEventListener("orientationchange",o.update,!1),e(document).ready(function(){o.update(),(i.is.tablet||i.is.phone)&&o.scaleFix()})},o.update=function(){var e=i.update();o.deviceInfo(e)},o.scaleFix=function(){var e="addEventListener",t="gesturestart",n="querySelectorAll",i=[1,1],r=n in s?s[n]("meta[name=viewport]"):[],o=function(){r.content="width=device-width,minimum-scale="+i[0]+",maximum-scale="+i[1],s.removeEventListener(t,o,!0)};(r=r[r.length-1])&&e in s&&(o(),i=[.25,1.6],s[e](t,o,!0))},o.enableMobile=function(){n.setCookie("isMobile",!0,30,r.CookieHostname),n.destroyCookie("isDesktop",r.CookieHostname),window.location.reload(!0)},o.disableMobile=function(){n.setCookie("isDesktop",!0,30,r.CookieHostname),n.destroyCookie("isMobile",r.CookieHostname),window.location.reload(!0)},o.deviceInfo=function(t){var n=e("#js-mobile-table-wrap");if(n.length){var i={data:[{title:"Time",value:(new Date).valueOf()},{title:"Desktop",value:t.is.desktop},{title:"Tablet",value:t.is.tablet},{title:"Phone",value:t.is.phone},{title:"Window Width",value:window.document.documentElement.clientWidth},{title:"UserAgent",value:navigator.userAgent},{title:"Pixel Density",value:window.devicePixelRatio},{title:"Orientation Supported",value:"orientation"in window}]},r=e("#tmpl-mobileTable").tmpl(i);n.html(r)}},o}),define("mods/navigation/navigation",["jquery","mods/app","mods/device","libs/waypoints"],function(e,t,n){var i={};i.options={closetimeout:0,opentimeout:350,parent:".navbar",hoverClass:"is-open",desktopNavbarSelector:".nav li.vertical",profileNavbarSelector:".profile-inner",tabletNavbarSelector:".nav li.vertical > a, .profile-inner > a",phoneNavbarSelector:'.navbar [data-toggle="collapse"]',socialSelector:".social-media-icons"};var r={};r.ctimeout=null,r.otimeout=null,r.showFlyout=function(t,n,o){var s=n||e(this);r.otimeout=setTimeout(function(){e("."+i.options.hoverClass).removeClass(i.options.hoverClass),s.removeClass(i.options.hoverClass),s.addClass(i.options.hoverClass)},o||i.options.opentimeout),clearTimeout(r.ctimeout)},r.hideFlyout=function(t,n,o){var s=n||e(this);r.ctimeout=setTimeout(function(){e("."+i.options.hoverClass).removeClass(i.options.hoverClass),s.removeClass(i.options.hoverClass)},o||i.options.closetimeout),clearTimeout(r.otimeout)},r.showFlyoutNonNav=function(e,t,n){clearTimeout(r.otimeout),r.showFlyout(e,t,n)},r.tabletClick=function(t){t.preventDefault(),t.stopPropagation();var n=e(this),r=n.parent();r.hasClass(i.options.hoverClass)?e(this).parent().removeClass(i.options.hoverClass):(e("."+i.options.hoverClass).removeClass(i.options.hoverClass),e(this).parent().addClass("is-open"))},r.tabletClick2=function(t){t.preventDefault(),t.stopPropagation(),e(this).hasClass(i.options.hoverClass)?e(this).removeClass(i.options.hoverClass):(e("."+i.options.hoverClass).removeClass(i.options.hoverClass),e(this).addClass("is-open"))};var o={};return o.toggle=function(t){t.preventDefault(),t.stopPropagation();var n=e(this),i=n.data("target"),r=n.parents(".container"),o=n.parent().is("li")?n.nextAll(i):r.find(i);o.toggle(),r.toggleClass("is-open"),e(".plus",n).length>0?e(".plus",n).removeClass("plus").addClass("minus"):e(".minus",n).length>0&&e(".minus",n).removeClass("minus").addClass("plus")},o.displaySubTitles=function(t){var n=e(".navbar a > span.sub-title");n.css("display",t)},o.setActive=function(){var t=e(".navbar ul.nav"),n=t.find("li.active");t.prepend(n)},i.setup=function(t){var n=e(document);n.off("mouseover.advanced focus.advanced",i.options.desktopNavbarSelector).off("click.tablet",i.options.tabletNavbarSelector).off("click.navCollapse",i.options.phoneNavbarSelector).off("mouseover.advanced focus.advanced",i.options.socialSelector),t.is.desktop?n.on("mouseenter.advanced focus.advanced",i.options.desktopNavbarSelector,r.showFlyout).on("mouseleave.advanced blur.advanced",i.options.desktopNavbarSelector,r.hideFlyout).on("mouseenter.advanced focus.advanced",i.options.profileNavbarSelector,function(t){r.showFlyoutNonNav(t,e(this))}).on("mouseleave.advanced blur.advanced",i.options.profileNavbarSelector,r.hideFlyout).on("mouseenter.advanced focus.advanced",i.options.socialSelector,function(t){r.showFlyout(t,e(this),250)}).on("mouseleave.advanced blur.advanced",i.options.socialSelector,function(t){r.hideFlyout(t,e(this),300)}):t.is.tablet?(o.displaySubTitles("block"),n.on("click.tablet",i.options.tabletNavbarSelector,r.tabletClick).on("click.tablet",i.options.socialSelector,r.tabletClick2)):t.is.phone&&(o.displaySubTitles("none"),o.setActive(),n.on("click.navCollapse",i.options.phoneNavbarSelector,o.toggle))},i.listen=function(){return i.setup(n),e(window).bind("orientationchange",function(){var e=n.update();i.setup(e)}),n.is.desktop&&(e("#js-globalnav-wrap").waypoint(i.affix,{offset:0,onlyOnScroll:!0}),e("#js-globalsubnav-wrap").waypoint(i.affix,{offset:40,onlyOnScroll:!0})),this},i.affix=function(n,i){return n.stopPropagation(),t.getConfig().EnableFall2013VisualUpdates?void 0:(e("#js-globalnav").toggleClass("is-fixed","down"===i),e("#js-globalsubnav").toggleClass("is-fixed","down"===i),t.emit("nav.isfixedtoviewport","down"===i),this)},i}),define("mods/follow/follow",["jquery","mods/ui/popover","mods/app","mods/device","mods/follow/sources","mods/utils/number"],function(e,t,n,i,r,o){var s={};return s.options={btnSelector:".js-follow",countSelector:".js-follow-count",loadingClass:"is-busy",followedClass:"is-followed",smoothGUIUpdateBy:250,followEndpoint:"sharedfeeds/follow",unfollowEndpoint:"sharedfeeds/unfollow"},s.popover=new t({triggerSelector:".js-follow-showpopover",autoAdjustVAlign:!1,template:['<div class="chz-popover top follow-popover">','<a class="js-close close icons" data-icon="X"></a>','<div class="chz-popover-content">','<div class="follow-siteicon {{iconClass}}"></div>','<div class="follow-info">','<a href="{{url}}" class="js-follow follow-link {{followedClass}} {{errorClass}}" data-id="{{id}}">','{{^errorCode}}<span class="follow-msg"></span>{{/errorCode}}',"{{#errorCode}}<span>{{errorText}}</span>{{/errorCode}}","</a>","{{#followers}}",'{{^errorCode}}<p class="follow-count"><span class="js-follow-count">{{followersText}}</span> Followers</p>{{/errorCode}}',"{{/followers}}","{{#errorDetailText}}",'<span class="follow-error-detail">{{errorDetailText}}</span>',"{{/errorDetailText}}","</div>","</div>","</div>"].join("")}).listen(),s.events={onBeforePopover:function(e,t){var n=t.data()||{};s.popover.model=r.getOrAdd(n.id,n)},onClick:function(t){t.preventDefault();var i=e(t.currentTarget).data()||{},o=r.getOrAdd(i.id,i);return n.getConfig().IsLoggedIn?(s.showLoading(o),s.submit(o.action(),o.id).then(s.events.onSuccess(o.id),s.events.onFailure(o.id)),void 0):(n.emit("registration.start"),n.emitOnNextPageLoad("follow.postLoginAction",{name:o.action(),sourceId:o.id,attempts:0}),void 0)},onSuccess:function(e){return function(t){var i=r.set(e,{isFollowing:t.isFollowing}).get(e);i.incrementFollowers(t.isFollowing?1:-1).clearError(),setTimeout(function(){n.emit(i.eventName(),i),s.showStatus(i).updateCounts(i)},s.options.smoothGUIUpdateBy)}},onFailure:function(t){return function(n){var i=r.get(t);i&&(i.set("errorCode",n.reason),e(document).trigger("chzevent.chzTrack",{category:"follow",action:i.errorTypeName()}),setTimeout(function(){s.showError(i)},s.options.smoothGUIUpdateBy))}},onPostLoginAction:function(e){return e?n.getConfig().IsLoggedIn?(("follow"===e.name||"unfollow"===e.name)&&s.submit(e.name,e.sourceId).then(s.events.onSuccess(e.sourceId),s.events.onFailure(e.sourceId)),void 0):s.retryPostLoginAction(e):void 0}},s.setup=function(t){return e.extend(s.options,t),this},s.listen=function(){return e(document).on("click",s.options.btnSelector,s.events.onClick),s.popover.$el.on("beforeShow.chzpopover",s.events.onBeforePopover),n.on("follow.postLoginAction",s.events.onPostLoginAction),this},s.getButtons=function(t){return e(s.options.btnSelector+"[data-id="+t+"]")},s.showLoading=function(e){var t=s.getButtons(e.id);return t.addClass(s.options.loadingClass),this},s.showError=function(e){var t=s.getButtons(e.id);return t.removeClass(s.options.loadingClass),s.popover.render(e),this},s.showStatus=function(e){var t=s.getButtons(e.id);return t.removeClass(s.options.loadingClass+" "+s.options.followedClass),e.isFollowing&&t.addClass(s.options.followedClass),s.popover.render(e),this},s.updateCounts=function(e){var t;return"number"!=typeof e.followers?this:(t=s.getButtons(e.id).find(s.options.countSelector),t.text(o.abbreviate(e.followers)),s.popover.$el.find(s.options.countSelector).text(o.addCommas(e.followers)),this)},s.retryPostLoginAction=function(e){return 2>e.attempts&&(e.attempts+=1,n.emitOnNextPageLoad("follow.postLoginAction",e)),this},s.submit=function(t,i){var r=e.Deferred(),o="unfollow"===t?s.options.unfollowEndpoint:s.options.followEndpoint,a=n.getConfig().SitePath+o;return i&&e.ajax({url:a,type:"POST",data:n.addXSRFToken({sourceId:i,sourceType:0}),success:function(e){return e.isSuccessful?(r.resolve(e),void 0):(r.reject(e),void 0)},error:function(){r.reject({isSuccessful:!1,reason:1})}}),r.promise()},s.destroy=function(){return s.popover.destroy(),e(document).off("click",s.options.btnSelector,s.events.onClick),this},s}),define("mods/slideshow/templates",{forMobile:['<div class="slideshow">','<div class="slideshow-slides-wrap">',"{{#activeSlides.length}}",'<ul class="slideshow-slides">',"{{#activeSlides}}",'<li class="slide">',"{{{el}}}","{{^ el}}",'<span class="slide-img" style="background-image: url({{src}});"></span>',"{{/ el}}","</li>","{{/activeSlides}}","</ul>","{{/activeSlides.length}}","</div>",'<div class="slideshow-ctrls {{^hasNavigation}}is-hidden{{/hasNavigation}}">','<button class="js-slideshow-prev slideshow-ctrl slideshow-ctrl-prev">','<i class="icons icons-notext" data-icon="<"></i>',"</button>",'<button class="js-slideshow-next slideshow-ctrl slideshow-ctrl-next">','<i class="icons icons-notext" data-icon=">"></i>',"</button>",'<button class="js-close slideshow-ctrl slideshow-ctrl-close">','<i class="icons icons-notext" data-icon="X"></i>',"</button>","{{#currentSlide}}",'<a class="slideshow-title" href="{{href}}" data-chzevt_category="slideshow" data-chzevt_action="click" data-chzevt_label="{{index}}">{{title}}</a>',"{{/currentSlide}}","</div>","</div>"].join(""),forJumbotron:['<div class="jumbotron-status">',"{{# items.collection}}",'<a href="#!" class="js-show-item {{# isCurrent}}is-active{{/ isCurrent}}" data-show="{{index}}"></a>',"{{/ items.collection}}","</div>",'<div class="slideshow-slides-wrap jumbotron-slides-wrap">',"{{# items.length}}",'<ul class="slideshow-slides has-{{items.length}}-items">',"{{# items.collection}}",'<li class="slide">','<a href="{{href}}?ref=jumbotron" data-chzevt_category="jumbotron" data-chzevt_action="click" title="{{title}}">','<img src="{{src}}" alt="{{title}}" class="slide-img">',"</a>",'<div class="slide-body">','<div class="slide-body-inner">',"<h4>",'<a href="{{href}}?ref=jumbotron" data-chzevt_category="jumbotron" data-chzevt_action="click" alt="{{title}}">{{title}}</a>',"</h4>","<p>{{{description}}}</p>","</div>","</div>","</li>","{{/ items.collection}}","</ul>","{{/ items.length}}","</div>",'<div class="jumbotron-ctrls">','<button class="js-jumbotron-prev slideshow-ctrl slideshow-ctrl-prev">','<i class="icons icons-notext" data-icon="<"></i>',"</button>",'<button class="js-jumbotron-next slideshow-ctrl slideshow-ctrl-next">','<i class="icons icons-notext" data-icon=">"></i>',"</button>","</div>"].join(""),forOverlay:['<div class="jumbotron-header">','<a href="#close" class="close" data-dismiss="modal">&times;</a>',"{{# title.length}}<h3>{{title}}</h3>{{/ title.length}}","</div>",'<div class="jumbotron-status">',"{{# items.collection}}",'<a href="#!" class="js-show-item {{# isCurrent}}is-active{{/ isCurrent}}" data-show="{{index}}"></a>',"{{/ items.collection}}","</div>",'<div class="jumbotron-content">','<div class="slideshow-slides-wrap jumbotron-slides-wrap">',"{{# items.length}}",'<ul class="slideshow-slides has-{{items.length}}-items">',"{{# items.collection}}",'<li class="slide">','<a href="{{href}}?ref=slideshow" class="js-slide-link" data-chzevt_category="jumbotron" data-chzevt_action="click" title="{{title}}">','<img src="{{src}}" alt="{{title}}" class="slide-img">',"</a>","</li>","{{/ items.collection}}","</ul>","{{/ items.length}}","</div>",'<div class="jumbotron-ctrls">','<button class="js-jumbotron-prev slideshow-ctrl slideshow-ctrl-prev">','<i class="icons icons-notext" data-icon="&lt;"></i>',"</button>",'<button class="js-jumbotron-next slideshow-ctrl slideshow-ctrl-next">','<i class="icons icons-notext" data-icon="&gt;"></i>',"</button>","</div>","</div>",'<div class="jumbotron-aside">','<div class="fbshare-container align-middle "><a class="js-fbshare-btn" href="http://www.facebook.com/sharer/sharer.php?u={{shareUrl}}" data-posturl="{{shareUrl}}"><span class="fbshare-btn icons" data-icon="F">Share on Facebook</span></a></div>','<h4 class="jumbotron-summary-title">','<a href="{{href}}?ref=slideshow" data-chzevt_category="jumbotron" data-chzevt_action="click"></a>',"</h4>",'<p class="jumbotron-summary-desc"></p>',"</div>"].join(""),forOverlayNavigator:['<ul class="jumbotron-nav-items has-{{items.length}}-items unstyled">',"{{# items}}",'<li class="js-show-item jumbotron-nav-item {{# isCurrent}}is-active{{/ isCurrent}}" data-show="{{index}}">','<img src="{{src}}" alt="{{title}}" class="slide-img">','<span class="jumbotron-nav-item-title">{{title}}</span>',"</li>","{{/ items}}","</ul>",'<a href="#prev" class="jumbotron-previous icons icons-notext js-jumbotron-prev" data-icon="&lt;"></a>','<a href="#next" class="jumbotron-next icons icons-notext js-jumbotron-next" data-icon="&gt;"></a>'].join(""),forNavigator:['<ul class="jumbotron-nav-items has-{{items.length}}-items unstyled">',"{{# items}}",'<li class="js-show-item jumbotron-nav-item" data-show="{{index}}">','<img src="{{src}}" alt="{{title}}" class="slide-img">','<span class="jumbotron-nav-item-title">{{title}}</span>',"</li>","{{/ items}}","</ul>",'<a href="#prev" class="js-jtnav-prev jumbotron-previous icons icons-notext" data-icon="&lt;"></a>','<a href="#next" class="js-jtnav-next jumbotron-next icons icons-notext" data-icon="&gt;"></a>'].join("")}),define("mods/slideshow/slideshowmodel",["mods/utils/model","mods/utils/inherits","mods/utils/iterator"],function(e,t,n){var i=function i(t,r){return this instanceof i?(e.call(this),this.slides=new n(t),this.slides.isLooping=!0,this.activeSlides=this.getSlideSet(),this.hasNavigation=!0,void 0):new i(t,r)};return t(i,e),i.prototype.currentSlide=function(){return this.slides.current()},i.prototype.setNextSlides=function(){return this.slides.next(),this.set("activeSlides",this.getSlideSet()),this},i.prototype.setPrevSlides=function(){return this.slides.prev(),this.set("activeSlides",this.getSlideSet()),this},i.prototype.getSlideSet=function(){return[this.slides.getPrev(),this.slides.current(),this.slides.getNext()]},i}),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define("libs/hammer",[],function(){return t(e)
}):e.Hammer=t()}(this,function(e,t){function n(){if(!i.READY){i.event.determineEventTypes();for(var e in i.gestures)i.gestures.hasOwnProperty(e)&&i.detection.register(i.gestures[e]);i.event.onTouch(i.DOCUMENT,i.EVENT_MOVE,i.detection.detect),i.event.onTouch(i.DOCUMENT,i.EVENT_END,i.detection.detect),i.READY=!0}}var i=function(e,t){return new i.Instance(e,t||{})};i.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},i.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,i.HAS_TOUCHEVENTS="ontouchstart"in e,i.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,i.NO_MOUSEEVENTS=i.HAS_TOUCHEVENTS&&navigator.userAgent.match(i.MOBILE_REGEX),i.EVENT_TYPES={},i.DIRECTION_DOWN="down",i.DIRECTION_LEFT="left",i.DIRECTION_UP="up",i.DIRECTION_RIGHT="right",i.POINTER_MOUSE="mouse",i.POINTER_TOUCH="touch",i.POINTER_PEN="pen",i.EVENT_START="start",i.EVENT_MOVE="move",i.EVENT_END="end",i.DOCUMENT=document,i.plugins={},i.READY=!1,i.Instance=function(e,t){var r=this;return n(),this.element=e,this.enabled=!0,this.options=i.utils.extend(i.utils.extend({},i.defaults),t||{}),this.options.stop_browser_behavior&&i.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),i.event.onTouch(e,i.EVENT_START,function(e){r.enabled&&i.detection.startDetect(r,e)}),this},i.Instance.prototype={on:function(e,t){for(var n=e.split(" "),i=0;n.length>i;i++)this.element.addEventListener(n[i],t,!1);return this},off:function(e,t){for(var n=e.split(" "),i=0;n.length>i;i++)this.element.removeEventListener(n[i],t,!1);return this},trigger:function(e,t){var n=i.DOCUMENT.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t;var r=this.element;return i.utils.hasParent(t.target,r)&&(r=t.target),r.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this}};var r=null,o=!1,s=!1;return i.event={bindDom:function(e,t,n){for(var i=t.split(" "),r=0;i.length>r;r++)e.addEventListener(i[r],n,!1)},onTouch:function(e,t,n){var a=this;this.bindDom(e,i.EVENT_TYPES[t],function(l){var u=l.type.toLowerCase();if(!u.match(/mouse/)||!s){(u.match(/touch/)||u.match(/pointerdown/)||u.match(/mouse/)&&1===l.which)&&(o=!0),u.match(/touch|pointer/)&&(s=!0);var c=0;o&&(i.HAS_POINTEREVENTS&&t!=i.EVENT_END?c=i.PointerEvent.updatePointer(t,l):u.match(/touch/)?c=l.touches.length:s||(c=u.match(/up/)?0:1),c>0&&t==i.EVENT_END?t=i.EVENT_MOVE:c||(t=i.EVENT_END),c||null===r?r=l:l=r,n.call(i.detection,a.collectEventData(e,t,l)),i.HAS_POINTEREVENTS&&t==i.EVENT_END&&(c=i.PointerEvent.updatePointer(t,l))),c||(r=null,o=!1,s=!1,i.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=i.HAS_POINTEREVENTS?i.PointerEvent.getEvents():i.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],i.EVENT_TYPES[i.EVENT_START]=e[0],i.EVENT_TYPES[i.EVENT_MOVE]=e[1],i.EVENT_TYPES[i.EVENT_END]=e[2]},getTouchList:function(e){return i.HAS_POINTEREVENTS?i.PointerEvent.getTouchList():e.touches?e.touches:[{identifier:1,pageX:e.pageX,pageY:e.pageY,target:e.target}]},collectEventData:function(e,t,n){var r=this.getTouchList(n,t),o=i.POINTER_TOUCH;return(n.type.match(/mouse/)||i.PointerEvent.matchType(i.POINTER_MOUSE,n))&&(o=i.POINTER_MOUSE),{center:i.utils.getCenter(r),timeStamp:(new Date).getTime(),target:n.target,touches:r,eventType:t,pointerType:o,srcEvent:n,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return i.detection.stopDetect()}}}},i.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(n){t.push(e.pointers[n])}),t},updatePointer:function(e,t){return e==i.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var n={};return n[i.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==i.POINTER_MOUSE,n[i.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==i.POINTER_TOUCH,n[i.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==i.POINTER_PEN,n[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},i.utils={extend:function(e,n,i){for(var r in n)e[r]!==t&&i||(e[r]=n[r]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],n=[],i=0,r=e.length;r>i;i++)t.push(e[i].pageX),n.push(e[i].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,i=t.pageX-e.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(e,t){var n=Math.abs(e.pageX-t.pageX),r=Math.abs(e.pageY-t.pageY);return n>=r?e.pageX-t.pageX>0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT:e.pageY-t.pageY>0?i.DIRECTION_UP:i.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,i=t.pageY-e.pageY;return Math.sqrt(n*n+i*i)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==i.DIRECTION_UP||e==i.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){var n,i=["webkit","khtml","moz","ms","o",""];if(t&&e.style){for(var r=0;i.length>r;r++)for(var o in t)t.hasOwnProperty(o)&&(n=o,i[r]&&(n=i[r]+n.substring(0,1).toUpperCase()+n.substring(1)),e.style[n]=t[o]);"none"==t.userSelect&&(e.onselectstart=function(){return!1})}}},i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:i.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);for(var t=this.current.inst.options,n=0,r=this.gestures.length;r>n;n++){var o=this.gestures[n];if(!this.stopped&&t[o.name]!==!1&&o.handler.call(o,e,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=e),e.eventType==i.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=i.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;if(t&&(e.touches.length!=t.touches.length||e.touches===t.touches)){t.touches=[];for(var n=0,r=e.touches.length;r>n;n++)t.touches.push(i.utils.extend({},e.touches[n]))}var o=e.timeStamp-t.timeStamp,s=e.center.pageX-t.center.pageX,a=e.center.pageY-t.center.pageY,l=i.utils.getVelocity(o,s,a);return i.utils.extend(e,{deltaTime:o,deltaX:s,deltaY:a,velocityX:l.x,velocityY:l.y,distance:i.utils.getDistance(t.center,e.center),angle:i.utils.getAngle(t.center,e.center),direction:i.utils.getDirection(t.center,e.center),scale:i.utils.getScale(t.touches,e.touches),rotation:i.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var n=e.defaults||{};return n[e.name]===t&&(n[e.name]=!0),i.utils.extend(i.defaults,n,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return t.index>e.index?-1:e.index>t.index?1:0}),this.gestures}},i.gestures=i.gestures||{},i.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case i.EVENT_START:clearTimeout(this.timer),i.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==i.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case i.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case i.EVENT_END:clearTimeout(this.timer)}}},i.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==i.EVENT_END){var n=i.detection.previous,r=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;n&&"tap"==n.name&&t.options.doubletap_interval>e.timeStamp-n.lastEvent.timeStamp&&t.options.doubletap_distance>e.distance&&(t.trigger("doubletap",e),r=!0),(!r||t.options.tap_always)&&(i.detection.current.name="tap",t.trigger(i.detection.current.name,e))}}},i.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==i.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},i.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,n){if(i.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),this.triggered=!1,t;if(!(n.options.drag_max_touches>0&&e.touches.length>n.options.drag_max_touches))switch(e.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:if(n.options.drag_min_distance>e.distance&&i.detection.current.name!=this.name)return;i.detection.current.name=this.name,(i.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&e.distance>=n.options.drag_lock_min_distance)&&(e.drag_locked_to_axis=!0);var r=i.detection.current.lastEvent.direction;e.drag_locked_to_axis&&r!==e.direction&&(e.direction=i.utils.isVertical(r)?0>e.deltaY?i.DIRECTION_UP:i.DIRECTION_DOWN:0>e.deltaX?i.DIRECTION_LEFT:i.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),n.trigger(this.name+e.direction,e),(n.options.drag_block_vertical&&i.utils.isVertical(e.direction)||n.options.drag_block_horizontal&&!i.utils.isVertical(e.direction))&&e.preventDefault();break;case i.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},i.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,n){if(i.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),this.triggered=!1,t;if(!(2>e.touches.length))switch(n.options.transform_always_block&&e.preventDefault(),e.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:var r=Math.abs(1-e.scale),o=Math.abs(e.rotation);if(n.options.transform_min_scale>r&&n.options.transform_min_rotation>o)return;i.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),o>n.options.transform_min_rotation&&n.trigger("rotate",e),r>n.options.transform_min_scale&&(n.trigger("pinch",e),n.trigger("pinch"+(1>e.scale?"in":"out"),e));break;case i.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},i.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,n){return n.options.prevent_mouseevents&&e.pointerType==i.POINTER_MOUSE?(e.stopDetect(),t):(n.options.prevent_default&&e.preventDefault(),e.eventType==i.EVENT_START&&n.trigger(this.name,e),t)}},i.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==i.EVENT_END&&t.trigger(this.name,e)}},i}),function(e,t){"function"==typeof define&&define.amd?define("libs/jquery.hammer",["jquery","./hammer"],t):t(e.jQuery||e.Zepto,e.Hammer)}(this,function(e,t,n){return e!==n?(t.event.bindDom=function(t,i,r){e(t).on(i,function(e){var t=e.originalEvent||e;t.pageX===n&&(t.pageX=e.pageX,t.pageY=e.pageY),t.target||(t.target=e.target),t.which===n&&(t.which=t.button),t.preventDefault||(t.preventDefault=e.preventDefault),t.stopPropagation||(t.stopPropagation=e.stopPropagation),r.call(this,t)})},t.Instance.prototype.on=function(t,n){return e(this.element).on(t,n)},t.Instance.prototype.off=function(t,n){return e(this.element).off(t,n)},t.Instance.prototype.trigger=function(t,n){var i=e(this.element);return i.has(n.target).length&&(i=e(n.target)),i.trigger({type:t,gesture:n})},e.fn.hammer=function(n){return this.each(function(){var i=e(this),r=i.data("hammer");r?r&&n&&t.utils.extend(r.options,n):i.data("hammer",new t(this,n||{}))})},t):n}),define("mods/slideshow/slideshowview",["jquery","mods/utils/view","mods/utils/inherits","libs/mustache","libs/jquery.hammer","libs/bootstrap-transition"],function(e,t,n,i,r){var o=function o(n,r){return this instanceof o?(t.call(this,n),this.model=n,this.html=i.compile(r),this.$el=e(this.el),this.$el.hammer({drag_lock_to_axis:!0,hold:!1,swipe_velocity:.4,transform_always_block:!0}),this.hasFullSupport=Modernizr.csstransforms&&Modernizr.csstransitions,this.showNextClass=this.hasFullSupport?"show-next":"show-next-lofi",this.showPreviousClass=this.hasFullSupport?"show-previous":"show-previous-lofi",this.setup().listen(),void 0):new o(n,r)};return n(o,t),o.prototype.APPEND_TO_SELECTOR="body",o.prototype.SLIDE_COUNT=3,o.prototype.el='<div class="slideshow-wrap"></div>',o.prototype.isTransitioning=!1,o.prototype.$slidesContainer=null,o.prototype.setup=function(){return this.render(),e(this.APPEND_TO_SELECTOR).append(this.$el).addClass("has-slideshow"),this.$el.data("slideshowview",this),this.emitTrackingEvent("shown"),this},o.prototype.listen=function(){return this.$el.on("click",".js-close",e.proxy(this.close,this)).on("tap",".js-slideshow-next",e.proxy(this.next,this)).on("tap",".js-slideshow-prev",e.proxy(this.prev,this)).on("tap",".slide",e.proxy(this.toggleNavigation,this)).on("dragleft dragright",e.proxy(this.moveSlides,this)).on("release",e.proxy(this.resetOrTransition,this)).on("swipeleft",e.proxy(this.next,this)).on("swiperight",e.proxy(this.prev,this)).on("swipedown",e.proxy(this.close,this)),this},o.prototype.resetOrTransition=function(e){var t=this.getSlidesContainerOffset(e.gesture.deltaX);return this.setSlidesContainerStyles(),e.gesture.direction===r.DIRECTION_LEFT&&-50>t?this.next(e):e.gesture.direction===r.DIRECTION_RIGHT&&t>-17?this.prev(e):this},o.prototype.moveSlides=function(e){var t;return this.isTransitioning?this:(t=this.getSlidesContainerOffset(e.gesture.deltaX),this.preventDefaultFor(e),this.$slidesContainer.addClass("is-dragging"),this.hasFullSupport?this.$slidesContainer.css({transform:"translateX("+t+"%)"}):this.$slidesContainer.css({marginLeft:t+"%"}),this)},o.prototype.close=function(e){return this.preventDefaultFor(e),this.destroy(),this.emitTrackingEvent("closed"),this},o.prototype.next=function(e){return this.preventDefaultFor(e).readyToSlide()&&(this.model.setNextSlides(),this.setSlidesContainerStyles(this.showNextClass),this.queueRender(),this.emitTrackingEvent("next")),this},o.prototype.prev=function(e){return this.preventDefaultFor(e).readyToSlide()&&(this.model.setPrevSlides(),this.setSlidesContainerStyles(this.showPreviousClass),this.queueRender(),this.emitTrackingEvent("prev")),this},o.prototype.toggleNavigation=function(){return this.$el.find(".slideshow-ctrls").toggleClass("is-hidden",this.model.hasNavigation),this.model.setSilent("hasNavigation",!this.model.hasNavigation),this},o.prototype.setSlidesContainerStyles=function(e){return this.$slidesContainer.attr("style","").removeClass("is-dragging").addClass(e||""),this},o.prototype.preventDefaultFor=function(e){if(!e)return this;switch(e.preventDefault(),e.type){case"swiperight":case"swipeleft":case"swipedown":e.gesture.preventDefault(),e.gesture.stopDetect();break;case"dragright":case"dragleft":case"tap":case"release":e.gesture.preventDefault()}return this},o.prototype.getSlidesContainerOffset=function(e){var t=this.$slidesContainer.width();return 100*(e/t)-100/this.SLIDE_COUNT},o.prototype.readyToSlide=function(){return this.isTransitioning?!1:(this.isTransitioning=!0,!0)},o.prototype.queueRender=function(){return this.hasFullSupport?this.$el.one(e.support.transition.end,".slideshow-slides",e.proxy(this.render,this)):this.render(),this},o.prototype.emitTrackingEvent=function(t){return t&&e(document).trigger("chzevent.chzTrack",{category:"slideshow",action:t}),this},o.prototype.render=function(){return this.$el.html(this.html(this.model)),this.$slidesContainer=this.$el.find(".slideshow-slides"),this.isTransitioning=!1,this},o.prototype.destroy=function(){return this.$el.hide().remove(),e(this.APPEND_TO_SELECTOR).removeClass("has-slideshow"),this.$el=null,this.$slidesContainer=null,this.model=null,this},o}),define("mods/slideshow/slidemodel",["mods/posts/postmodel","mods/utils/inherits"],function(e,t){var n=function n(t,i){return this instanceof n?(e.call(this,t,i),this.title=t.Title,this.description=t.Description,void 0):new n(t,i)};return n.create=function(e,t){return new n(e,t)},n.createForEach=function(e){for(var t=[],i=0,r=e.length;r>i;i+=1)t.push(n.create(e[i],i));return t},t(n,e),n.prototype.window=window,n.prototype.useFullScreen=function(){var e=1>this.window.innerWidth/this.window.innerHeight;return e===this.isPortrait},n}),define("mods/ads/tagbuilder",["jquery","mods/app","mods/utils/utils","libs/mustache"],function(e,t,n,i){var r={};return r.template='<div id="{{id}}" class="{{cssClasses}}" data-adtype="{{type}}" data-adsize="{{size}}"></div>',r.getPrefix=function(){var n=e.trim(t.getConfig().VerticalPrefix);return n?n:t.getConfig().SuperSitePrefix},r.build=function(e,t,o,s){t=t||"_",s=s===void 0?"":s;var a=r.getPrefix(),l={id:"ad-"+n.makeGUID(),cssClasses:e,type:a+t+s,size:o};return i.render(r.template,l)},r.withContainer=function(){var e=['<div class="ad-container">',Array.prototype.join.call(arguments,""),"</div>"];return e.join("")},r.buildSkyScrapersForStream=function(e){var t=e?"ATFISCROLL_":"BTFISCROLL_",n=e?"HP":"ROS";return r.withContainer(r.build("js-ad ad-left ad-skyscraper","TEST_160_LEFT_"+t,"[[160, 600],[300,600]]",n),r.build("js-ad ad-right ad-skyscraper","TEST_160_RIGHT_"+t,"[[160, 600],[300,600]]",n))},r.buildSponsoredPostForStream=function(){return r.withContainer(r.build("js-ad ad-sponsored-post","TEST_SPOST_","[[500, 550],[500, 330],[500, 400]]","ROS"))},r}),define("mods/jumbotron/itemmodel",[],function(){var e=function e(t,n){return this instanceof e?(this.index=n,this.type=t.Type,this.title=t.Title,this.description=t.Description,this.href=t.Href,this.src=t.Src,void 0):new e(t,n)};return e.create=function(t,n){return new e(t,n)},e.createForEach=function(t){var n=[];if(!t||!t.length)return n;for(var i=0,r=t.length;r>i;i+=1)n.push(e.create(t[i],i));return n},e}),define("mods/jumbotron/jumbotronmodel",["mods/utils/model","mods/utils/inherits","mods/utils/iterator"],function(e,t,n){var i=function i(t){return this instanceof i?(this.items=new n(t.slice(0,this.MAX_ITEMS)),e.call(this),void 0):new i(t)};return t(i,e),i.prototype.MAX_ITEMS=10,i.prototype.currentItemClassName=function(){return"viewing-item-"+this.items.index},i.prototype.getItemOffset=function(e){return-1*100/this.items.length*e},i}),define("mods/jumbotron-overlay/navigatorview",["jquery","mods/utils/view","mods/utils/inherits","libs/mustache"],function(e,t,n,i){var r=function r(n,o,s,a){return this instanceof r?(t.call(this,o),this.html=i.compile(s),this.$el=e(this.el),this.jumbotron=n,this.DISPLAY_COUNT=a||3,this.setup().listen(),void 0):new r(n,o,s)};return n(r,t),r.prototype.APPEND_TO_SELECTOR="#js-jumbotron",r.prototype.el='<div class="jumbotron-nav has-next"></div>',r.prototype.ACTIVE_CLASS="is-active",r.prototype.setup=function(){return this.render(),this.jumbotron.append(this.$el).addClass("has-navigator"),this.$el.data("navigatorview",this),this.setActive(0),this},r.prototype.listen=function(){return this},r.prototype.navigate=function(){var e=this.model.currentItemOffset();return this.model.shouldMove()&&this.$el.find(".jumbotron-nav-items").css({transform:"translateX("+e+"%)"}),this.$el.toggleClass("has-next",this.model.hasNext()),this.$el.toggleClass("has-prev",this.model.hasPrev()),this},r.prototype.next=function(e){return e&&e.preventDefault(),this.model.hasNext()&&(this.model.next(),this.navigate("next")),this},r.prototype.prev=function(e){return e&&e.preventDefault(),this.model.hasPrev()&&(this.model.prev(),this.navigate("prev")),this},r.prototype.render=function(){return this.$el.html(this.html(this.model)),this},r.prototype.destroy=function(){return this.$el.hide().remove(),this.$el=null,this.model=null,e(this.APPEND_TO_SELECTOR).removeClass("has-navigator"),this},r.prototype.trackProgress=function(e){this.model.setIndex(e),this.navigate(),this.setActive(e)},r.prototype.setActive=function(e){this.$el.find("."+this.ACTIVE_CLASS).removeClass(this.ACTIVE_CLASS),this.$el.find(".jumbotron-nav-item").eq(e).addClass(this.ACTIVE_CLASS)},r}),define("mods/jumbotron-overlay/navigatormodel",["mods/utils/model","mods/utils/inherits"],function(e,t){var n=function n(t,i){return this instanceof n?(e.call(this),this.items=t.slice(0,this.MAX_ITEMS),this.SLIDE_COUNT=i||3,this.index=0,void 0):new n(t)};return t(n,e),n.prototype.MAX_ITEMS=10,n.prototype.DISPLAY_COUNT=3,n.prototype.currentItemOffset=function(){var e=Math.max(1,Math.min(this.index,this.items.length-2));return-1*(100/(this.items.length*this.DISPLAY_COUNT/this.SLIDE_COUNT))*(e-1)},n.prototype.hasNext=function(){return this.items.length>this.index+1},n.prototype.hasPrev=function(){return this.index-1>=0},n.prototype.shouldMove=function(){return this.index>=0&&this.items.length>this.index},n.prototype.setIndex=function(e){return this.set("index",e),this},n.prototype.current=function(){return this.items[this.index]},n.prototype.next=function(){return this.hasNext()?this.setIndex(this.index+1).current():void 0},n.prototype.prev=function(){return this.hasPrev()?this.setIndex(this.index-1).current():void 0},n}),define("mods/jumbotron-overlay/jumbotronoverlayview",["jquery","mods/utils/view","mods/utils/inherits","mods/jumbotron-overlay/navigatorview","mods/jumbotron-overlay/navigatormodel","libs/mustache","libs/bootstrap-modal"],function(e,t,n,i,r,o){var s=function s(n,a,l,u){return this instanceof s?(t.call(this,n),this.html=o.compile(a),this.$el=e(this.el),this.ad=u,this.adReturnTo=u?e(u.$el).parent():null,this.setup().listen(),this.navView=new i(this.$el,new r(n.items.toJSON(),1),l,3),void 0):new s(n,a,u)};return n(s,t),s.prototype.APPEND_TO_SELECTOR="body",s.prototype.el='<div class="slideshow jumbotron viewing-item-0 modal fade jumbotron-overlay"></div>',s.prototype.$itemsContainer=null,s.prototype.setup=function(){return this.render(),e(this.APPEND_TO_SELECTOR).append(this.$el),this.$el.modal(),this.ad&&(this.ad&&this.$el.find(".jumbotron-aside").append(this.ad.$el),this.ad.$el.removeClass("is-hidden"),this.ad.display()),this.updateInfo(0),this.$el.data("jumbotronview",this),this.emitTrackingEvent("shown"),this},s.prototype.listen=function(){return this.$el.on("click",".js-slide-link",e.proxy(this.slideClick,this)),this.$el.on("click",".js-show-item",e.proxy(this.selectItem,this)),this.$el.on("click",".js-jumbotron-next",e.proxy(this.next,this)),this.$el.on("click",".js-jumbotron-prev",e.proxy(this.prev,this)),this},s.prototype.slideClick=function(e){e&&e.preventDefault();var t="next";if(this.model.items.hasNext()){var n=this.model.items.index+1;return this.emitTrackingEvent("slideclick",n),this.ad&&this.ad.refresh(),this.navigateToItem(n,t)}return this.model.linkUrl&&(this.emitTrackingEvent("gotolink",this.model.linkUrl),window.location=this.model.linkUrl),this},s.prototype.next=function(e){e&&e.preventDefault();var t="next";if(this.model.items.hasNext()){var n=this.model.items.index+1;return this.emitTrackingEvent("next",n),this.ad&&this.ad.refresh(),this.navigateToItem(n,t)}return this},s.prototype.prev=function(e){e&&e.preventDefault();var t="prev";if(this.model.items.hasPrev()){var n=this.model.items.index-1;return this.emitTrackingEvent("prev",n),this.ad&&this.ad.refresh(),this.navigateToItem(n,t)}return this},s.prototype.selectItem=function(e){return this.ad&&this.ad.refresh(),this.showItem(e),this},s.prototype.showItem=function(t){t&&t.preventDefault();var n=e(t.currentTarget).data("show"),i=n>this.model.items.index?"next":"prev";return this.emitTrackingEvent("navthumbclick",n),this.navigateToItem(n,i),this},s.prototype.navigateToItem=function(e,t){return this.$itemsContainer.css({transform:"translateX("+this.model.getItemOffset(e)+"%)"}),this.$el.removeClass(this.model.currentItemClassName()),this.model.items.setIndex(e),this.$el.addClass(this.model.currentItemClassName()),this.navView.trackProgress(e,t),this.emitTrackingEvent("activateslide",e),this.updateInfo(e),this},s.prototype.updateInfo=function(e){var t=this.model.items.get(e);this.$el.find(".jumbotron-summary-title a").attr("href",t.href+"?ref=slideshow").text(t.title),this.$el.find(".jumbotron-summary-desc").html(t.description)},s.prototype.emitTrackingEvent=function(t,n){return t&&e(document).trigger("chzevent.chzTrack",{category:"slideshow",action:t,label:n}),this},s.prototype.render=function(){return this.$el.html(this.html(this.model)),this.$itemsContainer=this.$el.find(".slideshow-slides"),this.isTransitioning=!1,this},s.prototype.destroy=function(){return this.ad&&this.adReturnTo&&(this.ad.$el.addClass("is-hidden"),this.adReturnTo.append(this.ad.$el)),this.$el.hide().remove(),this.$el=null,this.$itemsContainer=null,this.model=null,e(this.APPEND_TO_SELECTOR).removeClass("has-jumbotron"),this.emitTrackingEvent("closed"),this},s}),define("mods/jumbotron-overlay/jumbotronoverlaycontroller",["jquery","mods/app","mods/device","mods/slideshow/templates","mods/jumbotron/itemmodel","mods/slideshow/slidemodel","mods/jumbotron/jumbotronmodel","mods/jumbotron-overlay/jumbotronoverlayview","mods/ads/manager"],function(e,t,n,i,r,o,s,a,l){var u={};return u.title=null,u.isSupported=function(){return Modernizr.csstransforms&&Modernizr.csstransitions},u.isAllowed=function(){var e=t.getConfig();return!e.IsSharePage&&e.IsHomePage&&e.EnableJumbotron},u.setup=function(e,t,n,i,r){return u.isSupported()&&u.getDataFromAPI(e,{siteId:t,assetId:n}).then(function(e){u.create(e,i,r)}),this},u.findAd=function(t){var n=e(t),i=n.length?n[0].id:null;return i?l.get(i):null},u.create=function(e,t,n){var r=o.createForEach(e.Items?e.Items:e),l=new s(r);l.title=e.Title,l.description=e.Description,l.shareUrl=e.ShareUrl,l.linkUrl=e.LinkUrl;var c=u.findAd(n),d=new a(l,i.forOverlay,i.forOverlayNavigator,c);return t&&d.navigateToItem(t,"next"),d},u.getDataFromAPI=function(n,i){var r=e.Deferred();return e.ajax({url:t.routes.get("slideshow",n,i),success:function(e){r.resolve(e)},error:function(){r.reject()}}),r.promise()},window.jto=u,u}),define("mods/slideshow/slideshowcontroller",["jquery","mods/app","mods/utils/utils","mods/device","mods/slideshow/templates","mods/slideshow/slideshowmodel","mods/slideshow/slideshowview","mods/slideshow/slidemodel","mods/ads/slot","mods/ads/tagbuilder","mods/jumbotron-overlay/jumbotronoverlaycontroller","libs/jquery.outerhtml"],function(e,t,n,i,r,o,s,a,l,u,c){var d={};return d.ad={},d.routes={controller:"/slideshow",list:"/ByList",site:"/BySite"},d.routes.get=function(n,i){var r=(t.getConfig().ViewServer||"")+d.routes.controller+d.routes[n],o=e.param(i);return r+"?"+o},d.setup=function(){var e=n.parseQueryString(window.location.search);if(e.slideId&&e.slideType&&e.slideSite){var t={assetId:parseInt(e.slideId,10),siteId:parseInt(e.slideSite,10),sourceType:e.slideType};i.is.desktop?d.launchDesktop(t):d.launch(t)}return d.listen(),this},d.listen=function(){return e(document).on("click touchstart",".js-show-slideshow",i.is.desktop?d.forDesktop:d.forMobile),this},d.forMobile=function(e){if(e&&e.preventDefault(),!d.forMobile.isLaunching){d.forMobile.isLaunching=!0,e&&e.preventDefault();var t=d.getAssetData((e||{}).currentTarget);d.launch(t).then(function(){d.forMobile.isLaunching=!1})}},d.forDesktop=function(e){if(e&&e.preventDefault(),!d.forDesktop.isLaunching){d.forDesktop.isLaunching=!0;var t=d.getAssetData((e||{}).currentTarget);d.launchDesktop(t),d.forDesktop.isLaunching=!1}},d.getAssetData=function(t){if(!t)return{};var n=e(t),i=n.parents(".js-post");if(0===i.length)return{};var r=i.data("postModel");return r.sourceType=5==r.assetType?"list":"site",r.index=n.data("index"),r},d.launch=function(e){return e.siteId&&e.assetId?d.fetchSlides(e.sourceType,{siteId:e.siteId,assetId:e.assetId}).then(d.create):this},d.launchDesktop=function(e){return e.siteId&&e.assetId&&e.sourceType?(c.setup(e.sourceType,e.siteId,e.assetId,e.index,".js-slideshow-ad"),this):this},d.fetchSlides=function(n,i){var r=e.Deferred();return e.ajax({url:t.routes.get("slideshow",n,i),success:function(e){r.resolve(a.createForEach(e.Items))},error:function(){r.reject()}}),r.promise()},d.create=function(e){e=e.Items||e;var t=new o(e,d.ad);return new s(t,r.forMobile)},d.buildAd=function(){var t=e(u.build("js-ad ad ad-300x250","TEST_SLIDESHOW_","[300, 250]","SNG")),n=new l({$el:t,name:t.data("adtype"),id:t.attr("id"),size:t.data("adsize")});return n.el=n.$el.outerHTML(),n},d}),define("mods/jumbotron/navigatorview",["jquery","mods/utils/view","mods/utils/inherits","libs/mustache"],function(e,t,n,i){var r=function r(n,o,s){return this instanceof r?(t.call(this,o),this.html=i.compile(s),this.$el=e(this.el),this.jumbotron=n,this.setup().listen(),void 0):new r(n,o,s)};return n(r,t),r.prototype.DISPLAY_COUNT=3,r.prototype.APPEND_TO_SELECTOR="#js-jumbotron",r.prototype.el='<div class="jumbotron-nav has-next"></div>',r.prototype.ACTIVE_CLASS="is-active",r.prototype.setup=function(){return this.render(),this.jumbotron.append(this.$el).addClass("has-navigator"),this.$el.data("navigatorview",this),this},r.prototype.listen=function(){return this.$el.on("click","a.js-jtnav-next",e.proxy(this.next,this)),this.$el.on("click","a.js-jtnav-prev",e.proxy(this.prev,this)),this},r.prototype.navigate=function(){var e=this.model.currentItemOffset();return this.$el.find(".jumbotron-nav-items").css({transform:"translateX("+e+"%)"}),this.$el.toggleClass("has-next",this.model.hasNext()),this.$el.toggleClass("has-prev",this.model.hasPrev()),this},r.prototype.next=function(e){return e&&e.preventDefault(),this.model.next(),this.navigate(),this},r.prototype.prev=function(e){return e&&e.preventDefault(),this.model.prev(),this.navigate(),this},r.prototype.render=function(){return this.$el.html(this.html(this.model)),this},r.prototype.destroy=function(){return this.$el.hide().remove(),this.$el=null,this.model=null,e(this.APPEND_TO_SELECTOR).removeClass("has-navigator"),this},r.prototype.trackProgress=function(e,t){t&&this.model[t](),this.navigate(),this.$el.find("."+this.ACTIVE_CLASS).removeClass(this.ACTIVE_CLASS),this.$el.find(".jumbotron-nav-item").eq(e).addClass(this.ACTIVE_CLASS)},r}),define("mods/jumbotron/navigatormodel",["mods/utils/model","mods/utils/inherits"],function(e,t){var n=function n(t){return this instanceof n?(e.call(this),this.items=t.slice(0,this.MAX_ITEMS),this.index=0,void 0):new n(t)};return t(n,e),n.prototype.MAX_ITEMS=10,n.prototype.DISPLAY_COUNT=3,n.prototype.currentItemOffset=function(){return-1*(100/(this.items.length*this.DISPLAY_COUNT))*this.index},n.prototype.hasNext=function(){return 0>=this.index+1-(this.items.length-this.DISPLAY_COUNT)},n.prototype.hasPrev=function(){return this.index-1>=0},n.prototype.setIndex=function(e){return this.set("index",e),this},n.prototype.current=function(){return this.items[this.index]},n.prototype.next=function(){return this.hasNext()?this.setIndex(this.index+1).current():null},n.prototype.prev=function(){return this.hasPrev()?this.setIndex(this.index-1).current():null},n}),define("mods/jumbotron/jumbotronview",["jquery","mods/utils/view","mods/utils/inherits","mods/jumbotron/navigatorview","mods/jumbotron/navigatormodel","libs/mustache"],function(e,t,n,i,r,o){var s=function s(n,a,l){return this instanceof s?(t.call(this,n),this.html=o.compile(a),this.$el=e(this.el),this.setup().listen(),this.navView=new i(this.$el,new r(n.items.toJSON()),l),void 0):new s(n,a)
};return n(s,t),s.prototype.APPEND_TO_SELECTOR="#js-poststream",s.prototype.el='<div id="js-jumbotron" class="slideshow jumbotron viewing-item-0"></div>',s.prototype.$itemsContainer=null,s.prototype.setup=function(){return this.render(),e(this.APPEND_TO_SELECTOR).prepend(this.$el).addClass("has-jumbotron"),this.$el.data("jumbotronview",this),this.emitTrackingEvent("shown"),this},s.prototype.listen=function(){return this.$el.on("click",".js-show-item",e.proxy(this.showItem,this)),this.$el.on("click",".js-jumbotron-next",e.proxy(this.next,this)),this.$el.on("click",".js-jumbotron-prev",e.proxy(this.prev,this)),this},s.prototype.next=function(e){return e&&e.preventDefault(),this.model.items.hasNext()?this.navigateToItem(this.model.items.index+1):this.navigateToItem(0)},s.prototype.prev=function(e){return e&&e.preventDefault(),this.model.items.hasPrev()?this.navigateToItem(this.model.items.index-1):this.navigateToItem(this.model.items.length-1)},s.prototype.showItem=function(t){t&&t.preventDefault();var n=e(t.currentTarget).data("show");return this.navigateToItem(n),this},s.prototype.navigateToItem=function(e){return this.$itemsContainer.css({transform:"translateX("+this.model.getItemOffset(e)+"%)"}),this.$el.removeClass(this.model.currentItemClassName()),this.model.items.setIndex(e),this.$el.addClass(this.model.currentItemClassName()),this},s.prototype.emitTrackingEvent=function(t){return t&&e(document).trigger("chzevent.chzTrack",{category:"jumbotron",action:t}),this},s.prototype.render=function(){return this.$el.html(this.html(this.model)),this.$itemsContainer=this.$el.find(".slideshow-slides"),this.isTransitioning=!1,this},s.prototype.destroy=function(){return this.$el.hide().remove(),this.$el=null,this.$itemsContainer=null,this.model=null,e(this.APPEND_TO_SELECTOR).removeClass("has-jumbotron"),this},s}),define("mods/jumbotron/jumbotroncontroller",["jquery","mods/app","mods/device","mods/slideshow/templates","mods/jumbotron/itemmodel","mods/jumbotron/jumbotronmodel","mods/jumbotron/jumbotronview"],function(e,t,n,i,r,o,s){var a={};return a.isSupported=function(){return n.is.desktop&&Modernizr.csstransforms&&Modernizr.csstransitions},a.isAllowed=function(){var e=t.getConfig();return!e.IsSharePage&&e.IsHomePage&&e.EnableJumbotron},a.setup=function(){var e;if(a.isSupported()&&a.isAllowed()){if(t.emit("perf.startTiming","setupJumbotron"),e=a.getDataFromPage(),!e)return;a.create(r.createForEach(e)),t.emit("perf.endTiming","setupJumbotron")}return this},a.create=function(e){var t=new o(e);return new s(t,i.forJumbotron,i.forNavigator)},a.getDataFromPage=function(){var t=e("#js-jumbotron-data").html();return t&&JSON.parse(t)},a}),define("mods/ads/cheerios-policy",["mods/app","mods/device","mods/utils/cookies","mods/utils/cookieThrottle"],function(e,t,n,i){function r(){this.cookieName="cheerios-widget"}var o=r.prototype;return o.isEnabledOnDownvote=!1,o.isEnabled=function(){return!e.getConfig().EnableVoteWidgetAd||e.getConfig().IsSinglePostPage?!1:t.is&&!t.is.desktop?!1:!0},o.isWidgetTime=function(){return this.isEnabled()?n.get(this.cookieName)?!1:i.isTimeToShow(this.cookieName,e.getConfig().VoteWidgetAdIntervalMinutes):!1},new r}),define("mods/ads/ad-voting-widget",["jquery","libs/mustache","mods/app","mods/ads/cheerios-policy"],function(e,t,n,i){var r={};return r.options={endpoint:"AssetLink/Tagged?tag={{tag}}",container:'<div id="js-ad-geico-voting" class="ad-voting-popup ad-voting-cheerios"></div>',clickThruUrl:"http://ad.doubleclick.net/clk;276057130;102080681;s",trackingUrl:"http://ad.doubleclick.net/ad/N7676.133212.ICANHASCHEEZBURGER/B7815793.19;sz=1x1;ord=[timestamp]?",template:['<div class="chz-popover right ad-geico-voting-popover">','<a class="js-close close icons" data-icon="X"></a>','<div class="chz-popover-content">',"<p>Perhaps I can suggest something more delightful...</p>","<h5>",'<a class="js-analytics-event" data-chzevt_category="ad-voting-widget" data-chzevt_action="suggestcontent-view" data-chzevt_label="{{AssetId}}" href="{{Url}}">','<img src="{{PreviewUrl}}" width="50" height="50" />',"{{Title}}","</a>","</h5>","</div>","</div>"].join("")},r.$el=null,r.html=e.noop,r.setup=function(n){return i.isEnabled()?(r.options=e.extend(r.options,n),r.$el=e(r.options.container),r.html=t.compile(r.options.template),r.preload().listen(),this):this},r.listen=function(){return n.on("voting-upvote",r.onVoteUp),i.isEnabledOnDownvote&&n.on("voting-downvote",r.onVoteDown),r.$el.on("click",".js-close",r.removeSuggestedContent),r.$el.on("click",r.onClickThru),this},r.onClickThru=function(t){r.$el[0]===t.target&&(e(document).trigger("chzevent.chzTrack",{category:"ad-voting-widget",action:"click"}),r.redirectTo(r.options.clickThruUrl))},r.onVote=function(e){return function(t){i.isWidgetTime()&&("down"===e&&r.fetchSuggestedContent().then(r.addSuggestedContent),r.show(t,e))}},r.onVoteUp=r.onVote("up"),r.onVoteDown=r.onVote("down"),r.redirectTo=function(e){return window.location=e,this},r.preload=function(){return r.$el.appendTo("body"),this},r.show=function(t,n){var i="is-visible"+("down"===n?" is-downvote":"");return r.$el.empty().removeClass("is-visible has-suggested-content is-downvote"),r.$el.prependTo("#post-"+t+" .post-body"),r.$el[0].offsetWidth,r.$el.addClass(i),e(document).trigger("chzevent.chzTrack",{category:"ad-voting-widget",action:"show-"+n}),r.options.trackingUrl&&((new Image).src=r.options.trackingUrl.replace("[timestamp]",+new Date)),this},r.hide=function(){return r.$el.removeClass("is-visible has-suggested-content"),this},r.pickRandom=function(e){return e&&e.length?e[Math.round(Math.random()*(e.length-1))]:{}},r.addSuggestedContent=function(e){var t=r.pickRandom(e);return r.$el.append(r.html(t)),setTimeout(function(){r.$el.addClass("has-suggested-content")},500),this},r.removeSuggestedContent=function(e){e.preventDefault(),r.$el.empty()},r.fetchSuggestedContent=function(){var t=n.getConfig().VoteWidgetAdTag,i=n.getConfig().SitePath+r.options.endpoint.replace("{{tag}}",t);return e.ajax({url:i})},r.destroy=function(){return r.$el.remove(),n.off("voting-upvote",r.onVoteUp),n.off("voting-downvote",r.onVoteDown),delete r.$el,this},r}),define("mods/ads/catfish",["jquery","mods/utils/cookies","mods/app","mods/device"],function(e,t,n,i){var r={};return r.$el,r.isEnabled=function(){return t.get("cfish")?!1:i.is.desktop},r.setup=function(){return r.$el=e("#js-catfish"),r.isEnabled()&&r.$el.length?(r.listen(),this):this},r.listen=function(){return n.on("nav.isfixedtoviewport",r.toggle),n.once("nav.isfixedtoviewport",r.makeEventLoggerFor("display")),r.$el.on("click",".js-close",r.close),r.$el.on("click","a",r.makeEventLoggerFor("click")),this},r.makeEventLoggerFor=function(t){return function(){e(document).trigger("chzevent.chzTrack",{category:"catfish",action:t})}},r.toggle=function(e){return r.$el.toggleClass("is-fixed",e),this},r.close=function(){t.setSession("cfish",1),n.off("nav.isfixedtoviewport",r.toggle),r.toggle(!1),e(document).trigger("chzevent.chzTrack",{category:"catfish",action:"close"})},r}),define("mods/ads/coullvidlinkr",["mods/app","mods/device","mods/utils/utils"],function(e,t,n){var i=function(){};return i.prototype.setup=function(){if(t.is.desktop&&e.getConfig().EnableCoullVidlinkr){var i=e.getConfig().VidlinkrWebsiteId||"67679";n.addScript({id:"chz-ads-coullvidlinkr",http:"//",path:"mash.network.coull.com/getaffiliatorjs?pid=9729&website_id="+i})}return this},new i}),define("mods/ads/sharethrough",["jquery","mods/utils/utils","mods/app","mods/device"],function(e,t,n,i){var r={};return r.setup=function(){var r=n.getConfig();return!r.EnableSharethroughAds||i.is.desktop?this:(e(".js-sharethrough-div").removeClass("is-hidden"),t.addScript({id:"chz-sharethrough",http:"//",path:"native.sharethrough.com/assets/tag.js"}),this)},r}),define("mods/breakpoints",["jquery"],function(e){function t(){var t=e(window).width(),n=e(window).height();e("#meter .display").html(t+" x "+n)}return window.onresize=t,window.onload=t,e("#meter"),t}),define("mods/utils/firefoxos-utils",["jquery","mods/app","mods/utils/utils","mods/device"],function(e,t){t.getConfig();var n={};return n.modifyExternalLinks=function(){e("a[href^='http']:not([href*='cheezburger.com'])").attr("target","_blank")},n.modifyFooterLinks=function(){e("footer.legal a").attr("target","_blank")},n.setup=function(){e(function(){navigator.mozApps&&window.locationbar.visible===!1&&(n.modifyExternalLinks(),n.modifyFooterLinks())})},n}),define("mods/ads/mobile-web-interstitial",["jquery","libs/mustache","mods/app","mods/device","mods/utils/cookieThrottle"],function(e,t,n,i,r){var o,s,a,l={},u="mobile-web-interstital";return o='<div class="'+u+'">\n'+'<div class="placement">'+'<div class="controls pull-right"><a class="close-pop">Close</a><a class="close">×</a></div>'+'<div id="interstitial-placement"></div>'+"</div>"+"</div>",l.setup=function(){return a()?(s(),void 0):(e("#mobileweb-i-ad").hide(),!1)},l.hide=function(){e("."+u).hide(),e("#mobileweb-i-ad").hide()},a=function(){var t=n.getConfig();return i.is.phone||i.is.tablet?t.EnableMobileWebInterstitial?r.isTimeToShow("mobile-web-interstitial",t.MobileWebInterstitialIntervalMinutes)?0===e("#content_stream").length?!1:!0:!1:!1:!1},s=function(){var n;n=t.compile(o),e("body").append(n),e("."+u).on("click",l.hide),e("#interstitial-placement").html(e("#mobileweb-i-ad").html()),window.setTimeout(function(){l.hide()},8e3)},l}),define("mods/visitor",["jquery","mods/app"],function(e,t){var n={};return n._getPromise=null,n.get=function(){return n._getPromise?n._getPromise:n._getPromise=e.getJSON("/api/visitor")},n.setup=function(){var e=n.get();return e.done(function(e){t.setXsrfToken(e.xsrfToken),$(document).ready(function(){$('input[name="__RequestVerificationToken"]').val(t.getXsrfToken())})}),e},n}),define("mods/facebook/like-button",["jquery","mods/app"],function(e){var t={};return t.setup=function(){e('<div id="fb-root"></div>').appendTo(e("body")),function(e,t,n){var i,r=e.getElementsByTagName(t)[0];e.getElementById(n)||(i=e.createElement(t),i.id=n,i.async=!0,i.src="//connect.facebook.net/en_US/all.js#xfbml=1",r.parentNode.insertBefore(i,r))}(document,"script","facebook-jssdk")},t}),define("mods/twitter/follow",["jquery","mods/app"],function(){var e={};return e.setup=function(){window.twttr=function(e,t,n){var i,r,o=e.getElementsByTagName(t)[0];if(!e.getElementById(n))return r=e.createElement(t),r.id=n,r.src="https://platform.twitter.com/widgets.js",o.parentNode.insertBefore(r,o),window.twttr||(i={_e:[],ready:function(e){i._e.push(e)}})}(document,"script","twitter-wjs")},e}),define("mods/google/plusone",["jquery","mods/app"],function(){var e={};return e.setup=function(){(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://apis.google.com/js/platform.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()},e}),define("mods/social",["jquery","mods/app","mods/facebook/like-button","mods/twitter/follow","mods/google/plusone","mods/analytics/google","mods/analytics/analytics"],function(e,t,n,i,r,o,s){var a={};return a.setup=function(){var o=t.getConfig();if(o.ShowSocialMediaIcons&&(n.setup(),i.setup(),r.setup(),twttr.ready(function(){twttr.events.bind("click",function(t){"header-twitter-follow-button"==e(t.target).attr("id")&&s.logEvent({category:"twitter",action:"header-follow",label:""})})})),o.EnableTopSocialMediaIcons){var a=e(".post-inner");if(a.size()>0){var l=a.offset().top+80;e(this).scrollTop()>l&&(e(".top-social-icons").addClass("socialbar"),e(".top-social-icons").removeClass("top-asset-buttons"),e(".socialbar").show()),e(window).scroll(function(){var t=e(this).scrollTop();t>l?e(".top-social-icons").hasClass("socialbar")||(e(".top-social-icons").addClass("socialbar"),e(".content-card-button-space").addClass("social-buttons"),e(".top-social-icons").removeClass("top-asset-buttons"),e(".socialbar").slideDown("fast")):(e(".top-social-icons").attr("style",""),e(".content-card-button-space").removeClass("social-buttons"),e(".top-social-icons").removeClass("socialbar"),e(".top-social-icons").addClass("top-asset-buttons"))}),e(".facebook-share-anchor").click(function(){s.logEvent({category:"facebook",action:"social-bar-share-click",label:""})}),e(".twitter-tweet-anchor").click(function(){s.logEvent({category:"tweet",action:"social-bar-tweet-click",label:""})}),e(".addthis-email-anchor").click(function(){s.logEvent({category:"email",action:"social-bar-email-click",label:""})}),e(".old-facebook-share").click(function(){s.logEvent({category:"facebook",action:"old-share-click",label:""})}),e(".old-twitter-share").click(function(){s.logEvent({category:"tweet",action:"old-tweet-click",label:""})}),e(".old-email-share").click(function(){s.logEvent({category:"email",action:"old-email-click",label:""})})}}},a}),define("mods/ui/stickySidebar",["jquery","mods/app","mods/device"],function(e,t,n){var i={};return i.config={headerSelector:".site-header",navSelector:"nav",contentSelector:"#js-poststream",sidebarTopMargin:80,alwaysVisibleElement:null,socialHeader:null},i.fixSidebr=function(t){var n=e(this),i=e(t.alwaysVisibleElement),r=e(document).height(),o=e(t.headerSelector).outerHeight(),s=e(t.navSelector).outerHeight(),a=n.outerHeight(),l=e(t.contentSelector).outerHeight(),u=function(){var t=e(".pagination").outerHeight()||0,n=t;return e("footer").each(function(){n+=e(this).outerHeight(!0)}),n}(),c=e(t.alwaysVisibleElement).height(),d=e(t.socialHeader).height(),h=e(window).scrollTop(),p=o+s-t.sidebarTopMargin,f=r-(n.outerHeight(!0)+u);if(n.parent().css("height",n.css("height")),t.alwaysVisibleElement&&(p=i.offset().top+i.outerHeight(!0)-t.sidebarTopMargin),t.socialHeader&&null!==d){var m=d+s+20;m>t.sidebarTopMargin&&(t.sidebarTopMargin=m)}l-c-a>a&&(p>h?n.removeClass("sticky-sidebar"):h>=p&&f>h?n.addClass("sticky-sidebar").css("top",t.sidebarTopMargin):n.addClass("sticky-sidebar").css("top",f-h))},i.setup=function(e){"moist"===e?(i.setupInternal(".sticky-enabled-left",{alwaysVisibleElement:".stream-sidebar-left .always-visible"}),i.setupInternal(".scrolling-sidebar",{alwaysVisibleElement:".stream-sidebar .square-ad"})):"soggy"===e?(i.setupInternal(".sticky-enabled-left",{alwaysVisibleElement:".stream-sidebar-left .always-visible"}),i.setupInternal(".scrolling-sidebar",{headerSelector:".stream-sidebar .square-ad"})):"mischief"===e&&i.setupInternal(".sticky-enabled-left")},i.setupInternal=function(r,o){if(t.getConfig().EnableStickySidebar===!0&&n.is.desktop===!0){var s,a=e(r),l=e.extend({},i.config,o);s=e("<div>",{css:{width:a.width(),height:a.outerHeight(),"margin-bottom":"40px","padding-bottom":"10px"}}),a.wrap(s),e(window).on("scroll",e.proxy(i.fixSidebr,a,l)),e(window).on("resize",e.proxy(i.fixSidebr,a,l)),e.proxy(i.fixSidebr,a,l)()}},i}),function(){function e(e){return e+="",e.charAt(0).toUpperCase()+e.slice(1)}function t(e,t){var n=-1,r=e.length;if(r==r>>>0)for(;r>++n;)t(e[n],n,e);else i(e,t)}function n(t){return t=u(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:e(t)}function i(e,t){for(var n in e)o(e,n)&&t(e[n],n,e)}function r(t){return null==t?e(t):y.call(t).slice(8,-1)}function o(){return o=function(e,t){var n=null!=e&&(e.constructor||Object).prototype;return!!n&&t in Object(e)&&!(t in n&&e[t]===n[t])},"Function"==r(C)?o=function(e,t){return null!=e&&C.call(e,t)}:{}.__proto__==Object.prototype&&(o=function(e,t){var n=!1;return null!=e&&(e=Object(e),e.__proto__=[e.__proto__,e.__proto__=null,n=t in e][0]),n}),o.apply(this,arguments)}function s(e,t){var n=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"==n?!!e[t]:!0)}function a(e){return(e+"").replace(/([ -])(?!$)/g,"$1?")}function l(e,n){var i=null;return t(e,function(t,r){i=n(i,t,r,e)}),i}function u(e){return(e+"").replace(/^ +| +$/g,"")}function c(e){function t(t){return l(t,function(t,n){return t||RegExp("\\b"+(n.pattern||a(n))+"\\b","i").exec(e)&&(n.label||n)})}function o(t){return l(t,function(t,n,i){return t||(n[L]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(L)]||RegExp("\\b"+a(i)+"(?:\\b|\\w*\\d)","i").exec(e))&&i})}function d(t){return l(t,function(t,n){return t||RegExp("\\b"+(n.pattern||a(n))+"\\b","i").exec(e)&&(n.label||n)})}function m(t){return l(t,function(t,i){var r=i.pattern||a(i);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(N={6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},/^Win/i.test(t)&&(N=N[/[\d.]+$/.exec(t)])&&(t="Windows "+N),t=n((t+"").replace(RegExp(r,"i"),i.label||i).replace(/ ce$/i," CE").replace(/hpw/i,"web").replace(/Macintosh/,"Mac OS").replace(/_PowerPC/i," OS").replace(/(OS X) [^ \d]+/i,"$1").replace(/Mac (OS X)/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/x86\.64/gi,"x86_64").split(" on ")[0])),t})}function C(t){return l(t,function(t,i){var r=i.pattern||a(i);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=((i.label&&!RegExp(r,"i").test(i.label)?i.label:t)+"").split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),i=i.label||i,t=n(t[0].replace(RegExp(r,"i"),i).replace(RegExp("; *(?:"+i+"[_-])?","i")," ").replace(RegExp("("+i+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function D(t){return l(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}function A(){return this.description||""}e||(e=j);var N,M=e,P=[],O=null,I=e==j,q=I&&S&&"function"==typeof S.version&&S.version(),R=t([{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","Trident","KHTML","Gecko"]),F=d(["Adobe AIR","Arora","Avant Browser","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel",{label:"SRWare Iron",pattern:"Iron"},"K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini","Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"MSIE"},"Safari"]),L=C([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation 4","PlayStation 3","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),H=o({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),U=m(["Android","CentOS","Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(R&&(R=[R]),H&&!L&&(L=C([H])),(N=/Google TV/.exec(L))&&(L=N[0]),/\bSimulator\b/i.test(e)&&(L=(L?L+" ":"")+"Simulator"),/^iP/.test(L)?(F||(F="Safari"),U="iOS"+((N=/ OS ([\d_]+)/i.exec(e))?" "+N[1].replace(/_/g,"."):"")):"Konqueror"!=F||/buntu/i.test(U)?H&&"Google"!=H&&(/Chrome/.test(F)&&!/Mobile Safari/.test(e)||/Vita/.test(L))?(F="Android Browser",U=/Android/.test(U)?U:"Android"):(!F||(N=!/\bMinefield\b|\(Android;/i.test(e)&&/Firefox|Safari/.exec(F)))&&(F&&!L&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(N+"/")+8))&&(F=null),(N=L||H||U)&&(L||H||/Android|Symbian OS|Tablet OS|webOS/.test(U))&&(F=/[a-z]+(?: Hat)?/i.exec(/Android/.test(U)?U:N)+" Browser")):U="Kubuntu",(N=/\((Mobile|Tablet).*?Firefox/i.exec(e))&&N[1]&&(U="Firefox OS",L||(L=N[1])),q||(q=D(["(?:Cloud9|CriOS|CrMo|Iron|Opera ?Mini|OPR|Raven|Silk(?!/[\\d.]+$))","Version",a(F),"(?:Firefox|Minefield|NetFront)"])),"iCab"==R&&parseFloat(q)>3?R=["WebKit"]:(N=/Opera/.test(F)&&(/OPR/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&"WebKit"||!R&&/\bMSIE\b/i.test(e)&&("Mac OS"==U?"Tasman":"Trident"))?R=[N]:/PlayStation(?! Vita)/i.test(F)&&"WebKit"==R&&(R=["NetFront"]),F||"Trident"!=R||(F="IE",q=(/\brv:([\d.]+)/.exec(e)||0)[1]),I){if(s(h,"global"))if(b&&(N=b.lang.System,M=N.getProperty("os.arch"),U=U||N.getProperty("os.name")+" "+N.getProperty("os.version")),f)if($==p&&"object"==typeof system&&(N=[system])[0]){U||(U=N[0].os||null);try{N[1]=(N[1]=require)&&N[1]("ringo/engine").version,q=N[1].join("."),F="RingoJS"}catch(B){N[0].global==g&&(F="Narwhal")}}else"object"==typeof process&&(N=process)?(F="Node.js",M=N.arch,U=N.platform,q=/[\d.]+/.exec(N.version)[0]):w&&(F="Rhino");else w&&(F="Rhino");else"ScriptBridgingProxyObject"==r(N=h.runtime)?(F="Adobe AIR",U=N.flash.system.Capabilities.os):"RuntimeObject"==r(N=h.phantom)?(F="PhantomJS",q=(N=N.version||null)&&N.major+"."+N.minor+"."+N.patch):"number"==typeof _.documentMode&&(N=/\bTrident\/(\d+)/i.exec(e))&&(q=[q,_.documentMode],(N=+N[1]+4)!=q[1]&&(P.push("IE "+q[1]+" mode"),R&&(R[1]=""),q[1]=N),q="IE"==F?q[1].toFixed(1)+"":q[0]);U=U&&n(U)}return q&&(N=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(q)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(I&&T.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(O=/b/i.test(N)?"beta":"alpha",q=q.replace(RegExp(N+"\\+?$"),"")+("beta"==O?k:x)+(/\d+\+?/.exec(N)||"")),"Fennec"==F||"Firefox"==F&&/Android|Firefox OS/.test(U)?F="Firefox Mobile":"Maxthon"==F&&q?q=q.replace(/\.[\d.]+/,".x"):"Silk"==F?(/Mobi/i.test(e)||(U="Android",P.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&P.unshift("accelerated")):"IE"==F&&(N=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(F+=" Mobile",U="Windows Phone OS "+N+".x",P.unshift("desktop mode")):/Xbox/i.test(L)?(U=null,"Xbox 360"==L&&/IEMobile/.test(e)&&P.unshift("mobile mode")):"Chrome"!=F&&"IE"!=F&&(!F||L||/Browser|Mobi/.test(F))||"Windows CE"!=U&&!/Mobi/i.test(e)?"IE"==F&&I&&"object"==typeof external&&!external?P.unshift("platform preview"):(/BlackBerry/.test(L)||/BB10/.test(e))&&(N=(RegExp(L.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||q)?(N=[N,/BB10/.test(e)],U=(N[1]?(L=null,H="BlackBerry"):"Device Software")+" "+N[0],q=null):this!=i&&"Wii"!=L&&(I&&S||/Opera/.test(F)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==F&&/OS X (?:\d+\.){2,}/.test(U)||"IE"==F&&(U&&!/^Win/.test(U)&&q>5.5||/Windows XP/.test(U)&&q>8||8==q&&!/Trident/.test(e)))&&!v.test(N=c.call(i,e.replace(v,"")+";"))&&N.name&&(N="ing as "+N.name+((N=N.version)?" "+N:""),v.test(F)?(/IE/.test(N)&&"Mac OS"==U&&(U=null),N="identify"+N):(N="mask"+N,F=E?n(E.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/IE/.test(N)&&(U=null),I||(q=null)),R=["Presto"],P.push(N)):F+=" Mobile",(N=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(N=[parseFloat(N.replace(/\.(\d)$/,".0$1")),N],"Safari"==F&&"+"==N[1].slice(-1)?(F="WebKit Nightly",O="alpha",q=N[1].slice(0,-1)):(q==N[1]||q==(N[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1]))&&(q=null),N[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==N[0]&&537.36==N[2]&&parseFloat(N[1])>=28&&(R=["Blink"]),!I||/internal|\n/i.test(""+y)&&!N[1]?(R&&(R[1]="like Safari"),N=N[0],N=400>N?1:500>N?2:526>N?3:533>N?4:534>N?"4+":535>N?5:537>N?6:538>N?7:"7"):(R&&(R[1]="like Chrome"),N=N[1]||(N=N[0],530>N?1:532>N?2:532.05>N?3:533>N?4:534.03>N?5:534.07>N?6:534.1>N?7:534.13>N?8:534.16>N?9:534.24>N?10:534.3>N?11:535.01>N?12:535.02>N?"13+":535.07>N?15:535.11>N?16:535.19>N?17:536.05>N?18:536.1>N?19:537.01>N?20:537.11>N?"21+":537.13>N?23:537.18>N?24:537.24>N?25:537.36>N?26:"Blink"!=R?"27":"28")),R&&(R[1]+=" "+(N+="number"==typeof N?".x":/[.+]/.test(N)?"":"+")),"Safari"==F&&(!q||parseInt(q)>45)&&(q=N)),"Opera"==F&&(N=/(?:zbov|zvav)$/.exec(U))?(F+=" ",P.unshift("desktop mode"),"zvav"==N?(F+="Mini",q=null):F+="Mobile"):"Safari"==F&&/Chrome/.exec(R&&R[1])&&(P.unshift("desktop mode"),F="Chrome Mobile",q=null,/OS X/.test(U)?(H="Apple",U="iOS 4.3+"):U=null),q&&0==q.indexOf(N=/[\d.]+$/.exec(U))&&e.indexOf("/"+N+"-")>-1&&(U=u(U.replace(N,""))),R&&!/Avant|Nook/.test(F)&&(/Browser|Lunascape|Maxthon/.test(F)||/^(?:Adobe|Arora|Midori|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(F)&&R[1])&&(N=R[R.length-1])&&P.push(N),P.length&&(P=["("+P.join("; ")+")"]),H&&L&&0>L.indexOf(H)&&P.push("on "+H),L&&P.push((/^on /.test(P[P.length-1])?"":"on ")+L),U&&(N=/ ([\d.+]+)$/.exec(U),U={architecture:32,family:N?U.replace(N[0],""):U,version:N?N[1]:null,toString:function(){var e=this.version;return this.family+(e?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(N=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(M))&&!/\bi686\b/i.test(M)&&(U&&(U.architecture=64,U.family=U.family.replace(RegExp(" *"+N),"")),F&&(/WOW64/i.test(e)||I&&/\w(?:86|32)$/.test(T.cpuClass||T.platform))&&P.unshift("32-bit")),e||(e=null),{version:F&&q&&(P.unshift(q),q),name:F&&(P.unshift(F),F),os:U?(F&&!(U==(U+"").split(" ")[0]&&(U==F.split(" ")[0]||L))&&P.push(L?"("+U+")":"on "+U),U):{architecture:null,family:null,version:null,toString:function(){return"null"}},description:P.length?P.join(" "):e,layout:R&&R[0],manufacturer:H,prerelease:O,product:L,ua:e,parse:c,toString:A}}var d={"function":!0,object:!0},h=d[typeof window]&&window||this,p=h,f=d[typeof exports]&&exports,m=d[typeof module]&&module&&!module.nodeType&&module,g=f&&m&&"object"==typeof global&&global;!g||g.global!==g&&g.window!==g&&g.self!==g||(h=g);var v=/Opera/,y=Object.prototype.toString,b=/Java/.test(r(h.java))&&h.java,w=b&&"Environment"==r(h.environment),x=b?"a":"α",k=b?"b":"β",_=h.document||{},C={}.hasOwnProperty,T=h.navigator||{},S=h.operamini||h.opera,E=v.test(E=r(S))?E:S=null,$=this,j=T.userAgent||"";"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("platform",[],function(){return c()}):f&&m?i(c(),function(e,t){f[t]=e}):h.platform=c()}.call(this);var Splyt={TXN_SUCCESS:"success",TXN_ERROR:"error",ERROR_CID:"Missing or bad Customer ID",ERROR_ARGUMENT:"Bad Arguments",init:function(e,t,n){if(Splyt.usedVars={},void 0===e||"object"!==SplytUtil.gettype(e))throw Error(Splyt.ERROR_ARGUMENT);if(!e.hasOwnProperty("customerId"))throw Error(Splyt.ERROR_CID);if("string"!==SplytUtil.gettype(e.customerId)||""===e.customerId)throw Error(Splyt.ERROR_CID);if(Splyt.params.customerId=e.customerId,e.hasOwnProperty("user")){var i=SplytUtil.gettype(e.user);if("object"===i){if(!e.user.hasOwnProperty("id"))throw Error(Splyt.ERROR_ARGUMENT);Splyt.params.user=e.user}else{if("string"!==i&&"integer"!==i)throw Error(Splyt.ERROR_ARGUMENT);Splyt.params.user={id:e.user,properties:{}}}}else Splyt.params.user={id:null,properties:{}};if(e.hasOwnProperty("device"))if(i=SplytUtil.gettype(e.device),"object"===i){if(!e.device.hasOwnProperty("id"))throw Error(Splyt.ERROR_ARGUMENT);Splyt.params.device=e.device}else{if("string"!==i&&"integer"!==i)throw Error(Splyt.ERROR_ARGUMENT);Splyt.params.device={id:e.device,properties:{}}}else localStorage?(Splyt.params.device=void 0!==localStorage[Splyt.LOCAL_STORAGE_KEY]?{id:localStorage[Splyt.LOCAL_STORAGE_KEY],properties:{}}:{id:null,properties:{}},null!==Splyt.params.device.id&&(localStorage[Splyt.LOCAL_STORAGE_KEY]=Splyt.params.device.id)):Splyt.params.device={id:null,properties:{}};platform&&(platform.name&&(Splyt.params.device.properties.browser=platform.name),platform.version&&(Splyt.params.device.properties.browserversion=platform.version),platform.os&&(platform.os.family&&(Splyt.params.device.properties.osname=platform.os.family),platform.os.version&&(Splyt.params.device.properties.osversion=platform.os.version)),platform.description&&(Splyt.params.device.properties.description=platform.description),navigator&&navigator.language&&(Splyt.params.device.properties.language=navigator.language.toLowerCase())),e=Splyt.getTimeStamp(),n=Splyt.xhrObj("application_init",n,[e,e,Splyt.params.user.id,Splyt.params.device.id,Splyt.params.user.properties,Splyt.params.device.properties]),n.success=function(e){(e=e.data)&&(e.hasOwnProperty("userid")&&null!==e.userid&&(Splyt.params.user.id=e.userid),e.hasOwnProperty("usertuning")&&null!==e.usertuning&&"object"===SplytUtil.gettype(e.usertuning)&&(Splyt.userVars=e.usertuning),e.hasOwnProperty("deviceid")&&null!==e.deviceid&&(Splyt.params.device.id=e.deviceid,localStorage&&(localStorage[Splyt.LOCAL_STORAGE_KEY]=e.deviceid)),e.hasOwnProperty("devicetuning")&&null!==e.devicetuning&&"object"===SplytUtil.gettype(e.devicetuning)&&(Splyt.deviceVars=e.devicetuning),t&&t(e))},n.error=function(){t&&t(null)},Splyt.xhr(n)},clearActiveUser:function(){Splyt.params.user={id:null,properties:{}}},registerUser:function(e,t,n){var i=SplytUtil.gettype(e);if("object"===i){if(!e.hasOwnProperty("id"))throw Error(Splyt.ERROR_ARGUMENT);Splyt.params.user=e}else{if("string"!==i&&"integer"!==i)throw Error(Splyt.ERROR_ARGUMENT);Splyt.params.user={id:e,properties:{}}}e=Splyt.getTimeStamp(),t=Splyt.xhrObj("application_updateuser",t,[e,e,Splyt.params.user.id,Splyt.params.device.id,Splyt.params.user.properties]),t.success=function(e){(e=e.data)&&(e.hasOwnProperty("userid")&&null!==e.userid&&(Splyt.params.user.id=e.userid),e.hasOwnProperty("usertuning")&&null!==e.usertuning&&"object"===SplytUtil.gettype(e.usertuning)&&(Splyt.userVars=e.usertuning),e.hasOwnProperty("deviceid")&&null!==e.deviceid&&(Splyt.params.device.id=e.deviceid,localStorage&&(localStorage[Splyt.LOCAL_STORAGE_KEY]=e.deviceid)),e.hasOwnProperty("devicetuning")&&null!==e.devicetuning&&"object"===SplytUtil.gettype(e.devicetuning)&&(Splyt.deviceVars=e.devicetuning),n&&n(e))},t.error=function(){n&&n(null)},Splyt.xhr(t)},sendDataPoint:function(e,t,n){var i=Splyt.getTimeStamp(),r=[];if(r.push(i),r.push(i),r.push(Splyt.params.user.id),r.push(Splyt.params.device.id),t)for(i=0;t.length>i;i++)r.push(t[i]);e=Splyt.xhrObj(e,n,r),Splyt.xhr(e)},params:{host:"https://data.splyt.com",customerId:null,user:{},device:{}},xhr:$.ajax,userVars:{},deviceVars:{},usedVars:{},TIME_RECORDAGAIN:28800,SDK_VERSION:"4.0",WS_VERSION:"4",LOCAL_STORAGE_KEY:"splyt.device.id",TIMEOUT_MODE_TRANSACTION:"TXN",TIMEOUT_MODE_ANY:"ANY",getQueryParms:function(e){if(null===Splyt.params.customerId)return"";var t="?ssf_ws_version="+Splyt.WS_VERSION+"&ssf_cust_id="+Splyt.params.customerId+"&ssf_output=json&ssf_sdk=js&ssf_sdk_version="+Splyt.SDK_VERSION;return e&&e.length>0&&(t+="&ssf_sdk_contextname="+e),t},buildURL:function(e,t){var n=Splyt.params.host,n=n.replace(/\/$/,""),n=n.replace(/^\//,"");return e=e.replace(/\/$/,""),e=e.replace(/^\//,""),n+"/isos-personalization/ws/interface/"+e+Splyt.getQueryParms(t)},xhrObj:function(e,t,n){return{type:"POST",url:Splyt.buildURL(e,t),data:JSON.stringify(n),processData:!1,headers:{"ssf-use-positional-post-params":"true","ssf-contents-not-url-encoded":"true"}}},getTimeStamp:function(){return(new Date).getTime()/1e3},Instrumentation:{updateUserState:function(e,t){Splyt.sendDataPoint("datacollector_updateUserState",[e],t)},updateDeviceState:function(e,t){Splyt.sendDataPoint("datacollector_updateDeviceState",[e],t)},beginTransaction:function(e,t,n,i,r){Splyt.sendDataPoint("datacollector_beginTransaction",[e,Splyt.TIMEOUT_MODE_TRANSACTION,t,r,n],i)},updateTransaction:function(e,t,n,i,r){Splyt.sendDataPoint("datacollector_updateTransaction",[e,t,r,n],i)},endTransaction:function(e,t,n,i,r){Splyt.sendDataPoint("datacollector_endTransaction",[e,t,r,n],i)},updateCollection:function(e,t,n,i,r){Splyt.sendDataPoint("datacollector_updateCollection",[e,t,n,i],r)},beginAndEnd:function(e,t,n,i){Splyt.sendDataPoint("datacollector_endTransaction",[e,t,,n],i)}},Tuning:{getVar:function(e,t){(!Splyt.usedVars[e]||Splyt.getTimeStamp()>Splyt.usedVars[e]+Splyt.TIME_RECORDAGAIN)&&(Splyt.usedVars[e]=Splyt.getTimeStamp(),Splyt.sendDataPoint("tuner_recordUsed",[e,t]));
var n=t;return null!==Splyt.params.user.id?Splyt.userVars.hasOwnProperty(e)&&(n=Splyt.userVars[e]):null!==Splyt.params.device.id&&Splyt.deviceVars.hasOwnProperty(e)&&(n=Splyt.deviceVars[e]),SplytUtil.result=n,n=n===void 0||!1===SplytUtil.settype("result",SplytUtil.gettype(t))?t:SplytUtil.result,delete SplytUtil.result,n},refresh:function(e,t){var n=Splyt.getTimeStamp(),n=Splyt.xhrObj("tuner_refresh",e,[n,n,Splyt.params.device.id,[Splyt.params.user.id]]);n.success=function(e){(e=e.data)&&(e.hasOwnProperty("deviceTuning")&&e.deviceTuning.hasOwnProperty("value")&&"object"===SplytUtil.gettype(e.deviceTuning.value)&&(Splyt.deviceVars=e.deviceTuning.value),e.hasOwnProperty("userTuning")&&e.userTuning.hasOwnProperty("value")&&"object"===SplytUtil.gettype(e.userTuning.value)&&e.userTuning.value.hasOwnProperty(Splyt.params.user.id)&&"object"===SplytUtil.gettype(e.userTuning.value[Splyt.params.user.id])&&(Splyt.userVars=e.userTuning.value[Splyt.params.user.id])),t&&t()},n.error=function(){t&&t()},Splyt.xhr(n)}}},SplytUtil={is_float:function(e){return!(+e!==e||isFinite(e)&&!(e%1))},gettype:function(e){var t=typeof e,n=function(e){return e=/\W*function\s+([\w\$]+)\s*\(/.exec(e),e?e[1]:"(Anonymous)"};return"object"===t?null!==e?"number"!=typeof e.length||e.propertyIsEnumerable("length")||"function"!=typeof e.splice?e.constructor&&n(e.constructor)&&(e=n(e.constructor),"Date"===e?t="date":"RegExp"===e?t="regexp":"PHPJS_Resource"===e&&(t="resource")):t="array":t="null":"number"===t&&(t=this.is_float(e)?"double":"integer"),t},settype:function(e,t){var n,i,r,o,s=function(e){return"object"==typeof e&&"number"==typeof e.length&&!e.propertyIsEnumerable("length")&&"function"==typeof e.splice};n=this[e]?this[e]:e;var a=!0;try{switch(t){case"boolean":if(s(n)&&0===n.length)this[e]=!1;else if("0"===n)this[e]=!1;else if("object"!=typeof n||s(n))this[e]=!!n;else{s=!1;for(r in n)s=!0;this[e]=s}break;case"integer":"number"==typeof n?this[e]=parseInt(n,10):"string"==typeof n?(i=n.match(/^([+\-]?)(\d+)/),this[e]=i?parseInt(n,10):0):!0===n?this[e]=1:!1===n||null===n?this[e]=0:s(n)&&0===n.length?this[e]=0:"object"==typeof n&&(this[e]=1);break;case"double":case"float":"string"==typeof n?(i=n.match(/^([+\-]?)(\d+(\.\d+)?|\.\d+)([eE][+\-]?\d+)?/),this[e]=i?parseFloat(n,10):0):!0===n?this[e]=1:!1===n||null===n?this[e]=0:s(n)&&0===n.length?this[e]=0:"object"==typeof n&&(this[e]=1);break;case"string":this[e]=null===n||!1===n?"":s(n)?"Array":"object"==typeof n?"Object":!0===n?"1":this[e]+"";break;case"array":null===n?this[e]=[]:"object"!=typeof n?this[e]=[n]:a=!1;break;case"object":if(null===n)this[e]={};else if(s(n)){for(r=0,o={};n.length>r;r++)o[r]=n;this[e]=o}else"object"!=typeof n&&(this[e]={scalar:n});break;case"null":delete this[e];break;default:a=!1}}catch(l){a=!1}return a}};Splyt.Util=SplytUtil;var Splyt_Purchasing={PURCHASE_CATEGORY:"purchase",purchase:function(e,t,n,i,r,o,s){e={offerId:t,itemName:e,pointOfSale:n,price:{}},e.price[i]=r,Splyt.Instrumentation.beginAndEnd(Splyt_Purchasing.PURCHASE_CATEGORY,o,e,s)}};Splyt.Purchasing=Splyt_Purchasing;var Splyt_Session={SESSION_CATEGORY:"session",begin:function(e,t){Splyt.sendDataPoint("datacollector_beginTransaction",[Splyt_Session.SESSION_CATEGORY,Splyt.TIMEOUT_MODE_ANY,e,,{}],t)},end:function(e,t){Splyt.Instrumentation.endTransaction(Splyt_Session.SESSION_CATEGORY,e,{},t)}};Splyt.Session=Splyt_Session,define("splyt",["jquery","platform"],function(e){return function(){var t;return t||e.Splyt}}(this)),define("mods/ab-testing/tests",["jquery"],function(){var e={};return e.testVars=[{name:"ShouldHaveStickySideBar",defaultValue:0}],e}),define("mods/ab-testing/ab-tester",["jquery","splyt","platform","mods/ab-testing/tests","mods/utils/cookies"],function(e,t,n,i,r){var o={};return o.config=function(t){return e.extend(t,o.options),this},o.setup=function(o,s){window.platform=n,t.init({customerId:o.SplytCustomerId,user:{id:o.VisitorUserId,properties:{}}},function(){r.get("splyt_session")||(t.Session.begin(),r.set("splyt_session","1")),t.Tuning.refresh("main",function(){var n={};e.each(i.testVars,function(e,i){n[i.name]=t.Tuning.getVar(i.name,i.defaultValue)}),n.track=function(n,i,r){var o={targetName:1,eventName:1,url:window.location.href};r&&e.extend(o,r),t.Instrumentation.beginAndEnd(n,t.TXN_SUCCESS,o,"main")},n.trackClick=function(e){n.track("click",e)},e.extend(o,{Testing:n}),s(n)})})},o}),define("mods/skins",["jquery","mods/utils/utils"],function(){var e={};return e.options={enabled:!1,random:!0,filters:!0,skinSet:["default","raining","desk"]},e.setup=function(t){if($.extend(e.options,t),!e.options.enabled)return e.setSkin(!1,e.options.filters),this;var n=Math.floor(Math.random()*(e.options.skinSet.length+1)),i=e.options.random?e.options.skinSet[n]:e.options.skinSet[0];return e.setSkin(i,e.options.filters),this},e.setSkin=function(e,t){e&&$("body").addClass("option-one "+e),t&&$(".std-filters").removeClass("nav-filter").addClass("nav-tabs")},window.skins=e,e}),define("mods/analytics/optimizely-engagement",["jquery","mods/analytics/optimizely-shim"],function(e,t){return{setupEngagement:function(n){n.on("mousedown.engagement",function(i){e(i.target).hasClass("js-not-engagement")||e(i.target).parents().hasClass("js-not-engagement")||(t.trackEvent("cheezEngagement"),n.off("mousedown.engagement"))})}}}),function(e,t){"function"==typeof define&&define.amd?define("libs/bootstrap-dropdown",["jquery"],t):t(e.jQuery)}(this,function(e){function t(){e(n).parent().removeClass("open")}var n='[data-toggle="dropdown"]',i=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(n){var i,r,o,s=e(this);if(!s.is(".disabled, :disabled"))return r=s.attr("data-target"),r||(r=s.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),i.length||(i=s.parent()),o=i.hasClass("open"),t(n),o||i.toggleClass("open"),!1}},e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("dropdown");r||n.data("dropdown",r=new i(this)),"string"==typeof t&&r[t].call(n)})},e.fn.dropdown.Constructor=i,e(function(){e("html").on("click.dropdown.data-api",t),e("body").on("click.dropdown",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",n,i.prototype.toggle)})}),function(e,t){"function"==typeof define&&define.amd?define("libs/bootstrap-tab",["jquery"],t):t(e.jQuery)}(this,function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i=this.element,r=i.closest("ul:not(.dropdown-menu)"),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(t=r.find(".active a").last()[0],i.trigger({type:"show",relatedTarget:t}),n=e(o),this.activate(i.parent("li"),r),this.activate(n,n.parent(),function(){i.trigger({type:"shown",relatedTarget:t})}))},activate:function(t,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),s=i&&e.support.transition&&o.hasClass("fade");s?o.one(e.support.transition.end,r):r(),o.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var i=e(this),r=i.data("tab");r||i.data("tab",r=new t(this)),"string"==typeof n&&r[n]()})},e.fn.tab.Constructor=t,e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})})}),function(e,t){"function"==typeof define&&define.amd?define("libs/bootstrap-popover",["jquery","libs/bootstrap-tooltip"],t):t(e.jQuery)}(this,function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var t=this.tip(),n=this.getTitle(),i=this.getContent();t.find(".popover-title")["object"==e.type(n)?"append":"html"](n),t.find(".popover-content > *")["object"==e.type(i)?"append":"html"](i),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content),e=(""+e).replace(/(^\s*|\s*$)/,"")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip}}),e.fn.popover=function(n){return this.each(function(){var i=e(this),r=i.data("popover"),o="object"==typeof n&&n;r||i.data("popover",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}),function(e,t){"function"==typeof define&&define.amd?define("libs/jquery.carousel",["jquery"],t):t(e.jQuery)}(this,function(e){e.fn.carousel=function(t){t=e.extend({perpage:1,perSlide:null,multipage:!1,rows:1,navigation:!1,fancy:!1,trackClass:".carousel-inner",itemClass:".item",wrapperClass:".carousel-wrap",nextClass:".js-carousel-next",prevClass:".js-carousel-prev",navClass:".js-carousel-nav",isBusyClass:".is-loading",speed:5},t);var n=function(n){this.page=0,this.$items=e(t.itemClass,n),this.itemcount=this.$items.length,this.pagecount=Math.ceil(this.itemcount/t.perpage),this.pagecount>1&&this.$items.clone().appendTo(t.trackClass),this.itemwidth=this.$items.outerWidth(!0),this.wrapwidth=2*Math.ceil(this.itemwidth*this.itemcount),this.pagesize=Math.ceil(t.perpage/t.rows*this.itemwidth),this.slideSize=this.pagesize,this.lastpage=this.itemcount,this.$track=e(t.trackClass,n),this.$wrapper=e(t.wrapperClass,n),this.$next=e(t.nextClass,n),this.$prev=e(t.prevClass,n),this.$sliderNav=e(t.navClass,n),this.$ul=e("ul",this.$sliderNav),this.$li=e("li",this.$ul),this.navwidth=0,this._timerId=null,this.isPaused=!1};return this.doit=function(){var i=new n(this),r={next:function(){0===i.page||i.page!==i.lastpage?r.incrementPage(1).slide(i.page):i.page===i.lastpage&&r.resetTrack("start").slide(1)},prev:function(){0!==i.page||i.page===i.lastpage?r.incrementPage(-1).slide(i.page):0===i.page&&r.resetTrack("end").slide(i.lastpage-1)},incrementPage:function(e){return i.page=i.page+e,this},resetTrack:function(e){return"start"===e&&i.$track.css({marginLeft:0}),"end"===e&&i.$track.css({marginLeft:"-"+i.slideSize*i.lastpage+"px"}),this},slide:function(e){i.$track.animate({marginLeft:"-"+i.slideSize*e}),i.page=e,t.navigation===!0&&o.update(e)},cycle:function(){!i.isPaused&&r.cycle.hasRunOnce&&r.next(),self._timerId=setTimeout(r.cycle,1e3*t.speed),r.cycle.hasRunOnce=!0},pause:function(){i.isPaused=!0},resume:function(){i.isPaused=!1}},o={update:function(t){i.$sliderNav.find("li.active").removeClass("active"),e("li",i.$sliderNav).eq(t).addClass("active")},setup:function(){for(var t=0;i.pagecount>t;++t)e("ul",i.$sliderNav).append("<li>"+(t+1)+"</li>");o.update(i.page),i.$sliderNav.find("li").each(function(t){var n=parseInt(e(this).css("margin-right")),o=parseInt(e(this).css("margin-left")),s=e(this).outerWidth();e(this).click(function(e){e.preventDefault(),r.slide(t)}),i.navwidth=i.navwidth+(n+o+s)}),i.$sliderNav.width(i.navwidth)}};return i.$items.length?(t.multipage===!0&&(i.wrapwidth=i.itemwidth*Math.ceil(i.itemcount/t.rows),i.pagesize=Math.ceil(t.perpage/t.rows)*i.itemwidth),parseInt(t.perSlide,10)&&(i.slideSize=Math.ceil(t.perSlide*i.itemwidth),i.pagecount=Math.ceil(i.itemcount/t.perpage)/t.perSlide),t.navigation===!0&&o.setup(),i.pagecount>1&&(i.$next.show(),i.$prev.show()),t.speed>0&&i.pagecount>1&&(i.$track.css({marginLeft:"-"+i.slideSize*i.lastpage+"px"}),i.page=i.lastpage,r.cycle()),i.$track.width(i.wrapwidth),i.$wrapper.width(i.pagesize),i.$next.click(function(e){e.preventDefault(),r.next()}),i.$prev.click(function(e){e.preventDefault(),r.prev()}),e(this).hover(r.pause,r.resume).removeClass(t.isBusyClass.replace(".","")),void 0):(e(this).removeClass(t.isBusyClass.replace(".","")),void 0)},this.each(this.doit)}}),define("mods/ui/universalsubmit",["jquery","libs/chz-tmpl"],function(e){function t(t,i){var r=e("#UploadFile",t),o=e("#PictureURLInput",t),s=e("#VideoUrl",t),a=e("#FullText",t),l=/(?=\.(jpeg|jpg|gif|png)$)/i,u=RegExp("^(http://)?(www.)?(youtube|youtu|viddler|vimeo|video.google).(com|be)"),c={};c.errorFields=[],e(".error",t).removeClass("error"),e(".error-inline",t).remove();var d=function(){return""!==r.val()||""!==o.val()||""!==s.val()||""!==a.val()},h=function(e,t){var n=t.test(e.val());return n===!1&&""!==e.val()&&(c.errorFields.push(e),c.errorText=e.data("error_message")),n};if(c.status=d()&&(h(r,l)||h(o,l)||h(s,u)||""!==a.val()),e(c.errorFields).each(function(e,t){t.parents(".spot").addClass("error").append('<span class="error-inline">'+t.data("error_message")+"</span>")}),d()===!1&&0===e(".alert-error",n).length&&"submit"===i.type){var p=e("#universal-form-error").tmpl({text:"You need to choose an image to upload or paste a link to a photo or a link to a video."},!0);t.prepend(p)}else e(".alert-error",n).remove();return c}var n=e(".universal-submit-form");0!==n.length&&(window.isiOS===!0&&e(".spot:first",n).hide(),n.attr("novalidate","novalidate").on("submit",function(n){var i=t(e(this),n);return i.status}).on("blur","#UploadFile, #PictureURLInput, #VideoUrl",function(e){var i=t(n,e);return i.status}))}),define("mods/ui/widgets",["jquery","mods/app","mods/device","libs/bootstrap-modal","libs/bootstrap-dropdown","libs/bootstrap-tooltip","libs/bootstrap-tab","libs/bootstrap-popover","libs/jquery.carousel","mods/ui/universalsubmit"],function(e,t,n){e(document).ready(function(){n.is.desktop&&e("a.js-tooltip").tooltip()}).on("click",".js-category-tag",function(){var t=e(this).data("tag");e(document).trigger("chzevent.chzTrack",{category:"category filter dropdown",action:t})}).on("click",'a[data-ajax="true"], .js-ajax-link',function(n){n.preventDefault();var i=e(this),r=i.attr("href")||null,o=i.data("method")||"POST",s=i.data("target")?e("#"+i.data("target")):null,a=i.data("confirm");return r?(e.ajax({url:r,data:t.addXSRFToken(),type:o,beforeSend:function(e){a&&(window.confirm(a)||(i.trigger("ajax.aborted"),e.abort()))},success:function(e){i.trigger("ajax.success",{response:e,$target:s,$el:i})}}),void 0):!1})}),require.config({paths:{jquery:"libs/jquery",wetpaint:"//fanconverter.wetpaint.me/1.2.0/application-fanconverter",platform:"libs/platform",splyt:"libs/splyt.all.min"},waitSeconds:180,shim:{splyt:{deps:["jquery","platform"],exports:"Splyt"},jquery:{exports:"$"}}}),require(["jquery","mods/app","mods/utils/utils","mods/device","mods/ads/manager","mods/ads/smart-banner","mods/posts/collection","mods/analytics/analytics","mods/facebook/client","mods/facebook/share","mods/registration/regcontroller","mods/keynav","mods/analytics/optimizely-shim","mods/analytics/trackers","mods/performance/eventtimer","mods/performance/framerate","mods/comments/echo-shim","mods/utils/mobile-utils","mods/navigation/navigation","mods/follow/follow","mods/slideshow/slideshowcontroller","mods/jumbotron/jumbotroncontroller","mods/jumbotron-overlay/jumbotronoverlaycontroller","mods/ads/ad-voting-widget","mods/ads/catfish","mods/ads/coullvidlinkr","mods/ads/sharethrough","mods/breakpoints","mods/utils/firefoxos-utils","mods/ads/mobile-web-interstitial","mods/visitor","mods/social","mods/ui/stickySidebar","mods/ab-testing/ab-tester","mods/skins","mods/analytics/optimizely-engagement","mods/ui/widgets"],function(e,t,n,i,r,o,s,a,l,u,c,d,h,p,f,m,g,v,y,b,w,x,k,_,C,T,S,E,$,j,D,A,N,M){f.timerStart("mainExecution",window.__perfReqMainStart);var P=t.getConfig(),O=n.parseQueryString(window.location.search);O.enablePerformanceLogging&&(P.EnablePerformanceLogging=!0,P.EnableFrameRateLogging=!0),P.EnablePerformanceLogging&&f.listen(),t.setup(),j.setup(),r.setup(),C.setup(),T.setup(),g.setup(),a.setup({gaAcctId:P.GAAcctId}).listen(),p.setup({cookieDomain:P.CookieHostname}).listen(),h.loadOptimizely(),c.setup(),b.setup().listen(),w.setup(),x.setup(),S.setup(),$.setup(),D.setup(),A.setup(),v.listen(),y.listen(),_.setup(),e(document).ready(function(){f.timerMark("jQueryReady"),P.HasAsyncAds&&r.render(),o.listen(),l.setup(),u.setup({},e(".fbshare-container")).listen(),s.setup({endpoint:P.PathWithoutPage+"json/"}).listen(),P.ShowRegPopup&&P.IsSinglePostPage&&i.is.desktop&&e(".js-registration-btn").trigger("showRegistration"),d.setup(P.SoundUrl),P.EnableSplyt&&M.setup(P,function(){N.setup("moist")}),f.timerMark("GUIInitialized")}),P.EnableFrameRateLogging&&m.listen().start(),"true"===n.getCookie("ShowStats")&&require(["mods/performance/dashboard"],function(e){e.setup().listen()}),f.timerEnd("mainExecution")}),define("main-moist",function(){});